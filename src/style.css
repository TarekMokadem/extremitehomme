@import "tailwindcss";

@layer base {
  * {
    @apply box-border;
  }

  html {
    /* Pas de zoom sur mobile/tablette */
    zoom: 1;
  }

  /* Dézoom uniquement sur les grands écrans (desktop/caisse) */
  @media (min-width: 1024px) {
    html {
      zoom: 0.9;
    }
  }

  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    @apply text-gray-900 bg-gray-50 antialiased dark:text-gray-100 dark:bg-gray-900;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold leading-tight;
  }

  /* Scrollbars personnalisées (desktop uniquement) */
  @media (min-width: 768px) {
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      @apply bg-gray-100 dark:bg-gray-800 rounded-full;
    }

    ::-webkit-scrollbar-thumb {
      @apply bg-gray-300 dark:bg-gray-600 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
      @apply bg-gray-400 dark:bg-gray-500;
    }
  }

  /* États de focus visibles pour l'accessibilité */
  *:focus-visible {
    @apply outline-none ring-2 ring-gray-900 ring-offset-2 dark:ring-emerald-500 dark:ring-offset-gray-900;
  }

  button:focus-visible {
    @apply outline-none ring-2 ring-gray-900 ring-offset-2 dark:ring-emerald-500 dark:ring-offset-gray-900;
  }
}

@layer components {
  /* Carte générique */
  .card {
    @apply bg-white rounded-xl md:rounded-2xl shadow-sm border border-gray-200;
    @apply dark:bg-gray-800 dark:border-gray-700 dark:shadow-none;
  }

  /* Boutons primaires */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-1.5 md:gap-2;
    @apply px-4 md:px-6 py-2.5 md:py-3 rounded-xl;
    @apply bg-gray-900 text-white font-medium;
    @apply hover:bg-gray-800 active:scale-[0.98];
    @apply dark:bg-emerald-600 dark:hover:bg-emerald-500 dark:disabled:hover:bg-emerald-600;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-900;
    @apply transition-all duration-200;
  }

  /* Boutons secondaires */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-1.5 md:gap-2;
    @apply px-4 md:px-6 py-2.5 md:py-3 rounded-xl;
    @apply bg-white border border-gray-300 text-gray-700 font-medium;
    @apply hover:bg-gray-50 active:scale-[0.98];
    @apply dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply transition-all duration-200;
  }

  /* Boutons icônes compacts */
  .btn-icon-sm {
    @apply inline-flex items-center justify-center;
    @apply p-2.5 md:p-3 rounded-xl;
    @apply bg-white border border-gray-300 text-gray-700;
    @apply hover:bg-gray-50 active:scale-95;
    @apply dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply transition-all duration-200;
  }

  /* Boutons de catégorie */
  .category-btn {
    @apply px-3 md:px-4 py-2 md:py-2.5 rounded-xl;
    @apply text-xs md:text-sm font-medium;
    @apply bg-white border border-gray-300 text-gray-700;
    @apply hover:bg-gray-100 hover:border-gray-400;
    @apply dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600;
    @apply transition-all duration-200;
  }

  .category-btn.active {
    @apply bg-gray-900 text-white border-gray-900 dark:bg-emerald-600 dark:border-emerald-600;
  }

  /* Boutons de paiement */
  .payment-btn {
    @apply inline-flex flex-col items-center justify-center gap-1 md:gap-2;
    @apply p-2 md:p-3 rounded-xl;
    @apply text-[10px] md:text-xs font-medium;
    @apply bg-white border border-gray-300 text-gray-700;
    @apply hover:bg-gray-50 hover:border-gray-400;
    @apply dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600;
    @apply transition-all duration-200;
  }

  .payment-btn.active {
    @apply bg-gray-900 text-white border-gray-900 dark:bg-emerald-600 dark:border-emerald-600;
  }

  /* Élément de panier */
  .cart-item {
    @apply p-3 md:p-4 rounded-xl bg-gray-50 border border-gray-200;
    @apply hover:bg-gray-100 transition-colors duration-200;
    @apply dark:bg-gray-700 dark:border-gray-600 dark:hover:bg-gray-600;
  }
}

@layer utilities {
  /* Utilitaires pour la typographie */
  .text-balance {
    text-wrap: balance;
  }

  /* Utilitaires pour les nombres tabulaires (alignement des chiffres) */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Masquer les flèches des inputs number */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }
}
