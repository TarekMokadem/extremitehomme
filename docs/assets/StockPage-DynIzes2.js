import{c as rt,a as $,r as y,s as D,d as St,u as Mt,w as Te,D as Et,e as d,f as t,k as w,m as I,j as k,l as A,g as s,P as Ze,n as v,H as Ye,y as g,F as S,h as B,z as c,t as n,G as ke,B as ae,A as le,x as ve,C as Xe,q as l}from"./index-CmA_YBSG.js";import{R as de}from"./refresh-cw-DrNKGNc5.js";import{P as Je}from"./plus-q9enHHfU.js";import{C as $t,a as Vt,b as Pt,c as At}from"./chevrons-right-CUSmLpgm.js";import{X as fe}from"./x--m-Ig4-I.js";import{C as et,a as tt}from"./circle-arrow-up-Cfij7h0G.js";import{P as Tt}from"./printer-Cpz3rRt9.js";const Ue=rt("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Ut=rt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),he=y([]),qe=y([]),Ne=y([]),ne=y(!1),H=y(!1);function qt(){const x=async()=>{ne.value=!0;try{const{data:i,error:b}=await D.from("products").select("*, category:categories(id, name, slug)").eq("type","product").order("display_order");if(b)throw b;he.value=(i||[]).map(f=>({...f,stock_technical:f.stock_technical??0}))}catch(i){console.error("Erreur chargement produits (stock):",i),he.value=[]}finally{ne.value=!1}},_=async i=>{ne.value=!0;try{let b=D.from("stock_movements").select("*").order("created_at",{ascending:!1}).limit(i?100:200);i&&(b=b.eq("product_id",i));const{data:f,error:E}=await b;if(E)throw E;Ne.value=(f||[]).map(j=>({...j,stock_type:j.stock_type??"sale"}))}catch(b){console.error("Erreur chargement mouvements:",b),Ne.value=[]}finally{ne.value=!1}},T=async i=>{const{product_id:b,type:f,reason:E,reference_id:j=null,vendor_id:_e=null,stock_type:q="sale"}=i;let C=i.quantity;const Y=q==="technical"?"stock_technical":"stock",{data:X}=await D.from("products").select(`${Y}, stock, stock_technical`).eq("id",b).single(),F=X?.[Y]??0;let z;f==="adjustment"?(z=Math.max(0,C),C=z-F):(f==="out"&&C>0&&(C=-C),f==="in"&&C<0&&(C=Math.abs(C)),z=Math.max(0,F+C)),H.value=!0;try{const{error:ue}=await D.from("stock_movements").insert({product_id:b,variant_id:null,type:f,quantity:C,reason:E,reference_id:j,vendor_id:_e,stock_type:q});if(ue)throw ue;const{error:h}=await D.from("products").update({[Y]:z,updated_at:new Date().toISOString()}).eq("id",b);if(h)throw h;await x(),await _(b)}finally{H.value=!1}},p=async()=>{try{const{data:i,error:b}=await D.from("categories").select("*").eq("is_active",!0).order("display_order");if(b)throw b;qe.value=i||[]}catch(i){console.error("Erreur chargement catégories:",i),qe.value=[]}},U=async i=>{H.value=!0;try{const{error:b}=await D.from("products").insert({name:i.name,code:i.code||null,description:null,category_id:i.category_id||null,brand:i.brand??null,model:i.model??null,barcode:i.barcode?.trim()||null,location:i.location??null,type:"product",price_ht:i.price_ht,price_ttc:i.price_ttc,tva_rate:i.tva_rate??.2,size:i.size||null,duration:null,stock:i.stock??0,stock_technical:i.stock_technical??0,alert_threshold:i.alert_threshold??5,is_active:!0,display_order:999});if(b)throw b;await x()}finally{H.value=!1}},G=async(i,b)=>{H.value=!0;try{const{error:f}=await D.from("products").update({alert_threshold:Math.max(0,b),updated_at:new Date().toISOString()}).eq("id",i);if(f)throw f;await x()}finally{H.value=!1}},Z=async(i,b)=>{H.value=!0;try{const f=b?.trim()||null,{error:E}=await D.from("products").update({barcode:f,updated_at:new Date().toISOString()}).eq("id",i);if(E)throw E;await x()}finally{H.value=!1}},M=async(i,b)=>{H.value=!0;try{const{error:f}=await D.from("products").update({...b,updated_at:new Date().toISOString()}).eq("id",i);if(f)throw f;await x()}finally{H.value=!1}},K=$(()=>he.value),ie=$(()=>he.value.filter(i=>i.stock<=i.alert_threshold));return{productsWithStock:K,productsOnly:K,lowStockList:ie,categories:qe,movements:Ne,loadProducts:x,loadCategories:p,loadMovements:_,addMovement:T,createProduct:U,updateAlertThreshold:G,updateBarcode:Z,updateProduct:M,isLoading:ne,isSaving:H}}function Nt(){let x="200";for(let p=0;p<9;p++)x+=Math.floor(Math.random()*10).toString();let _=0;for(let p=0;p<12;p++)_+=parseInt(x[p])*(p%2===0?1:3);const T=(10-_%10)%10;return x+T.toString()}function we(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function jt(x){let _="";for(let T=0;T<x.length;T++){const p=parseInt(x[T])||0,U=1+p%3;T%2===0?_+=`<div class="bar" style="width:${U}px;height:${14+p}px"></div>`:_+=`<div class="space" style="width:${U}px;height:${14+p}px"></div>`}return _}function zt(x,_=24){const T=(x.price_ttc??0).toFixed(2),p=x.barcode||"",U=p?jt(p):"";let G="";for(let K=0;K<_;K++)G+=`<div class="label">
  <div class="price">${T} &euro;</div>
  ${x.size?`<div class="size">Taille : ${we(x.size)}</div>`:""}
  <div class="name">${we(x.name)}</div>
  ${x.brand?`<div class="brand">${we(x.brand)}</div>`:""}
  ${U?`<div class="barcode-visual">${U}</div>`:""}
  ${p?`<div class="barcode-num">${p}</div>`:""}
</div>
`;const Z=`<!DOCTYPE html>
<html><head><meta charset="utf-8">
<title>Étiquettes - ${we(x.name)}</title>
<style>
@page { size: A4; margin: 5mm; }
body { margin: 0; padding: 0; }
.labels-grid { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(8, 1fr); width: 210mm; height: 297mm; gap: 0; }
.label { display: flex; flex-direction: column; align-items: center; justify-content: center; border: 0.5px dashed #ccc; padding: 2mm; text-align: center; font-family: Arial, sans-serif; overflow: hidden; }
.label .price { font-size: 16pt; font-weight: bold; }
.label .size { font-size: 12pt; }
.label .name { font-size: 8pt; }
.label .brand { font-size: 7pt; color: #555; }
.label .barcode-num { font-size: 8pt; font-family: monospace; }
.label .barcode-visual { display: flex; align-items: flex-end; justify-content: center; height: 20px; gap: 0; margin: 2px 0; }
.label .barcode-visual .bar { background: #000; }
.label .barcode-visual .space { background: #fff; }
</style>
</head><body>
<div class="labels-grid">
${G}
</div>
</body></html>`,M=window.open("","_blank");M&&(M.document.write(Z),M.document.close(),M.onload=()=>{M.print()})}const Lt={class:"flex-1 px-3 py-4 lg:px-4 lg:py-6 overflow-auto bg-gray-50 dark:bg-gray-900"},It={class:"max-w-7xl mx-auto space-y-6"},Bt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ht={class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},Dt=["disabled"],Rt={class:"flex rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden bg-white dark:bg-gray-800"},Ft={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},Ot={class:"flex flex-wrap items-center gap-3"},Gt={class:"flex rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden"},Kt=["onClick"],Qt={key:1,class:"flex justify-center py-20"},Wt={key:2,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Zt={class:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Yt=["disabled"],Xt={class:"overflow-x-auto"},Jt={class:"w-full text-left"},er={class:"divide-y divide-gray-100 dark:divide-gray-700"},tr={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},rr={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},ar={class:"px-4 py-3"},lr={class:"px-4 py-3"},or={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},sr={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},dr={key:3,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},nr={class:"overflow-x-auto lg:overflow-x-visible"},ir={class:"w-full text-left table-fixed"},ur={class:"divide-y divide-gray-100 dark:divide-gray-700"},gr={class:"px-3 py-3 w-[13%]"},yr={class:"flex items-center gap-2 min-w-0"},cr=["title"],br={class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300 w-[4%]"},xr={class:"px-3 py-3 text-sm text-gray-500 dark:text-gray-400 w-[5%]"},mr={class:"px-3 py-3 text-sm w-[9%] min-w-0"},pr=["title"],kr=["onClick"],vr=["title"],fr=["title"],hr=["title"],wr=["title"],_r={class:"px-3 py-3 text-center font-semibold w-[4%] text-blue-600 dark:text-blue-400"},Cr={class:"px-3 py-3 text-center w-[5%]"},Sr={key:0,class:"flex items-center justify-center gap-2"},Mr={class:"text-gray-600 dark:text-gray-300"},Er=["onClick"],$r={class:"px-3 py-3 w-[30%]"},Vr={class:"flex items-center gap-2 flex-wrap"},Pr=["onClick"],Ar=["onClick"],Tr=["onClick"],Ur=["onClick"],qr={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},Nr={key:1,class:"flex flex-wrap items-center justify-between gap-4 px-4 py-3 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50"},jr={class:"flex items-center gap-3"},zr={class:"text-sm text-gray-600 dark:text-gray-400"},Lr=["value"],Ir={class:"flex items-center gap-2"},Br=["max"],Hr={class:"text-sm text-gray-600 dark:text-gray-400"},Dr=["disabled"],Rr=["disabled"],Fr={class:"flex gap-1"},Or=["onClick"],Gr=["disabled"],Kr=["disabled"],Qr={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},Wr={class:"flex items-center justify-between mb-4"},Zr={class:"text-sm text-gray-600 dark:text-gray-300 mb-4"},Yr={class:"space-y-4"},Xr={class:"flex rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden"},Jr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ea=["min","placeholder"],ta={class:"flex gap-3 mt-6"},ra=["disabled"],aa={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},la={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},oa={class:"text-lg font-semibold text-gray-900 dark:text-white"},sa={class:"p-6 overflow-y-auto flex-1"},da={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},na={key:1,class:"space-y-2"},ia={class:"flex items-center gap-3"},ua={class:"text-sm font-medium text-gray-900 dark:text-white"},ga={class:"text-xs text-gray-500 dark:text-gray-400"},ya={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 overflow-y-auto"},ca={class:"flex items-center justify-between mb-6"},ba={class:"space-y-4"},xa={key:0},ma={class:"flex gap-2"},pa=["value"],ka={key:1,class:"space-y-2"},va={key:0,class:"flex gap-2 mb-2"},fa={class:"flex flex-wrap gap-2"},ha=["onClick"],wa={key:2,class:"space-y-2"},_a={class:"text-sm font-semibold text-gray-900 dark:text-white min-w-[60px]"},Ca={class:"flex-1"},Sa={class:"flex gap-1"},Ma=["onUpdate:modelValue"],Ea=["onClick"],$a={class:"w-20"},Va=["onUpdate:modelValue"],Pa={class:"grid grid-cols-2 gap-4"},Aa={class:"grid grid-cols-2 gap-4"},Ta={key:3,class:"grid grid-cols-3 gap-4"},Ua={key:4},qa={class:"flex gap-3 mt-6"},Na=["disabled"],ja={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 overflow-y-auto"},za={class:"flex items-center justify-between mb-6"},La={class:"space-y-4"},Ia={class:"flex gap-2"},Ba=["value"],Ha={key:0,class:"space-y-2"},Da={key:0,class:"flex gap-2 mb-2"},Ra={class:"flex flex-wrap gap-2"},Fa=["onClick"],Oa={class:"grid grid-cols-2 gap-4"},Ga={class:"grid grid-cols-2 gap-4"},Ka={class:"flex gap-3 mt-6"},Qa=["disabled"],rl=St({__name:"StockPage",setup(x){const{productsWithStock:_,lowStockList:T,categories:p,movements:U,loadProducts:G,loadCategories:Z,loadMovements:M,addMovement:K,createProduct:ie,updateProduct:i,updateAlertThreshold:b,updateBarcode:f,isLoading:E,isSaving:j}=qt(),{vendor:_e}=Mt(),q=y("products"),C=y("all"),Y=$(()=>C.value==="alert"?T.value:_.value),X=y(""),F=$(()=>{const a=X.value.trim().toLowerCase();return a?Y.value.filter(e=>e.name.toLowerCase().includes(a)||e.code&&e.code.toLowerCase().includes(a)||e.barcode&&e.barcode.toLowerCase().includes(a)||e.brand&&e.brand.toLowerCase().includes(a)||e.model&&e.model.toLowerCase().includes(a)||e.location&&e.location.toLowerCase().includes(a)):Y.value}),z=y(25),ue=[25,50,100],h=y(1),Q=$(()=>Math.max(1,Math.ceil(F.value.length/z.value))),Ce=$(()=>{const a=F.value.length,e=z.value,r=h.value,m=a===0?0:(r-1)*e+1,se=Math.min(r*e,a);return{from:m,to:se,total:a}}),at=$(()=>{const a=Q.value,e=h.value,r=2,m=[];for(let se=Math.max(1,e-r);se<=Math.min(a,e+r);se++)m.push(se);return m}),lt=$(()=>{const a=(h.value-1)*z.value;return F.value.slice(a,a+z.value)}),J=a=>{h.value=Math.max(1,Math.min(a,Q.value))},ge=y(""),je=()=>{ge.value=String(h.value)},ze=()=>{const a=parseInt(ge.value,10);!isNaN(a)&&a>=1&&J(a),je()};Te(h,()=>je(),{immediate:!0}),Te([C,X],()=>{h.value=1});const Se=y(!1),R=y(null),V=y("in"),W=y(1),ye=y(""),O=y("sale"),Le=$(()=>R.value?O.value==="technical"?R.value.stock_technical??0:R.value.stock:0);function ot(a){R.value=a,V.value="in",W.value=1,ye.value="",O.value="sale",Se.value=!0}function Me(){Se.value=!1,R.value=null}async function st(){if(!R.value)return;const a=W.value;if(!(V.value==="adjustment"&&a<0)&&!(a<=0&&V.value!=="adjustment"))try{const e=V.value==="in"?"Entrée stock":V.value==="out"?"Sortie stock":`Ajustement → ${a}`;await K({product_id:R.value.id,type:V.value,quantity:W.value,reason:ye.value||e,vendor_id:_e.value?.id??null,stock_type:O.value}),Me()}catch(e){alert(e instanceof Error?e.message:"Erreur lors de l'enregistrement")}}const Ee=y(!1),ce=y(null);function dt(a){ce.value=a,Ee.value=!0,M(a.id)}function nt(){q.value="history",M()}function it(){Ee.value=!1,ce.value=null}const ee=y(null),be=y(0);function ut(a){ee.value=a.id,be.value=a.alert_threshold}const te=y(null),xe=y("");function gt(a){te.value=a.id,xe.value=a.barcode||""}function Ie(){te.value=null}async function Be(){if(te.value)try{await f(te.value,xe.value||null),te.value=null}catch(a){alert(a instanceof Error?a.message:"Erreur")}}function yt(){ee.value=null}async function He(){if(ee.value)try{await b(ee.value,be.value),ee.value=null}catch(a){alert(a instanceof Error?a.message:"Erreur")}}const De=a=>new Date(a).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),ct=a=>_.value.find(e=>e.id===a)?.name??"Produit inconnu",bt=(a,e)=>{const r=Math.abs(e);return a==="in"?`+${r}`:a==="out"?`-${r}`:e>=0?`+${e}`:`${e}`},xt=a=>a==="technical"?"Technique":"Vente",Re=["chaussures","boots","bottines","mocassins","souliers","tennis","baskets"],mt=[36,36.5,37,37.5,38,38.5,39,39.5,40,40.5,41,41.5,42,42.5,43,43.5,44,44.5,45,45.5,46,46.5,47],pt=[{fr:36,uk:3},{fr:37,uk:4},{fr:38,uk:5},{fr:39,uk:6},{fr:40,uk:6.5},{fr:40.5,uk:7},{fr:41,uk:7.5},{fr:42,uk:8},{fr:42.5,uk:8.5},{fr:43,uk:9},{fr:43.5,uk:9.5},{fr:44,uk:10},{fr:45,uk:10.5},{fr:45.5,uk:11},{fr:46,uk:11.5},{fr:47,uk:12}],kt=[90,95,100,105,110,115,120,125,130],Fe=$(()=>{const a=pe.value?o.value.category_id:u.value.category_id;return p.value.find(e=>e.id===a)?.slug||""}),Oe=$(()=>Re.includes(Fe.value)),L=y("fr"),re=y(null),P=y([]),N=y({}),me=$(()=>{const a=Fe.value;return Re.includes(a)?L.value==="fr"?mt.map(e=>String(e)):pt.map(e=>`${e.fr} (${e.uk} UK)`):a==="ceintures"?kt.map(e=>String(e)):a&&!["echarpes","chaussettes","ceintures-tressees"].includes(a)?["TU"]:[]}),pe=y(!1),o=y({name:"",code:"",barcode:"",category_id:"",brand:"",model:"",location:"",price_ht:0,price_ttc:0,tva_rate:.2,stock:0,stock_technical:0,alert_threshold:5}),Ge=y(null);function vt(){o.value={name:"",code:"",barcode:"",category_id:"",brand:"",model:"",location:"",price_ht:0,price_ttc:0,tva_rate:.2,stock:0,stock_technical:0,alert_threshold:5},re.value=null,P.value=[],N.value={},L.value="fr",pe.value=!0,Z(),Xe(()=>Ge.value?.focus())}function $e(){pe.value=!1}const Ke=$({get:()=>{const a=Number(o.value.price_ht)||0,e=Number(o.value.price_ttc)||0;return a>0?e/a:1.2},set:a=>{const e=Number(o.value.price_ht)||0;o.value.price_ttc=e>0?e*a:0}}),Qe=$({get:()=>{const a=Number(u.value.price_ht)||0,e=Number(u.value.price_ttc)||0;return a>0?e/a:1.2},set:a=>{const e=Number(u.value.price_ht)||0;u.value.price_ttc=e>0?e*a:0}});function ft(a){re.value=re.value===a?null:a}function ht(a){const e=P.value.indexOf(a);e>=0?(P.value.splice(e,1),delete N.value[a]):(P.value.push(a),N.value[a]||(N.value[a]={barcode:"",stock:0}))}function Ve(a){const e=Nt();a==="new"?o.value.barcode=e:a==="edit"?u.value.barcode=e:N.value[a]&&(N.value[a].barcode=e)}async function wt(){if(!o.value.name.trim()){alert("Nom du produit requis.");return}try{if(P.value.length>0)for(const e of P.value){const r=N.value[e]||{barcode:"",stock:0};await ie({name:o.value.name.trim(),code:o.value.code.trim()||null,barcode:r.barcode.trim()||null,category_id:o.value.category_id||null,brand:o.value.brand.trim()||null,model:o.value.model.trim()||null,location:o.value.location.trim()||null,price_ht:Number(o.value.price_ht)||0,price_ttc:Number(o.value.price_ttc)||0,tva_rate:.2,size:e,stock:Math.max(0,Number(r.stock)||0),stock_technical:0,alert_threshold:Math.max(0,Number(o.value.alert_threshold)||5)})}else await ie({name:o.value.name.trim(),code:o.value.code.trim()||null,barcode:o.value.barcode.trim()||null,category_id:o.value.category_id||null,brand:o.value.brand.trim()||null,model:o.value.model.trim()||null,location:o.value.location.trim()||null,price_ht:Number(o.value.price_ht)||0,price_ttc:Number(o.value.price_ttc)||0,tva_rate:.2,size:null,stock:Math.max(0,Number(o.value.stock)||0),stock_technical:Math.max(0,Number(o.value.stock_technical)||0),alert_threshold:Math.max(0,Number(o.value.alert_threshold)||5)});$e()}catch(a){alert(a instanceof Error?a.message:"Erreur lors de l'enregistrement")}}const Pe=y(!1),oe=y(null),u=y({name:"",code:"",barcode:"",category_id:"",brand:"",model:"",location:"",price_ht:0,price_ttc:0,tva_rate:.2,alert_threshold:5}),We=y(null);function _t(a){oe.value=a;const e=a.price_ttc??a.price_ht*(1+(a.tva_rate??.2));u.value={name:a.name,code:a.code||"",barcode:a.barcode||"",category_id:a.category_id||"",brand:a.brand||"",model:a.model||"",location:a.location||"",price_ht:a.price_ht,price_ttc:e,tva_rate:a.tva_rate??.2,alert_threshold:a.alert_threshold??5},re.value=a.size??null,L.value="fr",Pe.value=!0,Z(),Xe(()=>We.value?.focus())}function Ae(){Pe.value=!1,oe.value=null}async function Ct(){if(!(!oe.value||!u.value.name.trim()))try{await i(oe.value.id,{name:u.value.name.trim(),code:u.value.code.trim()||null,barcode:u.value.barcode.trim()||null,category_id:u.value.category_id||null,brand:u.value.brand.trim()||null,model:u.value.model.trim()||null,location:u.value.location.trim()||null,price_ht:Number(u.value.price_ht)||0,price_ttc:Number(u.value.price_ttc)||0,tva_rate:.2,size:re.value||null,alert_threshold:Math.max(0,Number(u.value.alert_threshold)||5)}),Ae()}catch(a){alert(a instanceof Error?a.message:"Erreur lors de la mise à jour")}}return Te(q,a=>{a==="history"&&M()}),Et(()=>{G(),q.value==="history"&&M()}),(a,e)=>(l(),d("main",Lt,[t("div",It,[t("div",Bt,[t("div",null,[t("h1",Ht,[k(s(Ze),{class:"w-7 h-7 text-gray-600 dark:text-gray-400"}),e[54]||(e[54]=A(" Gestion du stock ",-1))]),e[55]||(e[55]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Produits, mouvements et alertes",-1))]),t("button",{onClick:e[0]||(e[0]=r=>{s(G)(),s(M)()}),disabled:s(E),class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 transition-colors disabled:opacity-50"},[k(s(de),{class:v(["w-4 h-4",s(E)&&"animate-spin"])},null,8,["class"]),e[56]||(e[56]=A(" Actualiser ",-1))],8,Dt)]),t("div",Rt,[t("button",{onClick:e[1]||(e[1]=r=>q.value="products"),class:v(["flex-1 px-6 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2",q.value==="products"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},[k(s(Ze),{class:"w-4 h-4"}),e[57]||(e[57]=A(" Produits ",-1))],2),t("button",{onClick:nt,class:v(["flex-1 px-6 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2",q.value==="history"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},[k(s(Ye),{class:"w-4 h-4"}),e[58]||(e[58]=A(" Historique global ",-1))],2)]),q.value==="products"?(l(),d("div",Ft,[t("div",Ot,[t("div",Gt,[(l(),d(S,null,B([{id:"all",label:"Tous"},{id:"alert",label:"Alerte stock"}],r=>t("button",{key:r.id,onClick:m=>C.value=r.id,class:v(["px-4 py-2 text-sm font-medium transition-colors",C.value===r.id?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},n(r.label),11,Kt)),64))]),t("button",{onClick:vt,class:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 dark:hover:bg-emerald-500"},[k(s(Je),{class:"w-4 h-4"}),e[59]||(e[59]=A(" Ajouter un produit ",-1))]),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>X.value=r),type:"text",placeholder:"Rechercher un produit...",class:"flex-1 min-w-[200px] px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl text-sm focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,X.value]])])])):w("",!0),s(E)&&(q.value!=="products"||s(_).length===0)?(l(),d("div",Qt,[k(s(de),{class:"w-8 h-8 text-gray-400 dark:text-gray-500 animate-spin"})])):q.value==="history"?(l(),d("div",Wt,[t("div",Zt,[e[61]||(e[61]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider"},"Tous les mouvements de stock",-1)),t("button",{onClick:e[3]||(e[3]=r=>s(M)()),disabled:s(E),class:"inline-flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50"},[k(s(de),{class:v(["w-4 h-4",s(E)&&"animate-spin"])},null,8,["class"]),e[60]||(e[60]=A(" Actualiser ",-1))],8,Yt)]),t("div",Xt,[t("table",Jt,[e[62]||(e[62]=t("thead",{class:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},[t("tr",null,[t("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Date"),t("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Produit"),t("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Stock"),t("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Type"),t("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Quantité"),t("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Motif")])],-1)),t("tbody",er,[(l(!0),d(S,null,B(s(U),r=>(l(),d("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[t("td",tr,n(De(r.created_at)),1),t("td",rr,n(ct(r.product_id)),1),t("td",ar,[t("span",{class:v(["inline-flex px-2 py-0.5 rounded text-xs font-medium",r.stock_type==="technical"?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])},n(xt(r.stock_type)),3)]),t("td",lr,[t("span",{class:v(["inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium",r.type==="in"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":r.type==="out"?"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[r.type==="in"?(l(),I(s(et),{key:0,class:"w-3.5 h-3.5"})):r.type==="out"?(l(),I(s(tt),{key:1,class:"w-3.5 h-3.5"})):(l(),I(s(de),{key:2,class:"w-3.5 h-3.5"})),A(" "+n(r.type==="in"?"Entrée":r.type==="out"?"Sortie":"Ajustement"),1)],2)]),t("td",{class:v(["px-4 py-3 font-semibold",r.quantity>0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"])},n(r.quantity>0?"+":"")+n(r.quantity),3),t("td",or,n(r.reason||"—"),1)]))),128))])])]),s(U).length===0?(l(),d("p",sr," Aucun mouvement enregistré. ")):w("",!0)])):(l(),d("div",dr,[t("div",nr,[t("table",ir,[e[67]||(e[67]=t("thead",{class:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},[t("tr",null,[t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[13%]"},"Produit"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[4%]"},"Taille"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[5%]"},"Code"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[9%]"},"Code-barres"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[7%]"},"Marque"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[6%]"},"Modèle"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[7%]"},"Catégorie"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[6%]"},"Empl."),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider text-center w-[4%]",title:"Stock de vente"},"Vente"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider text-center w-[4%]",title:"Stock technique"},"Tech."),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider text-center w-[5%]"},"Seuil"),t("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider w-[30%]"},"Actions")])],-1)),t("tbody",ur,[(l(!0),d(S,null,B(lt.value,r=>(l(),d("tr",{key:r.id,class:v(["hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",{"bg-amber-50 dark:bg-amber-900/20":r.stock<=r.alert_threshold}])},[t("td",gr,[t("div",yr,[t("span",{class:"font-medium text-gray-900 dark:text-white truncate",title:r.name},n(r.name),9,cr),r.stock<=r.alert_threshold?(l(),I(s(Ut),{key:0,class:"w-4 h-4 text-amber-500 shrink-0"})):w("",!0)])]),t("td",br,n(r.size||"—"),1),t("td",xr,n(r.code||"—"),1),t("td",mr,[te.value===r.id?(l(),d(S,{key:0},[g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=m=>xe.value=m),type:"text",class:"w-full max-w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm box-border",placeholder:"EAN...",onKeydown:[ae(Be,["enter"]),ae(Ie,["escape"])]},null,544),[[c,xe.value]]),t("div",{class:"flex gap-1 mt-1 flex-wrap"},[t("button",{type:"button",onClick:Be,class:"text-xs text-emerald-600 hover:underline"},"OK"),t("button",{type:"button",onClick:Ie,class:"text-xs text-gray-500 hover:underline"},"Annuler")])],64)):(l(),d(S,{key:1},[t("span",{class:"text-gray-600 dark:text-gray-300 truncate block",title:r.barcode||""},n(r.barcode||"—"),9,pr),t("button",{type:"button",onClick:m=>gt(r),class:"mt-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-xs shrink-0",title:"Modifier le code-barres"},[k(s(Ue),{class:"w-3.5 h-3.5 inline"})],8,kr)],64))]),t("td",{class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300 w-[7%] truncate",title:r.brand||""},n(r.brand||"—"),9,vr),t("td",{class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300 w-[6%] truncate",title:r.model||""},n(r.model||"—"),9,fr),t("td",{class:"px-3 py-3 text-sm text-gray-500 dark:text-gray-400 w-[7%] truncate",title:r.category?.name||""},n(r.category?.name||"—"),9,hr),t("td",{class:"px-3 py-3 text-sm text-gray-500 dark:text-gray-400 w-[6%] truncate",title:r.location||""},n(r.location||"—"),9,wr),t("td",{class:v(["px-3 py-3 text-center font-semibold w-[4%]",r.stock<=r.alert_threshold?"text-amber-600 dark:text-amber-400":"text-gray-900 dark:text-white"])},n(r.stock),3),t("td",_r,n(r.stock_technical??0),1),t("td",Cr,[ee.value===r.id?(l(),d("div",Sr,[g(t("input",{"onUpdate:modelValue":e[5]||(e[5]=m=>be.value=m),type:"number",min:"0",class:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm text-center",onKeydown:ae(He,["enter"])},null,544),[[c,be.value,void 0,{number:!0}]]),t("button",{onClick:He,class:"text-emerald-600 hover:underline text-sm"},"OK"),t("button",{onClick:yt,class:"text-gray-500 hover:underline text-sm"},"Annuler")])):(l(),d(S,{key:1},[t("span",Mr,n(r.alert_threshold),1),t("button",{onClick:m=>ut(r),class:"ml-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 inline-flex",title:"Modifier le seuil"},[k(s(Ue),{class:"w-3.5 h-3.5"})],8,Er)],64))]),t("td",$r,[t("div",Vr,[t("button",{onClick:m=>ot(r),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Ajouter un mouvement"},[k(s(Je),{class:"w-3.5 h-3.5"}),e[63]||(e[63]=A(" Mouvement ",-1))],8,Pr),t("button",{onClick:m=>dt(r),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Historique"},[k(s(Ye),{class:"w-3.5 h-3.5"}),e[64]||(e[64]=A(" Historique ",-1))],8,Ar),t("button",{onClick:m=>_t(r),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Modifier le produit"},[k(s(Ue),{class:"w-3.5 h-3.5"}),e[65]||(e[65]=A(" Modifier ",-1))],8,Tr),t("button",{onClick:m=>s(zt)(r),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Imprimer étiquettes"},[k(s(Tt),{class:"w-3.5 h-3.5"}),e[66]||(e[66]=A(" Étiquettes ",-1))],8,Ur)])])],2))),128))])])]),F.value.length===0?(l(),d("p",qr," Aucun produit à afficher. ")):w("",!0),!s(E)&&F.value.length>0?(l(),d("div",Nr,[t("div",jr,[t("span",zr,n(Ce.value.from)+"-"+n(Ce.value.to)+" sur "+n(Ce.value.total)+" produits ",1),e[68]||(e[68]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Par page",-1)),g(t("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>z.value=r),class:"px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm dark:text-gray-100"},[(l(),d(S,null,B(ue,r=>t("option",{key:r,value:r},n(r),9,Lr)),64))],512),[[ke,z.value,void 0,{number:!0}]])]),t("div",Ir,[e[69]||(e[69]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Page",-1)),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>ge.value=r),type:"number",min:"1",max:Q.value,onKeydown:ae(ze,["enter"]),onBlur:ze,class:"w-16 px-2 py-1.5 text-sm text-center bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500"},null,40,Br),[[c,ge.value]]),t("span",Hr,"/ "+n(Q.value),1),t("button",{disabled:h.value<=1,onClick:e[8]||(e[8]=r=>J(1)),title:"Première page",class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[k(s($t),{class:"w-5 h-5"})],8,Dr),t("button",{disabled:h.value<=1,onClick:e[9]||(e[9]=r=>J(h.value-1)),class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[k(s(Vt),{class:"w-5 h-5"})],8,Rr),t("div",Fr,[(l(!0),d(S,null,B(at.value,r=>(l(),d("button",{key:r,onClick:m=>J(r),class:v(["min-w-[2.25rem] px-2 py-1.5 text-sm font-medium rounded-lg transition-colors",h.value===r?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"])},n(r),11,Or))),128))]),t("button",{disabled:h.value>=Q.value,onClick:e[10]||(e[10]=r=>J(h.value+1)),class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[k(s(Pt),{class:"w-5 h-5"})],8,Gr),t("button",{disabled:h.value>=Q.value,onClick:e[11]||(e[11]=r=>J(Q.value)),title:"Dernière page",class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[k(s(At),{class:"w-5 h-5"})],8,Kr)])])):w("",!0)])),(l(),I(ve,{to:"body"},[Se.value&&R.value?(l(),d("div",Qr,[t("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md w-full p-6 border border-gray-200 dark:border-gray-700",onClick:e[17]||(e[17]=le(()=>{},["stop"]))},[t("div",Wr,[e[70]||(e[70]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Mouvement de stock",-1)),t("button",{onClick:Me,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[k(s(fe),{class:"w-5 h-5"})])]),t("p",Zr,[A(n(R.value.name)+" — Stock "+n(O.value==="technical"?"technique":"vente")+" actuel : ",1),t("strong",null,n(Le.value),1)]),t("div",Yr,[t("div",null,[e[71]||(e[71]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Type de stock",-1)),t("div",Xr,[t("button",{type:"button",onClick:e[12]||(e[12]=r=>O.value="sale"),class:v(["flex-1 px-4 py-2 text-sm font-medium transition-colors",O.value==="sale"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},"Vente",2),t("button",{type:"button",onClick:e[13]||(e[13]=r=>O.value="technical"),class:v(["flex-1 px-4 py-2 text-sm font-medium transition-colors",O.value==="technical"?"bg-blue-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},"Technique",2)])]),t("div",null,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Type",-1)),g(t("select",{"onUpdate:modelValue":e[14]||(e[14]=r=>V.value=r),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},[...e[72]||(e[72]=[t("option",{value:"in"},"Entrée",-1),t("option",{value:"out"},"Sortie",-1),t("option",{value:"adjustment"},"Fixer le stock",-1)])],512),[[ke,V.value]])]),t("div",null,[t("label",Jr,n(V.value==="adjustment"?"Nouvelle valeur du stock":"Quantité"),1),g(t("input",{"onUpdate:modelValue":e[15]||(e[15]=r=>W.value=r),type:"number",min:V.value==="adjustment"?0:1,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:V.value==="adjustment"?`Actuellement : ${Le.value}`:""},null,8,ea),[[c,W.value,void 0,{number:!0}]])]),t("div",null,[e[74]||(e[74]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Motif",-1)),g(t("input",{"onUpdate:modelValue":e[16]||(e[16]=r=>ye.value=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Livraison, inventaire, perte..."},null,512),[[c,ye.value]])])]),t("div",ta,[t("button",{onClick:Me,class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),t("button",{onClick:st,disabled:s(j)||V.value!=="adjustment"&&W.value<=0||V.value==="adjustment"&&W.value<0,class:"flex-1 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},n(s(j)?"Enregistrement...":"Enregistrer"),9,ra)])])])):w("",!0)])),(l(),I(ve,{to:"body"},[Ee.value?(l(),d("div",aa,[t("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col border border-gray-200 dark:border-gray-700",onClick:e[18]||(e[18]=le(()=>{},["stop"]))},[t("div",la,[t("h3",oa," Historique des mouvements "+n(ce.value?`— ${ce.value.name}`:""),1),t("button",{onClick:it,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[k(s(fe),{class:"w-5 h-5"})])]),t("div",sa,[s(U).length===0?(l(),d("div",da," Aucun mouvement pour ce produit. ")):(l(),d("ul",na,[(l(!0),d(S,null,B(s(U),r=>(l(),d("li",{key:r.id,class:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0"},[t("div",ia,[t("span",{class:v(["inline-flex items-center justify-center w-8 h-8 rounded-full",r.type==="in"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":r.type==="out"?"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[r.type==="in"?(l(),I(s(et),{key:0,class:"w-4 h-4"})):r.type==="out"?(l(),I(s(tt),{key:1,class:"w-4 h-4"})):(l(),I(s(de),{key:2,class:"w-4 h-4"}))],2),t("div",null,[t("p",ua,n(bt(r.type,r.quantity))+" — "+n(r.reason),1),t("p",ga,n(De(r.created_at)),1)])]),t("span",{class:v(["font-semibold",r.quantity>0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"])},n(r.quantity>0?"+":"")+n(r.quantity),3)]))),128))]))])])])):w("",!0)])),(l(),I(ve,{to:"body"},[pe.value?(l(),d("div",ya,[t("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-lg w-full my-8 p-6 border border-gray-200 dark:border-gray-700",onClick:e[37]||(e[37]=le(()=>{},["stop"]))},[t("div",ca,[e[75]||(e[75]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Nouveau produit",-1)),t("button",{onClick:$e,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[k(s(fe),{class:"w-5 h-5"})])]),t("div",ba,[P.value.length===0?(l(),d("div",xa,[e[76]||(e[76]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code-barres",-1)),t("div",ma,[g(t("input",{ref_key:"barcodeInputRef",ref:Ge,"onUpdate:modelValue":e[19]||(e[19]=r=>o.value.barcode=r),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Scannez ici ou saisissez (EAN…)",onKeydown:e[20]||(e[20]=ae(le(()=>{},["prevent"]),["enter"]))},null,544),[[c,o.value.barcode]]),t("button",{type:"button",onClick:e[21]||(e[21]=r=>Ve("new")),class:"px-3 py-2 text-sm bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-500 whitespace-nowrap"}," Générer ")]),e[77]||(e[77]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Scannez ou saisissez le code-barres. Cliquez « Générer » pour un EAN-13 interne.",-1))])):w("",!0),t("div",null,[e[78]||(e[78]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nom *",-1)),g(t("input",{"onUpdate:modelValue":e[22]||(e[22]=r=>o.value.name=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Mocassin cuir"},null,512),[[c,o.value.name]])]),t("div",null,[e[79]||(e[79]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code",-1)),g(t("input",{"onUpdate:modelValue":e[23]||(e[23]=r=>o.value.code=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. MOC01"},null,512),[[c,o.value.code]])]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Catégorie",-1)),g(t("select",{"onUpdate:modelValue":e[24]||(e[24]=r=>o.value.category_id=r),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},[e[80]||(e[80]=t("option",{value:""},"— Choisir —",-1)),(l(!0),d(S,null,B(s(p),r=>(l(),d("option",{key:r.id,value:r.id},n(r.name),9,pa))),128))],512),[[ke,o.value.category_id]])]),me.value.length>0?(l(),d("div",ka,[e[82]||(e[82]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[A("Tailles "),t("span",{class:"text-xs text-gray-400 font-normal"},"(sélection multiple)")],-1)),Oe.value?(l(),d("div",va,[t("button",{type:"button",onClick:e[25]||(e[25]=r=>L.value="fr"),class:v(["px-3 py-1.5 rounded-lg text-sm font-medium",L.value==="fr"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Française ",2),t("button",{type:"button",onClick:e[26]||(e[26]=r=>L.value="uk"),class:v(["px-3 py-1.5 rounded-lg text-sm font-medium",L.value==="uk"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Anglaise ",2)])):w("",!0),t("div",fa,[(l(!0),d(S,null,B(me.value,r=>(l(),d("button",{key:r,type:"button",onClick:m=>ht(r),class:v(["px-3 py-2 rounded-lg text-sm font-medium transition-colors",P.value.includes(r)?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},n(r),11,ha))),128))])])):w("",!0),P.value.length>0?(l(),d("div",wa,[e[85]||(e[85]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Détails par taille",-1)),(l(!0),d(S,null,B(P.value,r=>(l(),d("div",{key:r,class:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3"},[t("span",_a,n(r),1),N.value[r]?(l(),d(S,{key:0},[t("div",Ca,[e[83]||(e[83]=t("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Code-barres",-1)),t("div",Sa,[g(t("input",{"onUpdate:modelValue":m=>N.value[r].barcode=m,type:"text",class:"flex-1 px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm",placeholder:"EAN…"},null,8,Ma),[[c,N.value[r].barcode]]),t("button",{type:"button",onClick:m=>Ve(r),class:"px-2 py-1.5 text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"}," Générer ",8,Ea)])]),t("div",$a,[e[84]||(e[84]=t("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Stock",-1)),g(t("input",{"onUpdate:modelValue":m=>N.value[r].stock=m,type:"number",min:"0",class:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm"},null,8,Va),[[c,N.value[r].stock,void 0,{number:!0}]])])],64)):w("",!0)]))),128))])):w("",!0),t("div",Pa,[t("div",null,[e[86]||(e[86]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Marque",-1)),g(t("input",{"onUpdate:modelValue":e[27]||(e[27]=r=>o.value.brand=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Lacoste"},null,512),[[c,o.value.brand]])]),t("div",null,[e[87]||(e[87]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Modèle",-1)),g(t("input",{"onUpdate:modelValue":e[28]||(e[28]=r=>o.value.model=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Classic"},null,512),[[c,o.value.model]])])]),t("div",null,[e[88]||(e[88]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Emplacement",-1)),g(t("input",{"onUpdate:modelValue":e[29]||(e[29]=r=>o.value.location=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Rayon A, Étagère 3"},null,512),[[c,o.value.location]])]),t("div",Aa,[t("div",null,[e[89]||(e[89]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix HT (€)",-1)),g(t("input",{"onUpdate:modelValue":e[30]||(e[30]=r=>o.value.price_ht=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,o.value.price_ht,void 0,{number:!0}]])]),e[92]||(e[92]=t("div",null,[t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"TVA"),t("input",{value:"20%",readonly:"",class:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-xl"})],-1)),t("div",null,[e[90]||(e[90]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Coef",-1)),g(t("input",{"onUpdate:modelValue":e[31]||(e[31]=r=>Ke.value=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,Ke.value,void 0,{number:!0}]])]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix de vente TTC (€)",-1)),g(t("input",{"onUpdate:modelValue":e[32]||(e[32]=r=>o.value.price_ttc=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,o.value.price_ttc,void 0,{number:!0}]])])]),P.value.length===0?(l(),d("div",Ta,[t("div",null,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stock vente",-1)),g(t("input",{"onUpdate:modelValue":e[33]||(e[33]=r=>o.value.stock=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,o.value.stock,void 0,{number:!0}]])]),t("div",null,[e[94]||(e[94]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stock technique",-1)),g(t("input",{"onUpdate:modelValue":e[34]||(e[34]=r=>o.value.stock_technical=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,o.value.stock_technical,void 0,{number:!0}]])]),t("div",null,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seuil alerte",-1)),g(t("input",{"onUpdate:modelValue":e[35]||(e[35]=r=>o.value.alert_threshold=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,o.value.alert_threshold,void 0,{number:!0}]])])])):(l(),d("div",Ua,[e[96]||(e[96]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seuil alerte",-1)),g(t("input",{"onUpdate:modelValue":e[36]||(e[36]=r=>o.value.alert_threshold=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,o.value.alert_threshold,void 0,{number:!0}]])]))]),t("div",qa,[t("button",{onClick:$e,class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),t("button",{onClick:wt,disabled:s(j)||!o.value.name.trim(),class:"flex-1 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},n(s(j)?"Enregistrement...":P.value.length>1?`Créer ${P.value.length} produits`:"Créer le produit"),9,Na)])])])):w("",!0)])),(l(),I(ve,{to:"body"},[Pe.value&&oe.value?(l(),d("div",ja,[t("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-lg w-full my-8 p-6 border border-gray-200 dark:border-gray-700",onClick:e[53]||(e[53]=le(()=>{},["stop"]))},[t("div",za,[e[97]||(e[97]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Modifier le produit",-1)),t("button",{onClick:Ae,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[k(s(fe),{class:"w-5 h-5"})])]),t("div",La,[t("div",null,[e[98]||(e[98]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code-barres",-1)),t("div",Ia,[g(t("input",{ref_key:"editBarcodeInputRef",ref:We,"onUpdate:modelValue":e[38]||(e[38]=r=>u.value.barcode=r),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Scannez ici ou saisissez (EAN…)",onKeydown:e[39]||(e[39]=ae(le(()=>{},["prevent"]),["enter"]))},null,544),[[c,u.value.barcode]]),t("button",{type:"button",onClick:e[40]||(e[40]=r=>Ve("edit")),class:"px-3 py-2 text-sm bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-500 whitespace-nowrap"}," Générer ")])]),t("div",null,[e[99]||(e[99]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nom *",-1)),g(t("input",{"onUpdate:modelValue":e[41]||(e[41]=r=>u.value.name=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Mocassin cuir"},null,512),[[c,u.value.name]])]),t("div",null,[e[100]||(e[100]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code",-1)),g(t("input",{"onUpdate:modelValue":e[42]||(e[42]=r=>u.value.code=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. MOC01"},null,512),[[c,u.value.code]])]),t("div",null,[e[102]||(e[102]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Catégorie",-1)),g(t("select",{"onUpdate:modelValue":e[43]||(e[43]=r=>u.value.category_id=r),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},[e[101]||(e[101]=t("option",{value:""},"— Choisir —",-1)),(l(!0),d(S,null,B(s(p),r=>(l(),d("option",{key:r.id,value:r.id},n(r.name),9,Ba))),128))],512),[[ke,u.value.category_id]])]),me.value.length>0?(l(),d("div",Ha,[e[103]||(e[103]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Tailles",-1)),Oe.value?(l(),d("div",Da,[t("button",{type:"button",onClick:e[44]||(e[44]=r=>L.value="fr"),class:v(["px-3 py-1.5 rounded-lg text-sm font-medium",L.value==="fr"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Française ",2),t("button",{type:"button",onClick:e[45]||(e[45]=r=>L.value="uk"),class:v(["px-3 py-1.5 rounded-lg text-sm font-medium",L.value==="uk"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Anglaise ",2)])):w("",!0),t("div",Ra,[(l(!0),d(S,null,B(me.value,r=>(l(),d("button",{key:r,type:"button",onClick:m=>ft(r),class:v(["px-3 py-2 rounded-lg text-sm font-medium transition-colors",re.value===r?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},n(r),11,Fa))),128))])])):w("",!0),t("div",Oa,[t("div",null,[e[104]||(e[104]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Marque",-1)),g(t("input",{"onUpdate:modelValue":e[46]||(e[46]=r=>u.value.brand=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Lacoste"},null,512),[[c,u.value.brand]])]),t("div",null,[e[105]||(e[105]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Modèle",-1)),g(t("input",{"onUpdate:modelValue":e[47]||(e[47]=r=>u.value.model=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Classic"},null,512),[[c,u.value.model]])])]),t("div",null,[e[106]||(e[106]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Emplacement",-1)),g(t("input",{"onUpdate:modelValue":e[48]||(e[48]=r=>u.value.location=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Rayon A, Étagère 3"},null,512),[[c,u.value.location]])]),t("div",Ga,[t("div",null,[e[107]||(e[107]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix HT (€)",-1)),g(t("input",{"onUpdate:modelValue":e[49]||(e[49]=r=>u.value.price_ht=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,u.value.price_ht,void 0,{number:!0}]])]),e[110]||(e[110]=t("div",null,[t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"TVA"),t("input",{value:"20%",readonly:"",class:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-xl"})],-1)),t("div",null,[e[108]||(e[108]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Coef",-1)),g(t("input",{"onUpdate:modelValue":e[50]||(e[50]=r=>Qe.value=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,Qe.value,void 0,{number:!0}]])]),t("div",null,[e[109]||(e[109]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix de vente TTC (€)",-1)),g(t("input",{"onUpdate:modelValue":e[51]||(e[51]=r=>u.value.price_ttc=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,u.value.price_ttc,void 0,{number:!0}]])])]),t("div",null,[e[111]||(e[111]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seuil alerte",-1)),g(t("input",{"onUpdate:modelValue":e[52]||(e[52]=r=>u.value.alert_threshold=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[c,u.value.alert_threshold,void 0,{number:!0}]])])]),t("div",Ka,[t("button",{onClick:Ae,class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),t("button",{onClick:Ct,disabled:s(j)||!u.value.name.trim(),class:"flex-1 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},n(s(j)?"Enregistrement...":"Enregistrer"),9,Qa)])])])):w("",!0)]))])]))}});export{rl as default};
