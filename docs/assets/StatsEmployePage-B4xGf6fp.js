import{d as Tt,r as i,a as h,w as Dt,C as Et,e as o,f as t,k as f,j as c,F as x,M as T,t as r,g,U as it,G as $t,h as C,y as Q,D as jt,z as ut,n as j,l as ct,S as gt,E as Nt,K as Vt,P as Bt,s as W,O as Rt,N as Ft,q as l}from"./index-Bl-DGyDc.js";import{C as zt}from"./calculator-5FBS7zeU.js";import{R as It}from"./refresh-cw-DCDDjdqj.js";import{S as Lt}from"./shopping-bag-ClztjdFJ.js";import{A as Ot}from"./award-u9aMEL9x.js";import{C as Ut}from"./credit-card-CAUDYgFf.js";const Yt={class:"flex-1 p-4 lg:p-6 overflow-auto bg-gray-50 dark:bg-gray-900"},Gt={class:"max-w-7xl mx-auto space-y-6"},Jt={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},Ht={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Kt={key:1,class:"relative"},Qt={class:"text-sm font-medium text-gray-900 dark:text-white"},Wt={key:0,class:"absolute z-20 mt-2 w-full sm:w-96 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl overflow-hidden"},Xt=["onClick"],Zt={class:"text-sm font-medium text-gray-900 dark:text-white"},te={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700 space-y-4"},ee={class:"flex flex-wrap items-center gap-3"},ae=["value"],se={class:"flex flex-wrap gap-2"},re=["onClick"],oe={class:"flex flex-wrap items-end gap-3"},le=["disabled"],de={key:0,class:"text-xs text-amber-600 dark:text-amber-400"},ne={key:0,class:"flex items-center justify-center py-20"},ie={key:1,class:"text-center py-16 text-gray-500 dark:text-gray-400"},ue={class:"flex gap-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-xl w-fit"},ce={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ge={class:"px-5 py-3 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},xe={class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider"},me={class:"overflow-x-auto"},ye={class:"w-full text-sm"},pe={class:"divide-y divide-gray-100 dark:divide-gray-700"},be={class:"px-4 py-2"},ve={class:"px-4 py-2 text-right tabular-nums"},he={class:"px-4 py-2 text-right tabular-nums"},fe={class:"font-bold bg-gray-50 dark:bg-gray-700/50 border-t-2 border-gray-300 dark:border-gray-600"},ke={class:"px-4 py-2.5 text-right tabular-nums"},_e={class:"px-4 py-2.5 text-right tabular-nums"},we={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Ce={class:"px-5 py-3 bg-purple-50 dark:bg-purple-900/20 border-b border-gray-200 dark:border-gray-600"},Se={class:"text-sm font-semibold text-purple-800 dark:text-purple-300 uppercase tracking-wider flex items-center gap-2"},Ae={class:"overflow-x-auto"},Me={class:"w-full text-sm"},qe={class:"divide-y divide-gray-100 dark:divide-gray-700"},Pe={class:"px-4 py-2"},Te={class:"px-4 py-2 text-right tabular-nums"},De={class:"px-4 py-2 text-right tabular-nums"},Ee={class:"font-bold bg-purple-50/50 dark:bg-purple-900/10 border-t-2 border-gray-300 dark:border-gray-600"},$e={class:"px-4 py-2.5 text-right tabular-nums"},je={class:"px-4 py-2.5 text-right tabular-nums"},Ne={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ve={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},Be={class:"flex items-center justify-between mb-3"},Re={class:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/40 flex items-center justify-center"},Fe={class:"text-2xl font-bold text-gray-900 dark:text-white"},ze={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},Ie={class:"flex items-center justify-between mb-3"},Le={class:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center"},Oe={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ue={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},Ye={class:"flex items-center justify-between mb-3"},Ge={class:"w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/40 flex items-center justify-center"},Je={class:"text-2xl font-bold text-gray-900 dark:text-white"},He={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},Ke={class:"flex items-center justify-between mb-3"},Qe={class:"w-10 h-10 rounded-xl bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center"},We={class:"text-2xl font-bold text-gray-900 dark:text-white truncate"},Xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ze={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},ta={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400 text-sm"},ea={key:1,class:"space-y-2 max-h-80 overflow-y-auto"},aa={class:"w-14 text-xs text-gray-500 dark:text-gray-400 shrink-0"},sa={class:"flex-1 h-7 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden relative"},ra={key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-semibold text-gray-700 dark:text-gray-200"},oa={class:"w-10 text-xs text-gray-400 dark:text-gray-500 text-right shrink-0"},la={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},da={class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4 flex items-center gap-2"},na={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400 text-sm"},ia={key:1,class:"space-y-3"},ua={class:"flex-1 min-w-0"},ca={class:"flex items-center justify-between mb-1"},ga={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},xa={class:"text-sm font-bold text-gray-900 dark:text-white ml-2 shrink-0"},ma={class:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},ya={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},pa={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-700"},ba={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},va={class:"flex items-center gap-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl"},ha={class:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center"},fa={class:"flex-1 min-w-0"},ka={class:"text-xs text-gray-500 dark:text-gray-400"},_a={class:"text-right"},wa={class:"text-lg font-bold text-gray-900 dark:text-white"},Ca={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Sa={class:"flex items-center gap-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl"},Aa={class:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center"},Ma={class:"flex-1 min-w-0"},qa={class:"text-xs text-gray-500 dark:text-gray-400"},Pa={class:"text-right"},Ta={class:"text-lg font-bold text-gray-900 dark:text-white"},Da={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Ea={key:0,class:"mt-4 h-4 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden flex"},za=Tt({__name:"StatsEmployePage",setup($a){const X=Rt(),xt=Ft(),Y=["Chaussure","Chaussette","Produit barbe","Produit cheveux","Shampooing","Conditioner","Gel douche","Accessoire rasage","Accessoire chaussure","Produit chaussure","Ceinture","Portefeuille","Textile","Porte monnaie","Porte cartes","Sac","Noeud pap","Cravate","Parfum","Echarpe","Produit esthetique","Trousse","Bonnet","Casquette","Acomptes","Clients","ESTHETIQUE","PRESTATION"],mt=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],yt={cash:"Espèces",card:"Carte bancaire",contactless:"Sans contact",check:"Chèque",gift_card:"Bon cadeau",amex:"Amex",free:"Gratuit",technical:"Technique"},D=i([]),b=i(""),N=i(!1),E=i(new Date().getFullYear()),k=i(null),S=i(""),A=i(""),M=i("performance"),V=i(!1),Z=i(!1),q=i([]),G=i([]),B=i([]),R=i([]),y=i(0),F=i(0),tt=i(0),J=i(0),z=i(0),$=i(0),_=h(()=>D.value.find(d=>d.id===b.value)),pt=h(()=>F.value>0?y.value/F.value:0),bt=h(()=>q.value.length===0?"—":[...q.value].sort((e,a)=>a.amount-e.amount)[0]?.name??"—"),vt=h(()=>q.value.reduce((d,e)=>d+e.count,0)),ht=h(()=>q.value.reduce((d,e)=>d+e.amount,0)),ft=h(()=>Math.max(...B.value.map(d=>d.total),1)),kt=h(()=>Math.max(...R.value.map(d=>d.amount),1)),_t=h(()=>{const d=new Date().getFullYear();return Array.from({length:5},(e,a)=>d-a)}),wt=h(()=>{if(S.value&&A.value)return{start:S.value,end:A.value};if(k.value!==null){const d=E.value,e=k.value,a=`${d}-${String(e+1).padStart(2,"0")}-01`,m=new Date(d,e+1,0).getDate(),v=`${d}-${String(e+1).padStart(2,"0")}-${String(m).padStart(2,"0")}`;return{start:a,end:v}}return{start:`${E.value}-01-01`,end:`${E.value}-12-31`}}),p=d=>d.toFixed(2),Ct=d=>new Date(d).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),St=d=>{k.value=d,S.value="",A.value=""},At=()=>{k.value=null},et=()=>{S.value&&A.value&&(k.value=null)},Mt=async()=>{const{data:d}=await W.from("vendors").select("*").eq("is_active",!0);d&&(D.value=d.map(a=>({id:a.id,first_name:a.first_name,last_name:a.last_name,initials:a.initials??"",color:a.color??"#6B7280"})));const e=X.query.vendorId;e&&D.value.some(a=>a.id===e)&&(b.value=e)},qt=async()=>{if(b.value){V.value=!0,Z.value=!0;try{const{start:d,end:e}=wt.value,{data:a,error:m}=await W.from("sales").select(`
        id,
        total,
        created_at,
        items:sale_items(id, product_name, quantity, subtotal_ttc, product_id),
        payments:payments(method, amount)
      `).eq("vendor_id",b.value).gte("created_at",`${d}T00:00:00`).lte("created_at",`${e}T23:59:59.999`).eq("status","completed");if(m)throw console.error("Erreur Supabase stats employé:",m),m;const v=a||[],H=new Set;for(const n of v)for(const s of n.items||[])s.product_id&&H.add(s.product_id);const at=new Map;if(H.size>0){const{data:n}=await W.from("products").select("id, name, type, category:categories(name)").in("id",Array.from(H));if(n)for(const s of n)at.set(s.id,{name:s.name,type:s.type??"product",categoryName:s.category?.name??"Autre"})}y.value=v.reduce((n,s)=>n+s.total,0),F.value=v.length;const P=new Map;for(const n of Y)P.set(n,{name:n,count:0,amount:0});const I=new Map;let st=0,rt=0,ot=0,lt=0;for(const n of v)for(const s of n.items||[]){const u=s.product_id?at.get(s.product_id):null,w=u?.categoryName??"Autre",Pt=u?.type??"product";P.has(w)||P.set(w,{name:w,count:0,amount:0});const dt=P.get(w);if(dt.count+=s.quantity,dt.amount+=s.subtotal_ttc,Pt==="service"){rt+=s.quantity,lt+=s.subtotal_ttc;const U=s.product_name||u?.name||"Service";I.has(U)||I.set(U,{name:U,count:0,amount:0});const nt=I.get(U);nt.count+=s.quantity,nt.amount+=s.subtotal_ttc}else st+=s.quantity,ot+=s.subtotal_ttc}const K=[];for(const n of Y){const s=P.get(n);s&&s.amount>0&&K.push(s)}for(const[n,s]of P)!Y.includes(n)&&s.amount>0&&K.push(s);q.value=K,G.value=Array.from(I.values()).sort((n,s)=>s.amount-n.amount),tt.value=st,J.value=rt,z.value=ot,$.value=lt;const L=new Map;for(const n of v)for(const s of n.payments||[]){const u=s.method;L.has(u)||L.set(u,{method:u,label:yt[u]||u,amount:0,count:0});const w=L.get(u);w.amount+=s.amount,w.count+=1}R.value=Array.from(L.values()).sort((n,s)=>s.amount-n.amount);const O=new Map;for(const n of v){const s=n.created_at.split("T")[0];O.has(s)||O.set(s,{date:s,total:0,count:0});const u=O.get(s);u.total+=n.total,u.count+=1}B.value=Array.from(O.values()).sort((n,s)=>n.date.localeCompare(s.date))}catch(d){console.error("Erreur chargement stats employé:",d)}finally{V.value=!1}}};return Dt(b,d=>{d&&xt.replace({query:{...X.query,vendorId:d}})}),Et(Mt),(d,e)=>(l(),o("main",Yt,[t("div",Gt,[e[28]||(e[28]=t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t("div",null,[t("h1",{class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white"},"Statistiques Employé"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Performance individuelle par période")])],-1)),t("div",Jt,[e[7]||(e[7]=t("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Sélectionner un employé",-1)),D.value.length===0?(l(),o("div",Ht," Chargement des employés... ")):(l(),o("div",Kt,[t("button",{type:"button",onClick:e[0]||(e[0]=a=>N.value=!N.value),class:"w-full sm:w-96 flex items-center gap-3 px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-left hover:border-emerald-400 dark:hover:border-emerald-500 transition-colors"},[_.value?(l(),o(x,{key:0},[t("div",{style:T({backgroundColor:_.value.color}),class:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shrink-0"},r(_.value.initials),5),t("span",Qt,r(_.value.first_name)+" "+r(_.value.last_name),1)],64)):(l(),o(x,{key:1},[c(g(it),{class:"w-5 h-5 text-gray-400"}),e[6]||(e[6]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Choisir un employé...",-1))],64)),c(g($t),{class:"w-4 h-4 ml-auto text-gray-400"})]),N.value?(l(),o("div",Wt,[(l(!0),o(x,null,C(D.value,a=>(l(),o("button",{key:a.id,type:"button",onClick:m=>{b.value=a.id,N.value=!1},class:j(["w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",b.value===a.id&&"bg-emerald-50 dark:bg-emerald-900/20"])},[t("div",{style:T({backgroundColor:a.color}),class:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shrink-0"},r(a.initials),5),t("span",Zt,r(a.first_name)+" "+r(a.last_name),1)],10,Xt))),128))])):f("",!0)]))]),t("div",te,[t("div",ee,[e[8]||(e[8]=t("label",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Année :",-1)),Q(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>E.value=a),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm"},[(l(!0),o(x,null,C(_t.value,a=>(l(),o("option",{key:a,value:a},r(a),9,ae))),128))],512),[[jt,E.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block"},"Mois :",-1)),t("div",se,[(l(),o(x,null,C(mt,(a,m)=>t("button",{key:m,type:"button",onClick:v=>k.value===m?At():St(m),class:j(["px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",k.value===m?"bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},r(a.substring(0,3)),11,re)),64))])]),t("div",oe,[t("div",null,[e[10]||(e[10]=t("label",{class:"text-xs font-medium text-gray-600 dark:text-gray-400 block mb-1"},"Du",-1)),Q(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>S.value=a),onChange:et,type:"date",class:"px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm"},null,544),[[ut,S.value]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-xs font-medium text-gray-600 dark:text-gray-400 block mb-1"},"Au",-1)),Q(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>A.value=a),onChange:et,type:"date",class:"px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm"},null,544),[[ut,A.value]])]),t("button",{onClick:qt,disabled:V.value||!b.value,class:"inline-flex items-center gap-2 px-5 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[c(g(zt),{class:"w-4 h-4"}),e[12]||(e[12]=t("span",null,"Calculer",-1))],8,le)]),b.value?f("",!0):(l(),o("p",de," Veuillez sélectionner un employé avant de calculer. "))]),V.value?(l(),o("div",ne,[c(g(It),{class:"w-8 h-8 text-gray-400 animate-spin"})])):Z.value?(l(),o(x,{key:2},[t("div",ue,[t("button",{onClick:e[4]||(e[4]=a=>M.value="performance"),class:j(["px-5 py-2 rounded-lg text-sm font-medium transition-colors",M.value==="performance"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Performance ",2),t("button",{onClick:e[5]||(e[5]=a=>M.value="statistiques"),class:j(["px-5 py-2 rounded-lg text-sm font-medium transition-colors",M.value==="statistiques"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Statistiques ",2)]),M.value==="performance"?(l(),o(x,{key:0},[t("div",ce,[t("div",ge,[t("h2",xe," Totaux — "+r(_.value?.first_name)+" "+r(_.value?.last_name),1)]),t("div",me,[t("table",ye,[e[15]||(e[15]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-600"},[t("th",{class:"px-4 py-2.5 text-left font-semibold text-gray-700 dark:text-gray-300"},"Catégorie"),t("th",{class:"px-4 py-2.5 text-right font-semibold text-gray-700 dark:text-gray-300"},"Nb"),t("th",{class:"px-4 py-2.5 text-right font-semibold text-gray-700 dark:text-gray-300"},"Montant")])],-1)),t("tbody",pe,[(l(!0),o(x,null,C(q.value,a=>(l(),o("tr",{key:a.name,class:j(["text-gray-900 dark:text-gray-100",a.count===0&&"opacity-40"])},[t("td",be,r(a.name),1),t("td",ve,r(a.count),1),t("td",he,r(p(a.amount))+" €",1)],2))),128))]),t("tfoot",null,[t("tr",fe,[e[14]||(e[14]=t("td",{class:"px-4 py-2.5"},"Total",-1)),t("td",ke,r(vt.value),1),t("td",_e,r(p(ht.value))+" €",1)])])])])]),G.value.length>0?(l(),o("div",we,[t("div",Ce,[t("h2",Se,[c(g(gt),{class:"w-4 h-4"}),e[16]||(e[16]=ct(" Prestations (Services) ",-1))])]),t("div",Ae,[t("table",Me,[e[18]||(e[18]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-600"},[t("th",{class:"px-4 py-2.5 text-left font-semibold text-gray-700 dark:text-gray-300"},"Service"),t("th",{class:"px-4 py-2.5 text-right font-semibold text-gray-700 dark:text-gray-300"},"Nb"),t("th",{class:"px-4 py-2.5 text-right font-semibold text-gray-700 dark:text-gray-300"},"Montant")])],-1)),t("tbody",qe,[(l(!0),o(x,null,C(G.value,a=>(l(),o("tr",{key:a.name,class:"text-gray-900 dark:text-gray-100"},[t("td",Pe,r(a.name),1),t("td",Te,r(a.count),1),t("td",De,r(p(a.amount))+" €",1)]))),128))]),t("tfoot",null,[t("tr",Ee,[e[17]||(e[17]=t("td",{class:"px-4 py-2.5"},"Total Prestations",-1)),t("td",$e,r(J.value),1),t("td",je,r(p($.value))+" €",1)])])])])])):f("",!0)],64)):f("",!0),M.value==="statistiques"?(l(),o(x,{key:1},[t("div",Ne,[t("div",Ve,[t("div",Be,[t("div",Re,[c(g(Nt),{class:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})])]),t("p",Fe,r(p(y.value))+" €",1),e[19]||(e[19]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Total CA",-1))]),t("div",ze,[t("div",Ie,[t("div",Le,[c(g(Lt),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})])]),t("p",Oe,r(F.value),1),e[20]||(e[20]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Nombre de ventes",-1))]),t("div",Ue,[t("div",Ye,[t("div",Ge,[c(g(Vt),{class:"w-5 h-5 text-amber-600 dark:text-amber-400"})])]),t("p",Je,r(p(pt.value))+" €",1),e[21]||(e[21]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Panier moyen",-1))]),t("div",He,[t("div",Ke,[t("div",Qe,[c(g(Ot),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})])]),t("p",We,r(bt.value),1),e[22]||(e[22]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Top catégorie",-1))])]),t("div",Xe,[t("div",Ze,[e[23]||(e[23]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4"}," CA journalier ",-1)),B.value.length===0?(l(),o("div",ta," Aucune donnée ")):(l(),o("div",ea,[(l(!0),o(x,null,C(B.value,a=>(l(),o("div",{key:a.date,class:"flex items-center gap-3"},[t("span",aa,r(Ct(a.date)),1),t("div",sa,[t("div",{class:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 dark:from-emerald-600 dark:to-emerald-500 rounded-lg transition-all duration-500",style:T({width:`${a.total/ft.value*100}%`})},null,4),a.total>0?(l(),o("span",ra,r(p(a.total))+" € ",1)):f("",!0)]),t("span",oa,r(a.count)+"v.",1)]))),128))]))]),t("div",la,[t("h3",da,[c(g(Ut),{class:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e[24]||(e[24]=ct(" Modes de paiement ",-1))]),R.value.length===0?(l(),o("div",na," Aucune donnée ")):(l(),o("div",ia,[(l(!0),o(x,null,C(R.value,a=>(l(),o("div",{key:a.method,class:"flex items-center gap-3"},[t("div",ua,[t("div",ca,[t("span",ga,r(a.label),1),t("span",xa,r(p(a.amount))+" €",1)]),t("div",ma,[t("div",{class:"h-full bg-gradient-to-r from-blue-500 to-blue-400 dark:from-blue-600 dark:to-blue-500 rounded-full",style:T({width:`${a.amount/kt.value*100}%`})},null,4)]),t("p",ya,r(a.count)+" paiement(s)",1)])]))),128))]))])]),t("div",pa,[e[27]||(e[27]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4"}," Produits vs Services ",-1)),t("div",ba,[t("div",va,[t("div",ha,[c(g(Bt),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",fa,[e[25]||(e[25]=t("p",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Produits",-1)),t("p",ka,r(tt.value)+" article(s)",1)]),t("div",_a,[t("p",wa,r(p(z.value))+" €",1),y.value>0?(l(),o("p",Ca,r((z.value/y.value*100).toFixed(0))+"% ",1)):f("",!0)])]),t("div",Sa,[t("div",Aa,[c(g(gt),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),t("div",Ma,[e[26]||(e[26]=t("p",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Services",-1)),t("p",qa,r(J.value)+" prestation(s)",1)]),t("div",Pa,[t("p",Ta,r(p($.value))+" €",1),y.value>0?(l(),o("p",Da,r(($.value/y.value*100).toFixed(0))+"% ",1)):f("",!0)])])]),y.value>0?(l(),o("div",Ea,[t("div",{class:"h-full bg-gradient-to-r from-blue-500 to-blue-400 transition-all duration-500",style:T({width:`${z.value/y.value*100}%`})},null,4),t("div",{class:"h-full bg-gradient-to-r from-purple-500 to-purple-400 transition-all duration-500",style:T({width:`${$.value/y.value*100}%`})},null,4)])):f("",!0)])],64)):f("",!0)],64)):(l(),o("div",ie,[c(g(it),{class:"w-12 h-12 mx-auto mb-3 opacity-40"}),e[13]||(e[13]=t("p",{class:"text-sm"},"Sélectionnez un employé et une période puis cliquez sur Calculer",-1))]))])]))}});export{za as default};
