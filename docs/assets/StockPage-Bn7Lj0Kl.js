import{c as ce,a as G,r as c,s as h,d as we,u as ke,y as _e,b as u,e,l as k,h as f,k as T,f as a,P as Ce,n as E,v as m,F as U,g as Q,x as g,j as N,z as te,t as i,E as ie,G as re,I as Me,H as Ee,o as n}from"./index-DodYGpJ8.js";import{R as se}from"./refresh-cw-C5BCTzhv.js";import{P as ue}from"./plus-Bh6hCo_W.js";import{X as oe}from"./x-21iBCkkO.js";import{C as je,a as Ae}from"./circle-arrow-up-ChnIcsQi.js";const Se=ce("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Pe=ce("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),W=c([]),le=c([]),ae=c([]),$=c(!1),_=c(!1);function qe(){const j=async()=>{$.value=!0;try{const{data:s,error:d}=await h.from("products").select("*, category:categories(id, name, slug)").eq("type","product").order("display_order");if(d)throw d;W.value=s||[]}catch(s){console.error("Erreur chargement produits (stock):",s),W.value=[]}finally{$.value=!1}},A=async s=>{$.value=!0;try{let d=h.from("stock_movements").select(`
          *,
          product:products(id, name, code, stock),
          vendor:vendors(first_name, last_name)
        `).order("created_at",{ascending:!1}).limit(100);s&&(d=d.eq("product_id",s));const{data:p,error:b}=await d;if(b)throw b;ae.value=p||[]}catch(d){console.error("Erreur chargement mouvements:",d),ae.value=[]}finally{$.value=!1}},X=async s=>{const{product_id:d,type:p,reason:b,reference_id:C=null,vendor_id:Y=null}=s;let x=s.quantity;p==="out"&&x>0&&(x=-x),p==="in"&&x<0&&(x=Math.abs(x)),_.value=!0;try{const{error:P}=await h.from("stock_movements").insert({product_id:d,variant_id:null,type:p,quantity:x,reason:b,reference_id:C,vendor_id:Y});if(P)throw P;const{data:q}=await h.from("products").select("stock").eq("id",d).single(),O=q?.stock??0,V=Math.max(0,O+x),{error:v}=await h.from("products").update({stock:V,updated_at:new Date().toISOString()}).eq("id",d);if(v)throw v;await j(),await A(d)}finally{_.value=!1}},J=async()=>{try{const{data:s,error:d}=await h.from("categories").select("*").eq("is_active",!0).order("display_order");if(d)throw d;le.value=s||[]}catch(s){console.error("Erreur chargement catégories:",s),le.value=[]}},H=async s=>{_.value=!0;try{const{error:d}=await h.from("products").insert({name:s.name,code:s.code||null,category_id:s.category_id||null,brand:s.brand??null,model:s.model??null,type:"product",price_ht:s.price_ht,tva_rate:s.tva_rate??.2,stock:s.stock??0,alert_threshold:s.alert_threshold??5,is_active:!0,display_order:999});if(d)throw d;await j()}finally{_.value=!1}},z=async(s,d)=>{_.value=!0;try{const{error:p}=await h.from("products").update({alert_threshold:Math.max(0,d),updated_at:new Date().toISOString()}).eq("id",s);if(p)throw p;await j()}finally{_.value=!1}},D=G(()=>W.value),S=G(()=>W.value.filter(s=>s.stock<=s.alert_threshold));return{productsWithStock:D,productsOnly:D,lowStockList:S,categories:le,movements:ae,loadProducts:j,loadCategories:J,loadMovements:A,addMovement:X,createProduct:H,updateAlertThreshold:z,isLoading:$,isSaving:_}}const Ve={class:"flex-1 p-4 lg:p-6 overflow-auto bg-gray-50"},Le={class:"max-w-5xl mx-auto space-y-6"},Te={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ue={class:"text-xl lg:text-2xl font-bold text-gray-900 flex items-center gap-2"},Ne=["disabled"],$e={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4"},He={class:"flex flex-wrap items-center gap-3"},ze={class:"flex rounded-xl border border-gray-200 overflow-hidden"},De=["onClick"],Oe={key:0,class:"flex justify-center py-20"},Re={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden"},Be={class:"overflow-x-auto"},Fe={class:"w-full text-left"},Ie={class:"divide-y divide-gray-100"},Ke={class:"px-4 py-3"},Qe={class:"flex items-center gap-2"},We={class:"font-medium text-gray-900"},Ge={class:"px-4 py-3 text-sm text-gray-500"},Xe={class:"px-4 py-3 text-sm text-gray-600"},Je={class:"px-4 py-3 text-sm text-gray-600"},Ye={class:"px-4 py-3 text-sm text-gray-500"},Ze={class:"px-4 py-3 text-center"},et={key:0,class:"flex items-center justify-center gap-2"},tt={class:"text-gray-600"},rt=["onClick"],st={class:"px-4 py-3"},ot={class:"flex items-center gap-2"},lt=["onClick"],at=["onClick"],nt={key:0,class:"p-6 text-center text-gray-500"},dt={class:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6"},it={class:"flex items-center justify-between mb-4"},ut={class:"text-sm text-gray-600 mb-4"},ct={class:"space-y-4"},mt=["min","placeholder"],yt={class:"flex gap-3 mt-6"},xt=["disabled"],gt={class:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col"},pt={class:"p-6 border-b border-gray-200 flex items-center justify-between"},vt={class:"text-lg font-semibold text-gray-900"},ft={class:"p-6 overflow-y-auto flex-1"},bt={key:0,class:"text-center text-gray-500 py-8"},ht={key:1,class:"space-y-2"},wt={class:"flex items-center gap-3"},kt={class:"text-sm font-medium text-gray-900"},_t={class:"text-xs text-gray-500"},Ct={class:"bg-white rounded-2xl shadow-xl max-w-lg w-full my-8 p-6"},Mt={class:"flex items-center justify-between mb-6"},Et={class:"space-y-4"},jt=["value"],At={class:"grid grid-cols-2 gap-4"},St={class:"grid grid-cols-2 gap-4"},Pt={class:"grid grid-cols-2 gap-4"},qt={class:"flex gap-3 mt-6"},Vt=["disabled"],Ht=we({__name:"StockPage",setup(j){const{productsWithStock:A,lowStockList:X,categories:J,movements:H,loadProducts:z,loadCategories:D,loadMovements:S,addMovement:s,createProduct:d,updateAlertThreshold:p,isLoading:b,isSaving:C}=qe(),{vendor:Y}=ke(),x=c("all"),P=G(()=>x.value==="alert"?X.value:A.value),q=c(""),O=G(()=>{const l=q.value.trim().toLowerCase();return l?P.value.filter(t=>t.name.toLowerCase().includes(l)||t.code&&t.code.toLowerCase().includes(l)||t.brand&&t.brand.toLowerCase().includes(l)||t.model&&t.model.toLowerCase().includes(l)):P.value}),V=c(!1),v=c(null),y=c("in"),w=c(1),R=c("");function me(l){v.value=l,y.value="in",w.value=1,R.value="",V.value=!0}function B(){V.value=!1,v.value=null}async function ye(){if(!v.value)return;const l=w.value;if(!(l<=0&&y.value!=="adjustment")&&!(y.value==="adjustment"&&l===0))try{await s({product_id:v.value.id,type:y.value,quantity:w.value,reason:R.value||(y.value==="in"?"Entrée stock":y.value==="out"?"Sortie stock":"Ajustement"),vendor_id:Y.value?.id??null}),B()}catch(t){alert(t instanceof Error?t.message:"Erreur lors de l'enregistrement")}}const Z=c(!1),F=c(null);function xe(l){F.value=l,Z.value=!0,S(l.id)}function ne(){Z.value=!1,F.value=null}const M=c(null),I=c(0);function ge(l){M.value=l.id,I.value=l.alert_threshold}function pe(){M.value=null}async function de(){if(M.value)try{await p(M.value,I.value),M.value=null}catch(l){alert(l instanceof Error?l.message:"Erreur")}}const ve=l=>new Date(l).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),fe=(l,t)=>{const r=Math.abs(t);return l==="in"?`+${r}`:l==="out"?`-${r}`:t>=0?`+${t}`:`${t}`},ee=c(!1),o=c({name:"",code:"",category_id:"",brand:"",model:"",price_ht:0,tva_rate:.2,stock:0,alert_threshold:5});function be(){o.value={name:"",code:"",category_id:"",brand:"",model:"",price_ht:0,tva_rate:.2,stock:0,alert_threshold:5},ee.value=!0,D()}function K(){ee.value=!1}async function he(){if(!o.value.name.trim()){alert("Nom du produit requis.");return}try{await d({name:o.value.name.trim(),code:o.value.code.trim()||null,category_id:o.value.category_id||null,brand:o.value.brand.trim()||null,model:o.value.model.trim()||null,price_ht:Number(o.value.price_ht)||0,tva_rate:Number(o.value.tva_rate)??.2,stock:Math.max(0,Number(o.value.stock)||0),alert_threshold:Math.max(0,Number(o.value.alert_threshold)||5)}),K()}catch(l){alert(l instanceof Error?l.message:"Erreur lors de l'enregistrement")}}return _e(()=>{z(),S()}),(l,t)=>(n(),u("main",Ve,[e("div",Le,[e("div",Te,[e("div",null,[e("h1",Ue,[f(a(Ce),{class:"w-7 h-7 text-gray-600"}),t[15]||(t[15]=T(" Gestion du stock ",-1))]),t[16]||(t[16]=e("p",{class:"text-sm text-gray-500 mt-1"},"Produits, mouvements et alertes",-1))]),e("button",{onClick:t[0]||(t[0]=r=>{a(z)(),a(S)()}),disabled:a(b),class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-xl hover:bg-gray-800 transition-colors disabled:opacity-50"},[f(a(se),{class:E(["w-4 h-4",a(b)&&"animate-spin"])},null,8,["class"]),t[17]||(t[17]=T(" Actualiser ",-1))],8,Ne)]),e("div",$e,[e("div",He,[e("div",ze,[(n(),u(U,null,Q([{id:"all",label:"Tous"},{id:"alert",label:"Alerte stock"}],r=>e("button",{key:r.id,onClick:L=>x.value=r.id,class:E(["px-4 py-2 text-sm font-medium transition-colors",x.value===r.id?"bg-gray-900 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"])},i(r.label),11,De)),64))]),e("button",{onClick:be,class:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700"},[f(a(ue),{class:"w-4 h-4"}),t[18]||(t[18]=T(" Ajouter un produit ",-1))]),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>q.value=r),type:"text",placeholder:"Rechercher un produit...",class:"flex-1 min-w-[200px] px-4 py-2 border border-gray-300 rounded-xl text-sm focus:ring-2 focus:ring-gray-900 focus:border-transparent"},null,512),[[g,q.value]])])]),a(b)&&a(A).length===0?(n(),u("div",Oe,[f(a(se),{class:"w-8 h-8 text-gray-400 animate-spin"})])):(n(),u("div",Re,[e("div",Be,[e("table",Fe,[t[21]||(t[21]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Produit"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Code"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Marque"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Modèle"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Catégorie"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Stock"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Seuil alerte"),e("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider w-40"},"Actions")])],-1)),e("tbody",Ie,[(n(!0),u(U,null,Q(O.value,r=>(n(),u("tr",{key:r.id,class:E(["hover:bg-gray-50 transition-colors",{"bg-amber-50":r.stock<=r.alert_threshold}])},[e("td",Ke,[e("div",Qe,[e("span",We,i(r.name),1),r.stock<=r.alert_threshold?(n(),k(a(Pe),{key:0,class:"w-4 h-4 text-amber-500 shrink-0"})):N("",!0)])]),e("td",Ge,i(r.code||"—"),1),e("td",Xe,i(r.brand||"—"),1),e("td",Je,i(r.model||"—"),1),e("td",Ye,i(r.category?.name||"—"),1),e("td",{class:E(["px-4 py-3 text-center font-semibold",r.stock<=r.alert_threshold?"text-amber-600":"text-gray-900"])},i(r.stock),3),e("td",Ze,[M.value===r.id?(n(),u("div",et,[m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=L=>I.value=L),type:"number",min:"0",class:"w-16 px-2 py-1 border border-gray-300 rounded text-sm text-center",onKeydown:Me(de,["enter"])},null,544),[[g,I.value,void 0,{number:!0}]]),e("button",{onClick:de,class:"text-emerald-600 hover:underline text-sm"},"OK"),e("button",{onClick:pe,class:"text-gray-500 hover:underline text-sm"},"Annuler")])):(n(),u(U,{key:1},[e("span",tt,i(r.alert_threshold),1),e("button",{onClick:L=>ge(r),class:"ml-1 text-gray-400 hover:text-gray-600 inline-flex",title:"Modifier le seuil"},[f(a(Se),{class:"w-3.5 h-3.5"})],8,rt)],64))]),e("td",st,[e("div",ot,[e("button",{onClick:L=>me(r),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",title:"Ajouter un mouvement"},[f(a(ue),{class:"w-3.5 h-3.5"}),t[19]||(t[19]=T(" Mouvement ",-1))],8,lt),e("button",{onClick:L=>xe(r),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",title:"Historique"},[f(a(Ee),{class:"w-3.5 h-3.5"}),t[20]||(t[20]=T(" Historique ",-1))],8,at)])])],2))),128))])])]),O.value.length===0?(n(),u("p",nt," Aucun produit à afficher. ")):N("",!0)])),(n(),k(re,{to:"body"},[V.value&&v.value?(n(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:te(B,["self"])},[e("div",dt,[e("div",it,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Mouvement de stock",-1)),e("button",{onClick:B,class:"p-1 text-gray-400 hover:text-gray-600 rounded"},[f(a(oe),{class:"w-5 h-5"})])]),e("p",ut,i(v.value.name)+" (stock actuel : "+i(v.value.stock)+")",1),e("div",ct,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>y.value=r),class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent"},[...t[23]||(t[23]=[e("option",{value:"in"},"Entrée",-1),e("option",{value:"out"},"Sortie",-1),e("option",{value:"adjustment"},"Ajustement (+/-)",-1)])],512),[[ie,y.value]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quantité",-1)),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>w.value=r),type:"number",min:y.value==="out"?1:y.value==="adjustment"?void 0:1,class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:y.value==="adjustment"?"Ex. -2 ou +5":""},null,8,mt),[[g,w.value,void 0,{number:!0}]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Motif",-1)),m(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>R.value=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Livraison, inventaire, perte..."},null,512),[[g,R.value]])])]),e("div",yt,[e("button",{onClick:B,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50"}," Annuler "),e("button",{onClick:ye,disabled:a(C)||w.value<=0&&y.value!=="adjustment"||y.value==="adjustment"&&w.value===0,class:"flex-1 px-4 py-2 bg-gray-900 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},i(a(C)?"Enregistrement...":"Enregistrer"),9,xt)])])])):N("",!0)])),(n(),k(re,{to:"body"},[Z.value?(n(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:te(ne,["self"])},[e("div",gt,[e("div",pt,[e("h3",vt," Historique des mouvements "+i(F.value?`— ${F.value.name}`:""),1),e("button",{onClick:ne,class:"p-1 text-gray-400 hover:text-gray-600 rounded"},[f(a(oe),{class:"w-5 h-5"})])]),e("div",ft,[a(H).length===0?(n(),u("div",bt," Aucun mouvement pour ce produit. ")):(n(),u("ul",ht,[(n(!0),u(U,null,Q(a(H),r=>(n(),u("li",{key:r.id,class:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0"},[e("div",wt,[e("span",{class:E(["inline-flex items-center justify-center w-8 h-8 rounded-full",r.type==="in"?"bg-emerald-100 text-emerald-700":r.type==="out"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"])},[r.type==="in"?(n(),k(a(je),{key:0,class:"w-4 h-4"})):r.type==="out"?(n(),k(a(Ae),{key:1,class:"w-4 h-4"})):(n(),k(a(se),{key:2,class:"w-4 h-4"}))],2),e("div",null,[e("p",kt,i(fe(r.type,r.quantity))+" — "+i(r.reason),1),e("p",_t,i(ve(r.created_at)),1)])]),e("span",{class:E(["font-semibold",r.quantity>0?"text-emerald-600":"text-red-600"])},i(r.quantity>0?"+":"")+i(r.quantity),3)]))),128))]))])])])):N("",!0)])),(n(),k(re,{to:"body"},[ee.value?(n(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 overflow-y-auto",onClick:te(K,["self"])},[e("div",Ct,[e("div",Mt,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Nouveau produit",-1)),e("button",{onClick:K,class:"p-1 text-gray-400 hover:text-gray-600 rounded"},[f(a(oe),{class:"w-5 h-5"})])]),e("div",Et,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom *",-1)),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.value.name=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Ex. Mocassin cuir"},null,512),[[g,o.value.name]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Code",-1)),m(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>o.value.code=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Ex. MOC01"},null,512),[[g,o.value.code]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catégorie",-1)),m(e("select",{"onUpdate:modelValue":t[8]||(t[8]=r=>o.value.category_id=r),class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent"},[t[30]||(t[30]=e("option",{value:""},"— Choisir —",-1)),(n(!0),u(U,null,Q(a(J),r=>(n(),u("option",{key:r.id,value:r.id},i(r.name),9,jt))),128))],512),[[ie,o.value.category_id]])]),e("div",At,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Marque",-1)),m(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>o.value.brand=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Ex. Lacoste"},null,512),[[g,o.value.brand]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Modèle",-1)),m(e("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>o.value.model=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Ex. Classic"},null,512),[[g,o.value.model]])])]),e("div",St,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prix HT (€)",-1)),m(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>o.value.price_ht=r),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent"},null,512),[[g,o.value.price_ht,void 0,{number:!0}]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"TVA (ex. 0,20)",-1)),m(e("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>o.value.tva_rate=r),type:"number",min:"0",max:"1",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent"},null,512),[[g,o.value.tva_rate,void 0,{number:!0}]])])]),e("div",Pt,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Stock initial",-1)),m(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>o.value.stock=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent"},null,512),[[g,o.value.stock,void 0,{number:!0}]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Seuil alerte",-1)),m(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>o.value.alert_threshold=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent"},null,512),[[g,o.value.alert_threshold,void 0,{number:!0}]])])])]),e("div",qt,[e("button",{onClick:K,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50"}," Annuler "),e("button",{onClick:he,disabled:a(C)||!o.value.name.trim(),class:"flex-1 px-4 py-2 bg-gray-900 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},i(a(C)?"Enregistrement...":"Créer le produit"),9,Vt)])])])):N("",!0)]))])]))}});export{Ht as default};
