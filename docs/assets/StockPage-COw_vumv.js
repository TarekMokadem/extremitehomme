import{l as bn,m as X,a as T,s as ce,d as Kn,u as Qn,q as Xt,o as Wn,c as O,e as u,h as G,A as le,f as H,z as Y,g as A,P as sr,y as U,J as cr,i as C,F as K,x as ne,v as q,t as R,K as We,H as Jt,w as he,G as Re,I as fr,k as w}from"./index-CAqGcB1x.js";import{R as Me}from"./refresh-cw-CbmeH-aP.js";import{P as gr}from"./plus-ByOnR0Mp.js";import{C as Zn,a as ea,b as ta,c as ra}from"./chevrons-right-CLc57-6z.js";import{X as Ze}from"./x-C1eBE0dx.js";import{C as yr,a as vr}from"./circle-arrow-up-DmjDNEaH.js";import{P as na}from"./printer-6-6SS46c.js";import{T as aa}from"./trash-2-DL5sMhCx.js";const oa=bn("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const ia=bn("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ua=["produits-barbe","produits-cheveux","shampooing","gel-douche","produits-chaussure","parfums","divers"];function Be(h){return!!h&&ua.includes(h)}const Pe=T([]),Te=T([]),Yt=T([]),Ce=T(!1),ae=T(!1);function la(){const h=async()=>{Ce.value=!0;try{const{data:n,error:r}=await ce.from("products").select("*, category:categories(id, name, slug)").eq("type","product").order("display_order");if(r)throw r;Pe.value=(n||[]).map(a=>({...a,stock_technical:a.stock_technical??0}))}catch(n){console.error("Erreur chargement produits (stock):",n),Pe.value=[]}finally{Ce.value=!1}},g=async n=>{Ce.value=!0;try{let r=ce.from("stock_movements").select("*").order("created_at",{ascending:!1}).limit(n?100:200);n&&(r=r.eq("product_id",n));const{data:a,error:d}=await r;if(d)throw d;Yt.value=(a||[]).map(l=>({...l,stock_type:l.stock_type??"sale"}))}catch(r){console.error("Erreur chargement mouvements:",r),Yt.value=[]}finally{Ce.value=!1}},b=async n=>{const{product_id:r,type:a,reason:d,reference_id:l=null,vendor_id:x=null,stock_type:_="sale"}=n;let k=n.quantity;const $=_==="technical"?"stock_technical":"stock",{data:W}=await ce.from("products").select(`${$}, stock, stock_technical`).eq("id",r).single(),Z=W?.[$]??0;let ge;a==="adjustment"?(ge=Math.max(0,k),k=ge-Z):(a==="out"&&k>0&&(k=-k),a==="in"&&k<0&&(k=Math.abs(k)),ge=Math.max(0,Z+k)),ae.value=!0;try{const{error:z}=await ce.from("stock_movements").insert({product_id:r,variant_id:null,type:a,quantity:k,reason:d,reference_id:l,vendor_id:x,stock_type:_});if(z)throw z;const{error:ee}=await ce.from("products").update({[$]:ge,updated_at:new Date().toISOString()}).eq("id",r);if(ee)throw ee;await h(),await g(r)}finally{ae.value=!1}},f=async()=>{try{const{data:n,error:r}=await ce.from("categories").select("*").eq("is_active",!0).order("display_order");if(r)throw r;Te.value=n||[]}catch(n){console.error("Erreur chargement catégories:",n),Te.value=[]}},v=async n=>{const r=n.category_id&&String(n.category_id).trim()?n.category_id:null,a=n.barcode?.trim()||null,d=Te.value.find(x=>x.id===r),l=Be(d?.slug);ae.value=!0;try{const x={name:n.name.trim(),code:n.code?.trim()||null,description:null,category_id:r,brand:n.brand?.trim()||null,model:n.model?.trim()||null,barcode:a,location:n.location?.trim()||null,type:"product",price_ht:Number(n.price_ht)||0,price_ttc:Number(n.price_ttc)||0,tva_rate:n.tva_rate??.2,size:n.size?.trim()||null,duration:null,stock:Math.max(0,Number(n.stock)||0),alert_threshold:Math.max(0,Number(n.alert_threshold)||5),is_active:!0,display_order:999};l&&(x.stock_technical=Math.max(0,Number(n.stock_technical)||0));const{error:_}=await ce.from("products").insert(x);if(_){const k=_.message||JSON.stringify(_);throw new Error(`Erreur création produit: ${k}`)}await h()}finally{ae.value=!1}},p=async(n,r)=>{ae.value=!0;try{const{error:a}=await ce.from("products").update({alert_threshold:Math.max(0,r),updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a;await h()}finally{ae.value=!1}},y=async(n,r)=>{ae.value=!0;try{const a=r?.trim()||null,{error:d}=await ce.from("products").update({barcode:a,updated_at:new Date().toISOString()}).eq("id",n);if(d)throw d;await h()}finally{ae.value=!1}},c=async n=>{ae.value=!0;try{const{error:r}=await ce.from("products").delete().eq("id",n);if(r){const a=r.message||JSON.stringify(r);throw new Error(`Erreur suppression: ${a}`)}await h()}finally{ae.value=!1}},i=async(n,r)=>{const a=r.category_id?Te.value.find(x=>x.id===r.category_id):Pe.value.find(x=>x.id===n)?.category,d=Be(a?.slug),l={updated_at:new Date().toISOString()};r.name!==void 0&&(l.name=r.name.trim()),r.code!==void 0&&(l.code=r.code?.trim()||null),r.barcode!==void 0&&(l.barcode=r.barcode?.trim()||null),r.category_id!==void 0&&(l.category_id=r.category_id?.trim()?r.category_id:null),r.brand!==void 0&&(l.brand=r.brand?.trim()||null),r.model!==void 0&&(l.model=r.model?.trim()||null),r.location!==void 0&&(l.location=r.location?.trim()||null),r.price_ht!==void 0&&(l.price_ht=Number(r.price_ht)||0),r.price_ttc!==void 0&&(l.price_ttc=Number(r.price_ttc)||0),r.tva_rate!==void 0&&(l.tva_rate=r.tva_rate),r.size!==void 0&&(l.size=r.size?.trim()||null),r.stock!==void 0&&(l.stock=Math.max(0,Number(r.stock)||0)),d&&r.stock_technical!==void 0&&(l.stock_technical=Math.max(0,Number(r.stock_technical)||0)),r.alert_threshold!==void 0&&(l.alert_threshold=Math.max(0,Number(r.alert_threshold)||5)),ae.value=!0;try{const{error:x}=await ce.from("products").update(l).eq("id",n);if(x){const _=x.message||JSON.stringify(x);throw new Error(`Erreur mise à jour: ${_}`)}await h()}finally{ae.value=!1}},e=X(()=>Pe.value),t=X(()=>Pe.value.filter(n=>n.stock<=n.alert_threshold));return{productsWithStock:e,productsOnly:e,lowStockList:t,categories:Te,movements:Yt,loadProducts:h,loadCategories:f,loadMovements:g,addMovement:b,createProduct:v,deleteProduct:c,updateAlertThreshold:p,updateBarcode:y,updateProduct:i,isLoading:Ce,isSaving:ae}}function da(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var et={},Ie={},tt={},hr;function ue(){if(hr)return tt;hr=1,Object.defineProperty(tt,"__esModule",{value:!0});function h(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}var g=function b(f,v){h(this,b),this.data=f,this.text=v.text||f,this.options=v};return tt.default=g,tt}var br;function sa(){if(br)return Ie;br=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.CODE39=void 0;var h=(function(){function l(x,_){for(var k=0;k<_.length;k++){var $=_[k];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}return function(x,_,k){return _&&l(x.prototype,_),k&&l(x,k),x}})(),g=ue(),b=f(g);function f(l){return l&&l.__esModule?l:{default:l}}function v(l,x){if(!(l instanceof x))throw new TypeError("Cannot call a class as a function")}function p(l,x){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:l}function y(l,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);l.prototype=Object.create(x&&x.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(l,x):l.__proto__=x)}var c=(function(l){y(x,l);function x(_,k){return v(this,x),_=_.toUpperCase(),k.mod43&&(_+=r(d(_))),p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,_,k))}return h(x,[{key:"encode",value:function(){for(var k=t("*"),$=0;$<this.data.length;$++)k+=t(this.data[$])+"0";return k+=t("*"),{data:k,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(b.default),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],e=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function t(l){return n(a(l))}function n(l){return e[l].toString(2)}function r(l){return i[l]}function a(l){return i.indexOf(l)}function d(l){for(var x=0,_=0;_<l.length;_++)x+=a(l[_]);return x=x%43,x}return Ie.CODE39=c,Ie}var fe={},rt={},nt={},F={},pr;function Le(){if(pr)return F;pr=1,Object.defineProperty(F,"__esModule",{value:!0});var h;function g(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var b=F.SET_A=0,f=F.SET_B=1,v=F.SET_C=2;F.SHIFT=98;var p=F.START_A=103,y=F.START_B=104,c=F.START_C=105;return F.MODULO=103,F.STOP=106,F.FNC1=207,F.SET_BY_CODE=(h={},g(h,p,b),g(h,y,f),g(h,c,v),h),F.SWAP={101:b,100:f,99:v},F.A_START_CHAR="Ð",F.B_START_CHAR="Ñ",F.C_START_CHAR="Ò",F.A_CHARS="[\0-_È-Ï]",F.B_CHARS="[ -È-Ï]",F.C_CHARS="(Ï*[0-9]{2}Ï*)",F.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],F}var xr;function Nt(){if(xr)return nt;xr=1,Object.defineProperty(nt,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=ue(),b=v(g),f=Le();function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(n,r){p(this,t);var a=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.substring(1),r));return a.bytes=n.split("").map(function(d){return d.charCodeAt(0)}),a}return h(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,d=f.SET_BY_CODE[a];if(d===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(f.FNC1);var l=t.next(r,1,d);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(a)+l.result+t.getBar((l.checksum+a)%f.MODULO)+t.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return f.BARS[r]?f.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===f.SET_A){var d=r.shift();return d<32?d+64:d-32}else return a===f.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,d){if(!r.length)return{result:"",checksum:0};var l=void 0,x=void 0;if(r[0]>=200){x=r.shift()-105;var _=f.SWAP[x];_!==void 0?l=t.next(r,a+1,_):((d===f.SET_A||d===f.SET_B)&&x===f.SHIFT&&(r[0]=d===f.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),l=t.next(r,a+1,d))}else x=t.correctIndex(r,d),l=t.next(r,a+1,d);var k=t.getBar(x),$=x*a;return{result:k+l.result,checksum:$+l.checksum}}}]),t})(b.default);return nt.default=i,nt}var at={},mr;function ca(){if(mr)return at;mr=1,Object.defineProperty(at,"__esModule",{value:!0});var h=Le(),g=function(c){return c.match(new RegExp("^"+h.A_CHARS+"*"))[0].length},b=function(c){return c.match(new RegExp("^"+h.B_CHARS+"*"))[0].length},f=function(c){return c.match(new RegExp("^"+h.C_CHARS+"*"))[0]};function v(y,c){var i=c?h.A_CHARS:h.B_CHARS,e=y.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(e)return e[1]+"Ì"+p(y.substring(e[1].length));var t=y.match(new RegExp("^"+i+"+"))[0];return t.length===y.length?y:t+String.fromCharCode(c?205:206)+v(y.substring(t.length),!c)}function p(y){var c=f(y),i=c.length;if(i===y.length)return y;y=y.substring(i);var e=g(y)>=b(y);return c+String.fromCharCode(e?206:205)+v(y,e)}return at.default=function(y){var c=void 0,i=f(y).length;if(i>=2)c=h.C_START_CHAR+p(y);else{var e=g(y)>b(y);c=(e?h.A_START_CHAR:h.B_START_CHAR)+v(y,e)}return c.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(t,n){return"Ë"+n})},at}var _r;function fa(){if(_r)return rt;_r=1,Object.defineProperty(rt,"__esModule",{value:!0});var h=Nt(),g=v(h),b=ca(),f=v(b);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(n,r){if(p(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,f.default)(n),r));else var a=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return y(a)}return t})(g.default);return rt.default=i,rt}var ot={},kr;function ga(){if(kr)return ot;kr=1,Object.defineProperty(ot,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=Nt(),b=v(g),f=Le();function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(n,r){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f.A_START_CHAR+n,r))}return h(t,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),t})(b.default);return ot.default=i,ot}var it={},wr;function ya(){if(wr)return it;wr=1,Object.defineProperty(it,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=Nt(),b=v(g),f=Le();function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(n,r){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f.B_START_CHAR+n,r))}return h(t,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),t})(b.default);return it.default=i,it}var ut={},Er;function va(){if(Er)return ut;Er=1,Object.defineProperty(ut,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=Nt(),b=v(g),f=Le();function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(n,r){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f.C_START_CHAR+n,r))}return h(t,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),t})(b.default);return ut.default=i,ut}var Or;function ha(){if(Or)return fe;Or=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.CODE128C=fe.CODE128B=fe.CODE128A=fe.CODE128=void 0;var h=fa(),g=i(h),b=ga(),f=i(b),v=ya(),p=i(v),y=va(),c=i(y);function i(e){return e&&e.__esModule?e:{default:e}}return fe.CODE128=g.default,fe.CODE128A=f.default,fe.CODE128B=p.default,fe.CODE128C=c.default,fe}var Q={},lt={},ye={},Sr;function Ge(){return Sr||(Sr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.SIDE_BIN="101",ye.MIDDLE_BIN="01010",ye.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},ye.EAN2_STRUCTURE=["LL","LG","GL","GG"],ye.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],ye.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),ye}var dt={},st={},Ar;function Ue(){if(Ar)return st;Ar=1,Object.defineProperty(st,"__esModule",{value:!0});var h=Ge(),g=function(f,v,p){var y=f.split("").map(function(i,e){return h.BINARIES[v[e]]}).map(function(i,e){return i?i[f[e]]:""});if(p){var c=f.length-1;y=y.map(function(i,e){return e<c?i+p:i})}return y.join("")};return st.default=g,st}var Rr;function pn(){if(Rr)return dt;Rr=1,Object.defineProperty(dt,"__esModule",{value:!0});var h=(function(){function n(r,a){for(var d=0;d<a.length;d++){var l=a[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,a,d){return a&&n(r.prototype,a),d&&n(r,d),r}})(),g=Ge(),b=Ue(),f=y(b),v=ue(),p=y(v);function y(n){return n&&n.__esModule?n:{default:n}}function c(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function i(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function e(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=(function(n){e(r,n);function r(a,d){c(this,r);var l=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,d));return l.fontSize=!d.flat&&d.fontSize>d.width*10?d.width*10:d.fontSize,l.guardHeight=d.height+l.fontSize/2+d.textMargin,l}return h(r,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(d,l){return this.text.substr(d,l)}},{key:"leftEncode",value:function(d,l){return(0,f.default)(d,l)}},{key:"rightText",value:function(d,l){return this.text.substr(d,l)}},{key:"rightEncode",value:function(d,l){return(0,f.default)(d,l)}},{key:"encodeGuarded",value:function(){var d={fontSize:this.fontSize},l={height:this.guardHeight};return[{data:g.SIDE_BIN,options:l},{data:this.leftEncode(),text:this.leftText(),options:d},{data:g.MIDDLE_BIN,options:l},{data:this.rightEncode(),text:this.rightText(),options:d},{data:g.SIDE_BIN,options:l}]}},{key:"encodeFlat",value:function(){var d=[g.SIDE_BIN,this.leftEncode(),g.MIDDLE_BIN,this.rightEncode(),g.SIDE_BIN];return{data:d.join(""),text:this.text}}}]),r})(p.default);return dt.default=t,dt}var Mr;function ba(){if(Mr)return lt;Mr=1,Object.defineProperty(lt,"__esModule",{value:!0});var h=(function(){function n(r,a){for(var d=0;d<a.length;d++){var l=a[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,a,d){return a&&n(r.prototype,a),d&&n(r,d),r}})(),g=function n(r,a,d){r===null&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,a);if(l===void 0){var x=Object.getPrototypeOf(r);return x===null?void 0:n(x,a,d)}else{if("value"in l)return l.value;var _=l.get;return _===void 0?void 0:_.call(d)}},b=Ge(),f=pn(),v=p(f);function p(n){return n&&n.__esModule?n:{default:n}}function y(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function c(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function i(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(r){var a=r.substr(0,12).split("").map(function(d){return+d}).reduce(function(d,l,x){return x%2?d+l*3:d+l},0);return(10-a%10)%10},t=(function(n){i(r,n);function r(a,d){y(this,r),a.search(/^[0-9]{12}$/)!==-1&&(a+=e(a));var l=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,d));return l.lastChar=d.lastChar,l}return h(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===e(this.data)}},{key:"leftText",value:function(){return g(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var d=this.data.substr(1,6),l=b.EAN13_STRUCTURE[this.data[0]];return g(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,d,l)}},{key:"rightText",value:function(){return g(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var d=this.data.substr(7,6);return g(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,d,"RRRRRR")}},{key:"encodeGuarded",value:function(){var d=g(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(d.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(d.push({data:"00"}),d.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),d}}]),r})(v.default);return lt.default=t,lt}var ct={},Pr;function pa(){if(Pr)return ct;Pr=1,Object.defineProperty(ct,"__esModule",{value:!0});var h=(function(){function t(n,r){for(var a=0;a<r.length;a++){var d=r[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,r,a){return r&&t(n.prototype,r),a&&t(n,a),n}})(),g=function t(n,r,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,r);if(d===void 0){var l=Object.getPrototypeOf(n);return l===null?void 0:t(l,r,a)}else{if("value"in d)return d.value;var x=d.get;return x===void 0?void 0:x.call(a)}},b=pn(),f=v(b);function v(t){return t&&t.__esModule?t:{default:t}}function p(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function y(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function c(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var i=function(n){var r=n.substr(0,7).split("").map(function(a){return+a}).reduce(function(a,d,l){return l%2?a+d:a+d*3},0);return(10-r%10)%10},e=(function(t){c(n,t);function n(r,a){return p(this,n),r.search(/^[0-9]{7}$/)!==-1&&(r+=i(r)),y(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,a))}return h(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===i(this.data)}},{key:"leftText",value:function(){return g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var a=this.data.substr(0,4);return g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,a,"LLLL")}},{key:"rightText",value:function(){return g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var a=this.data.substr(4,4);return g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,a,"RRRR")}}]),n})(f.default);return ct.default=e,ct}var ft={},Tr;function xa(){if(Tr)return ft;Tr=1,Object.defineProperty(ft,"__esModule",{value:!0});var h=(function(){function r(a,d){for(var l=0;l<d.length;l++){var x=d[l];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(a,x.key,x)}}return function(a,d,l){return d&&r(a.prototype,d),l&&r(a,l),a}})(),g=Ge(),b=Ue(),f=y(b),v=ue(),p=y(v);function y(r){return r&&r.__esModule?r:{default:r}}function c(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function i(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:r}function e(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}var t=function(a){var d=a.split("").map(function(l){return+l}).reduce(function(l,x,_){return _%2?l+x*9:l+x*3},0);return d%10},n=(function(r){e(a,r);function a(d,l){return c(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,l))}return h(a,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var l=g.EAN5_STRUCTURE[t(this.data)];return{data:"1011"+(0,f.default)(this.data,l,"01"),text:this.text}}}]),a})(p.default);return ft.default=n,ft}var gt={},Cr;function ma(){if(Cr)return gt;Cr=1,Object.defineProperty(gt,"__esModule",{value:!0});var h=(function(){function n(r,a){for(var d=0;d<a.length;d++){var l=a[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,a,d){return a&&n(r.prototype,a),d&&n(r,d),r}})(),g=Ge(),b=Ue(),f=y(b),v=ue(),p=y(v);function y(n){return n&&n.__esModule?n:{default:n}}function c(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function i(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function e(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=(function(n){e(r,n);function r(a,d){return c(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,d))}return h(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var d=g.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,f.default)(this.data,d,"01"),text:this.text}}}]),r})(p.default);return gt.default=t,gt}var De={},Ir;function xn(){if(Ir)return De;Ir=1,Object.defineProperty(De,"__esModule",{value:!0});var h=(function(){function n(r,a){for(var d=0;d<a.length;d++){var l=a[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,a,d){return a&&n(r.prototype,a),d&&n(r,d),r}})();De.checksum=t;var g=Ue(),b=p(g),f=ue(),v=p(f);function p(n){return n&&n.__esModule?n:{default:n}}function y(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function c(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function i(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=(function(n){i(r,n);function r(a,d){y(this,r),a.search(/^[0-9]{11}$/)!==-1&&(a+=t(a));var l=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,d));return l.displayValue=d.displayValue,d.fontSize>d.width*10?l.fontSize=d.width*10:l.fontSize=d.fontSize,l.guardHeight=d.height+l.fontSize/2+d.textMargin,l}return h(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==t(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=(0,b.default)(this.data.substr(0,6),"LLLLLL"),d+="01010",d+=(0,b.default)(this.data.substr(6,6),"RRRRRR"),d+="101",{data:d,text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101"+(0,b.default)(this.data[0],"L"),options:{height:this.guardHeight}}),d.push({data:(0,b.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),d.push({data:"01010",options:{height:this.guardHeight}}),d.push({data:(0,b.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),d.push({data:(0,b.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),d}}]),r})(v.default);function t(n){var r=0,a;for(a=1;a<11;a+=2)r+=parseInt(n[a]);for(a=0;a<11;a+=2)r+=parseInt(n[a])*3;return(10-r%10)%10}return De.default=e,De}var yt={},Dr;function _a(){if(Dr)return yt;Dr=1,Object.defineProperty(yt,"__esModule",{value:!0});var h=(function(){function d(l,x){for(var _=0;_<x.length;_++){var k=x[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(l,k.key,k)}}return function(l,x,_){return x&&d(l.prototype,x),_&&d(l,_),l}})(),g=Ue(),b=y(g),f=ue(),v=y(f),p=xn();function y(d){return d&&d.__esModule?d:{default:d}}function c(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function e(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var t=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],n=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],r=(function(d){e(l,d);function l(x,_){c(this,l);var k=i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,x,_));if(k.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)k.middleDigits=x,k.upcA=a(x,"0"),k.text=_.text||""+k.upcA[0]+x+k.upcA[k.upcA.length-1],k.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(k.middleDigits=x.substring(1,x.length-1),k.upcA=a(k.middleDigits,x[0]),k.upcA[k.upcA.length-1]===x[x.length-1])k.isValid=!0;else return i(k);else return i(k);return k.displayValue=_.displayValue,_.fontSize>_.width*10?k.fontSize=_.width*10:k.fontSize=_.fontSize,k.guardHeight=_.height+k.fontSize/2+_.textMargin,k}return h(l,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var _="";return _+="101",_+=this.encodeMiddleDigits(),_+="010101",{data:_,text:this.text}}},{key:"guardedEncoding",value:function(){var _=[];return this.displayValue&&_.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),_.push({data:"101",options:{height:this.guardHeight}}),_.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),_.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&_.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),_}},{key:"encodeMiddleDigits",value:function(){var _=this.upcA[0],k=this.upcA[this.upcA.length-1],$=n[parseInt(k)][parseInt(_)];return(0,b.default)(this.middleDigits,$)}}]),l})(v.default);function a(d,l){for(var x=parseInt(d[d.length-1]),_=t[x],k="",$=0,W=0;W<_.length;W++){var Z=_[W];Z==="X"?k+=d[$++]:k+=Z}return k=""+l+k,""+k+(0,p.checksum)(k)}return yt.default=r,yt}var qr;function ka(){if(qr)return Q;qr=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.UPCE=Q.UPC=Q.EAN2=Q.EAN5=Q.EAN8=Q.EAN13=void 0;var h=ba(),g=r(h),b=pa(),f=r(b),v=xa(),p=r(v),y=ma(),c=r(y),i=xn(),e=r(i),t=_a(),n=r(t);function r(a){return a&&a.__esModule?a:{default:a}}return Q.EAN13=g.default,Q.EAN8=f.default,Q.EAN5=p.default,Q.EAN2=c.default,Q.UPC=e.default,Q.UPCE=n.default,Q}var _e={},vt={},Ee={},$r;function wa(){return $r||($r=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.START_BIN="1010",Ee.END_BIN="11101",Ee.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Ee}var Nr;function mn(){if(Nr)return vt;Nr=1,Object.defineProperty(vt,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=wa(),b=ue(),f=v(b);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(d){return r.encodePair(d)}).join("");return{data:g.START_BIN+a+g.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=g.BINARIES[r[1]];return g.BINARIES[r[0]].split("").map(function(d,l){return(d==="1"?"111":"1")+(a[l]==="1"?"000":"0")}).join("")}}]),t})(f.default);return vt.default=i,vt}var ht={},jr;function Ea(){if(jr)return ht;jr=1,Object.defineProperty(ht,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=mn(),b=f(g);function f(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(t){var n=t.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,d){return r+a*(3-d%2*2)},0);return Math.ceil(n/10)*10-n},i=(function(e){y(t,e);function t(n,r){return v(this,t),n.search(/^[0-9]{13}$/)!==-1&&(n+=c(n)),p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return h(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===c(this.data)}}]),t})(b.default);return ht.default=i,ht}var Br;function Oa(){if(Br)return _e;Br=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.ITF14=_e.ITF=void 0;var h=mn(),g=v(h),b=Ea(),f=v(b);function v(p){return p&&p.__esModule?p:{default:p}}return _e.ITF=g.default,_e.ITF14=f.default,_e}var oe={},bt={},Lr;function Fe(){if(Lr)return bt;Lr=1,Object.defineProperty(bt,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=ue(),b=f(g);function f(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(function(e){y(t,e);function t(n,r){return v(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return h(t,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var d=parseInt(this.data[a]),l=d.toString(2);l=i(l,4-l.length);for(var x=0;x<l.length;x++)r+=l[x]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t})(b.default);function i(e,t){for(var n=0;n<t;n++)e="0"+e;return e}return bt.default=c,bt}var pt={},qe={},Gr;function jt(){if(Gr)return qe;Gr=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.mod10=h,qe.mod11=g;function h(b){for(var f=0,v=0;v<b.length;v++){var p=parseInt(b[v]);(v+b.length)%2===0?f+=p:f+=p*2%10+Math.floor(p*2/10)}return(10-f%10)%10}function g(b){for(var f=0,v=[2,3,4,5,6,7],p=0;p<b.length;p++){var y=parseInt(b[b.length-1-p]);f+=v[p%v.length]*y}return(11-f%11)%11}return qe}var Ur;function Sa(){if(Ur)return pt;Ur=1,Object.defineProperty(pt,"__esModule",{value:!0});var h=Fe(),g=f(h),b=jt();function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){return v(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,b.mod10)(t),n))}return e})(g.default);return pt.default=c,pt}var xt={},Fr;function Aa(){if(Fr)return xt;Fr=1,Object.defineProperty(xt,"__esModule",{value:!0});var h=Fe(),g=f(h),b=jt();function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){return v(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,b.mod11)(t),n))}return e})(g.default);return xt.default=c,xt}var mt={},Vr;function Ra(){if(Vr)return mt;Vr=1,Object.defineProperty(mt,"__esModule",{value:!0});var h=Fe(),g=f(h),b=jt();function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){return v(this,e),t+=(0,b.mod10)(t),t+=(0,b.mod10)(t),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return e})(g.default);return mt.default=c,mt}var _t={},zr;function Ma(){if(zr)return _t;zr=1,Object.defineProperty(_t,"__esModule",{value:!0});var h=Fe(),g=f(h),b=jt();function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){return v(this,e),t+=(0,b.mod11)(t),t+=(0,b.mod10)(t),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return e})(g.default);return _t.default=c,_t}var Hr;function Pa(){if(Hr)return oe;Hr=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.MSI1110=oe.MSI1010=oe.MSI11=oe.MSI10=oe.MSI=void 0;var h=Fe(),g=t(h),b=Sa(),f=t(b),v=Aa(),p=t(v),y=Ra(),c=t(y),i=Ma(),e=t(i);function t(n){return n&&n.__esModule?n:{default:n}}return oe.MSI=g.default,oe.MSI10=f.default,oe.MSI11=p.default,oe.MSI1010=c.default,oe.MSI1110=e.default,oe}var $e={},Xr;function Ta(){if(Xr)return $e;Xr=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.pharmacode=void 0;var h=(function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}})(),g=ue(),b=f(g);function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){v(this,e);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.number=parseInt(t,10),r}return h(e,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2===0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e})(b.default);return $e.pharmacode=c,$e}var Ne={},Jr;function Ca(){if(Jr)return Ne;Jr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.codabar=void 0;var h=(function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}})(),g=ue(),b=f(g);function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){v(this,e),t.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(t="A"+t+"A");var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return h(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),a=0;a<this.data.length;a++)n.push(r[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e})(b.default);return Ne.codabar=c,Ne}var ke={},kt={},Oe={},Yr;function Ia(){return Yr||(Yr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"],Oe.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Oe.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Oe}var Kr;function _n(){if(Kr)return kt;Kr=1,Object.defineProperty(kt,"__esModule",{value:!0});var h=(function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),g=Ia(),b=ue(),f=v(b);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){c(t,e);function t(n,r){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return h(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(x){return g.MULTI_SYMBOLS[x]||x}),a=r.map(function(x){return t.getEncoding(x)}).join(""),d=t.checksum(r,20),l=t.checksum(r.concat(d),15);return{text:this.text,data:t.getEncoding("ÿ")+a+t.getEncoding(d)+t.getEncoding(l)+t.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return g.BINARIES[t.symbolValue(r)]}},{key:"getSymbol",value:function(r){return g.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return g.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,a){var d=r.slice().reverse().reduce(function(l,x,_){var k=_%a+1;return l+t.symbolValue(x)*k},0);return t.getSymbol(d%47)}}]),t})(f.default);return kt.default=i,kt}var wt={},Qr;function Da(){if(Qr)return wt;Qr=1,Object.defineProperty(wt,"__esModule",{value:!0});var h=(function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}})(),g=_n(),b=f(g);function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){return v(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return h(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e})(b.default);return wt.default=c,wt}var Wr;function qa(){if(Wr)return ke;Wr=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.CODE93FullASCII=ke.CODE93=void 0;var h=_n(),g=v(h),b=Da(),f=v(b);function v(p){return p&&p.__esModule?p:{default:p}}return ke.CODE93=g.default,ke.CODE93FullASCII=f.default,ke}var je={},Zr;function $a(){if(Zr)return je;Zr=1,Object.defineProperty(je,"__esModule",{value:!0}),je.GenericBarcode=void 0;var h=(function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}})(),g=ue(),b=f(g);function f(i){return i&&i.__esModule?i:{default:i}}function v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function y(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c=(function(i){y(e,i);function e(t,n){return v(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return h(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e})(b.default);return je.GenericBarcode=c,je}var en;function Na(){if(en)return et;en=1,Object.defineProperty(et,"__esModule",{value:!0});var h=sa(),g=ha(),b=ka(),f=Oa(),v=Pa(),p=Ta(),y=Ca(),c=qa(),i=$a();return et.default={CODE39:h.CODE39,CODE128:g.CODE128,CODE128A:g.CODE128A,CODE128B:g.CODE128B,CODE128C:g.CODE128C,EAN13:b.EAN13,EAN8:b.EAN8,EAN5:b.EAN5,EAN2:b.EAN2,UPC:b.UPC,UPCE:b.UPCE,ITF14:f.ITF14,ITF:f.ITF,MSI:v.MSI,MSI10:v.MSI10,MSI11:v.MSI11,MSI1010:v.MSI1010,MSI1110:v.MSI1110,pharmacode:p.pharmacode,codabar:y.codabar,CODE93:c.CODE93,CODE93FullASCII:c.CODE93FullASCII,GenericBarcode:i.GenericBarcode},et}var Et={},tn;function Bt(){if(tn)return Et;tn=1,Object.defineProperty(Et,"__esModule",{value:!0});var h=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var f=arguments[b];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(g[v]=f[v])}return g};return Et.default=function(g,b){return h({},g,b)},Et}var Ot={},rn;function ja(){if(rn)return Ot;rn=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=h;function h(g){var b=[];function f(v){if(Array.isArray(v))for(var p=0;p<v.length;p++)f(v[p]);else v.text=v.text||"",v.data=v.data||"",b.push(v)}return f(g),b}return Ot}var St={},nn;function Ba(){if(nn)return St;nn=1,Object.defineProperty(St,"__esModule",{value:!0}),St.default=h;function h(g){return g.marginTop=g.marginTop||g.margin,g.marginBottom=g.marginBottom||g.margin,g.marginRight=g.marginRight||g.margin,g.marginLeft=g.marginLeft||g.margin,g}return St}var At={},Rt={},Mt={},an;function kn(){if(an)return Mt;an=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=h;function h(g){var b=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var f in b)b.hasOwnProperty(f)&&(f=b[f],typeof g[f]=="string"&&(g[f]=parseInt(g[f],10)));return typeof g.displayValue=="string"&&(g.displayValue=g.displayValue!="false"),g}return Mt}var Pt={},on;function wn(){if(on)return Pt;on=1,Object.defineProperty(Pt,"__esModule",{value:!0});var h={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Pt.default=h,Pt}var un;function La(){if(un)return Rt;un=1,Object.defineProperty(Rt,"__esModule",{value:!0});var h=kn(),g=v(h),b=wn(),f=v(b);function v(y){return y&&y.__esModule?y:{default:y}}function p(y){var c={};for(var i in f.default)f.default.hasOwnProperty(i)&&(y.hasAttribute("jsbarcode-"+i.toLowerCase())&&(c[i]=y.getAttribute("jsbarcode-"+i.toLowerCase())),y.hasAttribute("data-"+i.toLowerCase())&&(c[i]=y.getAttribute("data-"+i.toLowerCase())));return c.value=y.getAttribute("jsbarcode-value")||y.getAttribute("data-value"),c=(0,g.default)(c),c}return Rt.default=p,Rt}var Tt={},Ct={},ie={},ln;function En(){if(ln)return ie;ln=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.getTotalWidthOfEncodings=ie.calculateEncodingAttributes=ie.getBarcodePadding=ie.getEncodingHeight=ie.getMaximumHeightOfEncodings=void 0;var h=Bt(),g=b(h);function b(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function v(e,t,n){if(n.displayValue&&t<e){if(n.textAlign=="center")return Math.floor((e-t)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(e-t)}return 0}function p(e,t,n){for(var r=0;r<e.length;r++){var a=e[r],d=(0,g.default)(t,a.options),l;d.displayValue?l=i(a.text,d,n):l=0;var x=a.data.length*d.width;a.width=Math.ceil(Math.max(l,x)),a.height=f(a,d),a.barcodePadding=v(l,x,d)}}function y(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}function c(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t}function i(e,t,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var a=r.measureText(e);if(!a)return 0;var d=a.width;return d}return ie.getMaximumHeightOfEncodings=c,ie.getEncodingHeight=f,ie.getBarcodePadding=v,ie.calculateEncodingAttributes=p,ie.getTotalWidthOfEncodings=y,ie}var dn;function Ga(){if(dn)return Ct;dn=1,Object.defineProperty(Ct,"__esModule",{value:!0});var h=(function(){function c(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,t){return e&&c(i.prototype,e),t&&c(i,t),i}})(),g=Bt(),b=v(g),f=En();function v(c){return c&&c.__esModule?c:{default:c}}function p(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")}var y=(function(){function c(i,e,t){p(this,c),this.canvas=i,this.encodings=e,this.options=t}return h(c,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,b.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,f.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,f.getTotalWidthOfEncodings)(this.encodings),n=(0,f.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var n=this.canvas.getContext("2d"),r=t.data,a;e.textPosition=="top"?a=e.marginTop+e.fontSize+e.textMargin:a=e.marginTop,n.fillStyle=e.lineColor;for(var d=0;d<r.length;d++){var l=d*e.width+t.barcodePadding;r[d]==="1"?n.fillRect(l,a,e.width,e.height):r[d]&&n.fillRect(l,a,e.width,e.height*r[d])}}},{key:"drawCanvasText",value:function(e,t){var n=this.canvas.getContext("2d"),r=e.fontOptions+" "+e.fontSize+"px "+e.font;if(e.displayValue){var a,d;e.textPosition=="top"?d=e.marginTop+e.fontSize-e.textMargin:d=e.height+e.textMargin+e.marginTop+e.fontSize,n.font=r,e.textAlign=="left"||t.barcodePadding>0?(a=0,n.textAlign="left"):e.textAlign=="right"?(a=t.width-1,n.textAlign="right"):(a=t.width/2,n.textAlign="center"),n.fillText(t.text,a,d)}}},{key:"moveCanvasDrawing",value:function(e){var t=this.canvas.getContext("2d");t.translate(e.width,0)}},{key:"restoreCanvas",value:function(){var e=this.canvas.getContext("2d");e.restore()}}]),c})();return Ct.default=y,Ct}var It={},sn;function Ua(){if(sn)return It;sn=1,Object.defineProperty(It,"__esModule",{value:!0});var h=(function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}})(),g=Bt(),b=v(g),f=En();function v(i){return i&&i.__esModule?i:{default:i}}function p(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var y="http://www.w3.org/2000/svg",c=(function(){function i(e,t,n){p(this,i),this.svg=e,this.encodings=t,this.options=n,this.document=n.xmlDocument||document}return h(i,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],a=(0,b.default)(this.options,r.options),d=this.createGroup(t,a.marginTop,this.svg);this.setGroupOptions(d,a),this.drawSvgBarcode(d,a,r),this.drawSVGText(d,a,r),t+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,f.getTotalWidthOfEncodings)(this.encodings),n=(0,f.getMaximumHeightOfEncodings)(this.encodings),r=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(t,n,r){var a=r.data,d;n.textPosition=="top"?d=n.fontSize+n.textMargin:d=0;for(var l=0,x=0,_=0;_<a.length;_++)x=_*n.width+r.barcodePadding,a[_]==="1"?l++:l>0&&(this.drawRect(x-n.width*l,d,n.width*l,n.height,t),l=0);l>0&&this.drawRect(x-n.width*(l-1),d,n.width*l,n.height,t)}},{key:"drawSVGText",value:function(t,n,r){var a=this.document.createElementNS(y,"text");if(n.displayValue){var d,l;a.setAttribute("font-family",n.font),a.setAttribute("font-size",n.fontSize),n.fontOptions.includes("bold")&&a.setAttribute("font-weight","bold"),n.fontOptions.includes("italic")&&a.setAttribute("font-style","italic"),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(d=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(d=r.width-1,a.setAttribute("text-anchor","end")):(d=r.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",d),a.setAttribute("y",l),a.appendChild(this.document.createTextNode(r.text)),t.appendChild(a)}}},{key:"setSvgAttributes",value:function(t,n){var r=this.svg;r.setAttribute("width",t+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+t+" "+n),r.setAttribute("xmlns",y),r.setAttribute("version","1.1")}},{key:"createGroup",value:function(t,n,r){var a=this.document.createElementNS(y,"g");return a.setAttribute("transform","translate("+t+", "+n+")"),r.appendChild(a),a}},{key:"setGroupOptions",value:function(t,n){t.setAttribute("fill",n.lineColor)}},{key:"drawRect",value:function(t,n,r,a,d){var l=this.document.createElementNS(y,"rect");return l.setAttribute("x",t),l.setAttribute("y",n),l.setAttribute("width",r),l.setAttribute("height",a),d.appendChild(l),l}}]),i})();return It.default=c,It}var Dt={},cn;function Fa(){if(cn)return Dt;cn=1,Object.defineProperty(Dt,"__esModule",{value:!0});var h=(function(){function f(v,p){for(var y=0;y<p.length;y++){var c=p[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}return function(v,p,y){return p&&f(v.prototype,p),y&&f(v,y),v}})();function g(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}var b=(function(){function f(v,p,y){g(this,f),this.object=v,this.encodings=p,this.options=y}return h(f,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),f})();return Dt.default=b,Dt}var fn;function Va(){if(fn)return Tt;fn=1,Object.defineProperty(Tt,"__esModule",{value:!0});var h=Ga(),g=y(h),b=Ua(),f=y(b),v=Fa(),p=y(v);function y(c){return c&&c.__esModule?c:{default:c}}return Tt.default={CanvasRenderer:g.default,SVGRenderer:f.default,ObjectRenderer:p.default},Tt}var Se={},gn;function On(){if(gn)return Se;gn=1,Object.defineProperty(Se,"__esModule",{value:!0});function h(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function g(y,c){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:y}function b(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(y,c):y.__proto__=c)}var f=(function(y){b(c,y);function c(i,e){h(this,c);var t=g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.name="InvalidInputException",t.symbology=i,t.input=e,t.message='"'+t.input+'" is not a valid input for '+t.symbology,t}return c})(Error),v=(function(y){b(c,y);function c(){h(this,c);var i=g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return c})(Error),p=(function(y){b(c,y);function c(){h(this,c);var i=g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return c})(Error);return Se.InvalidInputException=f,Se.InvalidElementException=v,Se.NoElementException=p,Se}var yn;function za(){if(yn)return At;yn=1,Object.defineProperty(At,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=La(),b=y(g),f=Va(),v=y(f),p=On();function y(t){return t&&t.__esModule?t:{default:t}}function c(t){if(typeof t=="string")return i(t);if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(c(t[r]));return n}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return e(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,b.default)(t),renderer:v.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,b.default)(t),renderer:v.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:v.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":h(t))==="object"&&!t.nodeName)return{element:t,renderer:v.default.ObjectRenderer};throw new p.InvalidElementException}}function i(t){var n=document.querySelectorAll(t);if(n.length!==0){for(var r=[],a=0;a<n.length;a++)r.push(c(n[a]));return r}}function e(t){var n=document.createElement("canvas");return{element:n,options:(0,b.default)(t),renderer:v.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",n.toDataURL())}}}return At.default=c,At}var qt={},vn;function Ha(){if(vn)return qt;vn=1,Object.defineProperty(qt,"__esModule",{value:!0});var h=(function(){function f(v,p){for(var y=0;y<p.length;y++){var c=p[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}return function(v,p,y){return p&&f(v.prototype,p),y&&f(v,y),v}})();function g(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}var b=(function(){function f(v){g(this,f),this.api=v}return h(f,[{key:"handleCatch",value:function(p){if(p.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw p.message;else throw p;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(p){try{var y=p.apply(void 0,arguments);return this.api._options.valid(!0),y}catch(c){return this.handleCatch(c),this.api}}}]),f})();return qt.default=b,qt}var Kt,hn;function Xa(){if(hn)return Kt;hn=1;var h=Na(),g=_(h),b=Bt(),f=_(b),v=ja(),p=_(v),y=Ba(),c=_(y),i=za(),e=_(i),t=kn(),n=_(t),r=Ha(),a=_(r),d=On(),l=wn(),x=_(l);function _(P){return P&&P.__esModule?P:{default:P}}var k=function(){},$=function(j,B,I){var N=new k;if(typeof j>"u")throw Error("No element to render on was provided.");return N._renderProperties=(0,e.default)(j),N._encodings=[],N._options=x.default,N._errorHandler=new a.default(N),typeof B<"u"&&(I=I||{},I.format||(I.format=z()),N.options(I)[I.format](B,I).render()),N};$.getModule=function(P){return g.default[P]};for(var W in g.default)g.default.hasOwnProperty(W)&&Z(g.default,W);function Z(P,j){k.prototype[j]=k.prototype[j.toUpperCase()]=k.prototype[j.toLowerCase()]=function(B,I){var N=this;return N._errorHandler.wrapBarcodeCall(function(){I.text=typeof I.text>"u"?void 0:""+I.text;var J=(0,f.default)(N._options,I);J=(0,n.default)(J);var Ve=P[j],be=ge(B,Ve,J);return N._encodings.push(be),N})}}function ge(P,j,B){P=""+P;var I=new j(P,B);if(!I.valid())throw new d.InvalidInputException(I.constructor.name,P);var N=I.encode();N=(0,p.default)(N);for(var J=0;J<N.length;J++)N[J].options=(0,f.default)(B,N[J].options);return N}function z(){return g.default.CODE128?"CODE128":Object.keys(g.default)[0]}k.prototype.options=function(P){return this._options=(0,f.default)(this._options,P),this},k.prototype.blank=function(P){var j=new Array(P+1).join("0");return this._encodings.push({data:j}),this},k.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var P;for(var j in this._renderProperties){P=this._renderProperties[j];var B=(0,f.default)(this._options,P.options);B.format=="auto"&&(B.format=z()),this._errorHandler.wrapBarcodeCall(function(){var I=B.value,N=g.default[B.format.toUpperCase()],J=ge(I,N,B);ee(P,J,B)})}}},k.prototype.render=function(){if(!this._renderProperties)throw new d.NoElementException;if(Array.isArray(this._renderProperties))for(var P=0;P<this._renderProperties.length;P++)ee(this._renderProperties[P],this._encodings,this._options);else ee(this._renderProperties,this._encodings,this._options);return this},k.prototype._defaults=x.default;function ee(P,j,B){j=(0,p.default)(j);for(var I=0;I<j.length;I++)j[I].options=(0,f.default)(B,j[I].options),(0,c.default)(j[I].options);(0,c.default)(B);var N=P.renderer,J=new N(P.element,j,B);J.render(),P.afterRender&&P.afterRender()}return typeof window<"u"&&(window.JsBarcode=$),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(P,j){var B=[];return jQuery(this).each(function(){B.push(this)}),$(B,P,j)}),Kt=$,Kt}var Ja=Xa();const Ya=da(Ja);function Ka(){let h="200";for(let f=0;f<9;f++)h+=Math.floor(Math.random()*10).toString();let g=0;for(let f=0;f<12;f++)g+=parseInt(h[f])*(f%2===0?1:3);const b=(10-g%10)%10;return h+b.toString()}function $t(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Qa(h){if(typeof document>"u")return"";try{const g=document.createElementNS("http://www.w3.org/2000/svg","svg"),b=/^\d{12,13}$/.test(h)?"EAN13":"CODE128";return Ya(g,h,{format:b,width:1.2,height:28,displayValue:!1,margin:0}),g.outerHTML}catch{return""}}function Wa(h,g=24){const b=(h.price_ttc??0).toFixed(2),f=h.barcode||"",v=f?Qa(f):"";let p="";for(let i=0;i<g;i++)p+=`<div class="label">
  <div class="price">${b} &euro;</div>
  ${h.size?`<div class="size">Taille : ${$t(h.size)}</div>`:""}
  <div class="name">${$t(h.name)}</div>
  ${h.brand?`<div class="brand">${$t(h.brand)}</div>`:""}
  ${v?`<div class="barcode-container">${v}</div>`:""}
  ${f?`<div class="barcode-num">${f}</div>`:""}
</div>
`;const y=`<!DOCTYPE html>
<html><head><meta charset="utf-8">
<title>Étiquettes - ${$t(h.name)}</title>
<style>
@page { size: A4; margin: 5mm; }
body { margin: 0; padding: 0; }
.labels-grid { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(8, 1fr); width: 210mm; height: 297mm; gap: 0; }
.label { display: flex; flex-direction: column; align-items: center; justify-content: center; border: 0.5px dashed #ccc; padding: 2mm; text-align: center; font-family: Arial, sans-serif; overflow: hidden; }
.label .price { font-size: 16pt; font-weight: bold; }
.label .size { font-size: 12pt; }
.label .name { font-size: 8pt; }
.label .brand { font-size: 7pt; color: #555; }
.label .barcode-num { font-size: 8pt; font-family: monospace; }
.label .barcode-container { margin: 2px 0; line-height: 0; }
.label .barcode-container svg { max-width: 100%; height: auto; }
</style>
</head><body>
<div class="labels-grid">
${p}
</div>
</body></html>`,c=window.open("","_blank");c&&(c.document.write(y),c.document.close(),c.onload=()=>{c.print()})}const Za={class:"flex-1 px-2 py-4 lg:px-6 lg:py-6 overflow-auto bg-gray-50 dark:bg-gray-900"},eo={class:"max-w-[1800px] mx-auto space-y-6"},to={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},ro={class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},no=["disabled"],ao={class:"flex rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden bg-white dark:bg-gray-800"},oo={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},io={class:"flex flex-wrap items-center gap-3"},uo={class:"flex rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden"},lo=["onClick"],so={key:1,class:"flex justify-center py-20"},co={key:2,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},fo={class:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},go=["disabled"],yo={class:"overflow-x-auto"},vo={class:"w-full text-left"},ho={class:"divide-y divide-gray-100 dark:divide-gray-700"},bo={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},po={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},xo={class:"px-4 py-3"},mo={class:"px-4 py-3"},_o={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},ko={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},wo={key:3,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Eo={class:"overflow-x-auto"},Oo={class:"w-full min-w-[1200px] text-left"},So={class:"divide-y divide-gray-100 dark:divide-gray-700"},Ao={class:"px-3 py-3"},Ro={class:"flex items-center gap-2"},Mo={class:"font-medium text-gray-900 dark:text-white"},Po={class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"},To={class:"px-3 py-3 text-sm text-gray-500 dark:text-gray-400"},Co={class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300"},Io={class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300"},Do={class:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300"},qo={class:"px-3 py-3 text-sm text-gray-500 dark:text-gray-400"},$o={class:"px-3 py-3 text-sm text-gray-500 dark:text-gray-400"},No={class:"px-3 py-3 text-center"},jo={key:0,class:"font-semibold text-blue-600 dark:text-blue-400"},Bo={key:1,class:"text-gray-400 dark:text-gray-500"},Lo={class:"px-3 py-3 text-center text-gray-600 dark:text-gray-300"},Go={class:"px-3 py-3"},Uo={class:"flex items-center gap-2 flex-wrap"},Fo=["onClick"],Vo=["onClick"],zo=["onClick"],Ho=["onClick"],Xo=["onClick"],Jo={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},Yo={key:1,class:"flex flex-wrap items-center justify-between gap-4 px-4 py-3 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50"},Ko={class:"flex items-center gap-3"},Qo={class:"text-sm text-gray-600 dark:text-gray-400"},Wo=["value"],Zo={class:"flex items-center gap-2"},ei=["max"],ti={class:"text-sm text-gray-600 dark:text-gray-400"},ri=["disabled"],ni=["disabled"],ai={class:"flex gap-1"},oi=["onClick"],ii=["disabled"],ui=["disabled"],li={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},di={class:"flex flex-wrap gap-2"},si=["onClick"],ci={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},fi={class:"flex items-center justify-between mb-4"},gi={class:"text-sm text-gray-600 dark:text-gray-300 mb-4"},yi={class:"space-y-4"},vi={key:0},hi={class:"flex rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden"},bi={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},pi=["min","placeholder"],xi={class:"flex gap-3 mt-6"},mi=["disabled"],_i={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},ki={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},wi={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ei={class:"p-6 overflow-y-auto flex-1"},Oi={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},Si={key:1,class:"space-y-2"},Ai={class:"flex items-center gap-3"},Ri={class:"text-sm font-medium text-gray-900 dark:text-white"},Mi={class:"text-xs text-gray-500 dark:text-gray-400"},Pi={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},Ti={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 shrink-0"},Ci={class:"p-6 overflow-y-auto flex-1 min-h-0"},Ii={class:"space-y-4"},Di={key:0},qi={class:"flex gap-2"},$i=["value"],Ni={key:1,class:"space-y-2"},ji={key:0,class:"flex gap-2 mb-2"},Bi={class:"flex flex-wrap gap-2"},Li=["onClick"],Gi={key:2,class:"space-y-2"},Ui={class:"text-sm font-semibold text-gray-900 dark:text-white min-w-[60px]"},Fi={class:"flex-1"},Vi={class:"flex gap-1"},zi=["onUpdate:modelValue"],Hi=["onClick"],Xi={class:"w-20"},Ji=["onUpdate:modelValue"],Yi={class:"grid grid-cols-2 gap-4"},Ki={class:"grid grid-cols-2 gap-4"},Qi={key:0},Wi={key:4},Zi={class:"flex gap-3 p-6 pt-4 shrink-0 border-t border-gray-200 dark:border-gray-700"},eu=["disabled"],tu={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},ru={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 shrink-0"},nu={class:"p-6 overflow-y-auto flex-1 min-h-0"},au={class:"space-y-4"},ou={key:0},iu={class:"flex gap-2"},uu=["value"],lu={key:1,class:"space-y-2"},du={key:0,class:"flex gap-2 mb-2"},su={class:"flex flex-wrap gap-2"},cu=["onClick"],fu={key:2,class:"space-y-2"},gu={class:"text-sm font-semibold text-gray-900 dark:text-white min-w-[60px]"},yu={class:"flex-1"},vu={class:"flex gap-1"},hu=["onUpdate:modelValue"],bu=["onClick"],pu={class:"w-20"},xu=["onUpdate:modelValue"],mu={class:"grid grid-cols-2 gap-4"},_u={class:"grid grid-cols-2 gap-4"},ku={class:"flex gap-3 p-6 pt-4 shrink-0 border-t border-gray-200 dark:border-gray-700"},wu=["disabled"],Cu=Kn({__name:"StockPage",setup(h){const{productsWithStock:g,lowStockList:b,categories:f,movements:v,loadProducts:p,loadCategories:y,loadMovements:c,addMovement:i,createProduct:e,deleteProduct:t,updateProduct:n,isLoading:r,isSaving:a}=la(),{vendor:d}=Qn(),l=T("products"),x=T("all"),_=X(()=>x.value==="alert"?b.value:g.value),k=T(""),$=X(()=>{const m=k.value.trim().toLowerCase();return m?_.value.filter(o=>o.name.toLowerCase().includes(m)||o.code&&o.code.toLowerCase().includes(m)||o.barcode&&o.barcode.toLowerCase().includes(m)||o.brand&&o.brand.toLowerCase().includes(m)||o.model&&o.model.toLowerCase().includes(m)||o.location&&o.location.toLowerCase().includes(m)):_.value}),W=X(()=>{const m=$.value,o=new Map;for(const S of m){const D=`${S.name}|${S.code??""}|${S.category_id??""}`;o.has(D)||o.set(D,[]),o.get(D).push(S)}const s=[];for(const[,S]of o){const D=S[0],me=[...new Set(S.map(re=>re.size).filter(Boolean))];me.sort((re,we)=>{const lr=parseFloat(re),dr=parseFloat(we);return!isNaN(lr)&&!isNaN(dr)?lr-dr:String(re).localeCompare(String(we))});const Vn=S.map(re=>re.barcode).filter(Boolean),zn=S.reduce((re,we)=>re+we.stock,0),Hn=S.reduce((re,we)=>re+(we.stock_technical??0),0),Xn=D.alert_threshold??5,Jn=S.some(re=>re.stock<=(re.alert_threshold??5)),Yn=Be(D.category?.slug);s.push({key:`${D.id}-${S.length}`,products:S,name:D.name,code:D.code??null,category_id:D.category_id,brand:D.brand??null,model:D.model??null,category:D.category??null,location:D.location??null,sizes:me,barcodes:Vn,totalStock:zn,totalStockTech:Hn,alertThreshold:Xn,hasAlert:Jn,hasTechnicalStock:Yn})}return s}),Z=T(25),ge=[25,50,100],z=T(1),ee=X(()=>Math.max(1,Math.ceil(W.value.length/Z.value))),P=X(()=>{const m=W.value.length,o=Z.value,s=z.value,S=m===0?0:(s-1)*o+1,D=Math.min(s*o,m);return{from:S,to:D,total:m}}),j=X(()=>{const m=ee.value,o=z.value,s=2,S=[];for(let D=Math.max(1,o-s);D<=Math.min(m,o+s);D++)S.push(D);return S}),B=X(()=>{const m=(z.value-1)*Z.value;return W.value.slice(m,m+Z.value)}),I=m=>{z.value=Math.max(1,Math.min(m,ee.value))},N=T(""),J=()=>{N.value=String(z.value)},Ve=()=>{const m=parseInt(N.value,10);!isNaN(m)&&m>=1&&I(m),J()};Xt(z,()=>J(),{immediate:!0}),Xt([x,k],()=>{z.value=1});const be=T(!1),pe=T(null);function Sn(m){m.products.length===1?Wt(m.products[0]):(pe.value=m,be.value=!0)}function An(m){be.value=!1,pe.value=null,Wt(m)}const Lt=T(!1),de=T(null),te=T("in"),xe=T(1),ze=T(""),ve=T("sale"),Qt=X(()=>de.value?ve.value==="technical"?de.value.stock_technical??0:de.value.stock:0),Rn=X(()=>de.value?Be(de.value.category?.slug):!1);function Wt(m){de.value=m,te.value="in",xe.value=1,ze.value="",ve.value="sale",Lt.value=!0}function Gt(){Lt.value=!1,de.value=null}async function Mn(){if(!de.value)return;const m=xe.value;if(!(te.value==="adjustment"&&m<0)&&!(m<=0&&te.value!=="adjustment"))try{const o=te.value==="in"?"Entrée stock":te.value==="out"?"Sortie stock":`Ajustement → ${m}`;await i({product_id:de.value.id,type:te.value,quantity:xe.value,reason:ze.value||o,vendor_id:d.value?.id??null,stock_type:ve.value}),Gt()}catch(o){alert(o instanceof Error?o.message:"Erreur lors de l'enregistrement")}}const Ut=T(!1),He=T(null);function Pn(m){He.value=m,Ut.value=!0,c(m.id)}function Tn(){l.value="history",c()}function Cn(){Ut.value=!1,He.value=null}T(null),T(0),T(null),T("");const Zt=m=>new Date(m).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),In=m=>g.value.find(o=>o.id===m)?.name??"Produit inconnu",Dn=(m,o)=>{const s=Math.abs(o);return m==="in"?`+${s}`:m==="out"?`-${s}`:o>=0?`+${o}`:`${o}`},qn=m=>m==="technical"?"Technique":"Vente",er=["chaussures","boots","bottines","mocassins","souliers","tennis","baskets"],$n=[36,36.5,37,37.5,38,38.5,39,39.5,40,40.5,41,41.5,42,42.5,43,43.5,44,44.5,45,45.5,46,46.5,47],Nn=[{fr:36,uk:3},{fr:37,uk:4},{fr:38,uk:5},{fr:39,uk:6},{fr:40,uk:6.5},{fr:40.5,uk:7},{fr:41,uk:7.5},{fr:42,uk:8},{fr:42.5,uk:8.5},{fr:43,uk:9},{fr:43.5,uk:9.5},{fr:44,uk:10},{fr:45,uk:10.5},{fr:45.5,uk:11},{fr:46,uk:11.5},{fr:47,uk:12}],jn=[90,95,100,105,110,115,120,125,130],Ft=X(()=>{const m=Ye.value?E.value.category_id:M.value.category_id;return f.value.find(o=>o.id===m)?.slug||""}),tr=X(()=>er.includes(Ft.value)),Xe=X(()=>Be(Ft.value)),se=T("fr"),rr=T(null),L=T([]),V=T({}),Je=X(()=>{const m=Ft.value;return er.includes(m)?se.value==="fr"?$n.map(o=>String(o)):Nn.map(o=>`${o.fr} (${o.uk} UK)`):m==="ceintures"?jn.map(o=>String(o)):m&&!["echarpes","chaussettes","ceintures-tressees"].includes(m)?["TU"]:[]}),Ye=T(!1),E=T({name:"",code:"",barcode:"",category_id:"",brand:"",model:"",location:"",price_ht:0,price_ttc:0,tva_rate:.2,stock:0,stock_technical:0,alert_threshold:5}),nr=T(null);function Bn(){E.value={name:"",code:"",barcode:"",category_id:"",brand:"",model:"",location:"",price_ht:0,price_ttc:0,tva_rate:.2,stock:0,stock_technical:0,alert_threshold:5},rr.value=null,L.value=[],V.value={},se.value="fr",Ye.value=!0,y(),fr(()=>nr.value?.focus())}function Vt(){Ye.value=!1}const ar=X({get:()=>{const m=Number(E.value.price_ht)||0,o=Number(E.value.price_ttc)||0;return m>0?o/m:1.2},set:m=>{const o=Number(E.value.price_ht)||0;E.value.price_ttc=o>0?o*m:0}}),or=X({get:()=>{const m=Number(M.value.price_ht)||0,o=Number(M.value.price_ttc)||0;return m>0?o/m:1.2},set:m=>{const o=Number(M.value.price_ht)||0;M.value.price_ttc=o>0?o*m:0}});function ir(m){const o=L.value.indexOf(m);o>=0?(L.value.splice(o,1),delete V.value[m]):(L.value.push(m),V.value[m]||(V.value[m]={barcode:"",stock:0}))}function Ke(m){const o=Ka();m==="new"?E.value.barcode=o:m==="edit"?M.value.barcode=o:V.value[m]&&(V.value[m].barcode=o)}async function Ln(){if(!E.value.name.trim()){alert("Nom du produit requis.");return}try{if(L.value.length>0)for(const o of L.value){const s=V.value[o]||{barcode:"",stock:0};await e({name:E.value.name.trim(),code:E.value.code.trim()||null,barcode:s.barcode.trim()||null,category_id:E.value.category_id||null,brand:E.value.brand.trim()||null,model:E.value.model.trim()||null,location:E.value.location.trim()||null,price_ht:Number(E.value.price_ht)||0,price_ttc:Number(E.value.price_ttc)||0,tva_rate:.2,size:o,stock:Math.max(0,Number(s.stock)||0),stock_technical:Xe.value?0:void 0,alert_threshold:Math.max(0,Number(E.value.alert_threshold)||5)})}else await e({name:E.value.name.trim(),code:E.value.code.trim()||null,barcode:E.value.barcode.trim()||null,category_id:E.value.category_id||null,brand:E.value.brand.trim()||null,model:E.value.model.trim()||null,location:E.value.location.trim()||null,price_ht:Number(E.value.price_ht)||0,price_ttc:Number(E.value.price_ttc)||0,tva_rate:.2,size:null,stock:Math.max(0,Number(E.value.stock)||0),stock_technical:Xe.value?Math.max(0,Number(E.value.stock_technical)||0):void 0,alert_threshold:Math.max(0,Number(E.value.alert_threshold)||5)});Vt()}catch(m){alert(m instanceof Error?m.message:"Erreur lors de l'enregistrement")}}const zt=T(!1),Ae=T(null),Qe=T([]),M=T({name:"",code:"",barcode:"",category_id:"",brand:"",model:"",location:"",price_ht:0,price_ttc:0,tva_rate:.2,alert_threshold:5}),ur=T(null);function Gn(m){const o="products"in m?m.products:[m],s=o[0];Ae.value=s,Qe.value=o;const S=s.price_ttc??s.price_ht*(1+(s.tva_rate??.2));M.value={name:s.name,code:s.code||"",barcode:s.barcode||"",category_id:s.category_id||"",brand:s.brand||"",model:s.model||"",location:s.location||"",price_ht:s.price_ht,price_ttc:S,tva_rate:s.tva_rate??.2,alert_threshold:s.alert_threshold??5},L.value=o.map(D=>D.size).filter(Boolean),V.value={};for(const D of o){const me=D.size;me&&(V.value[me]={barcode:D.barcode||"",stock:D.stock})}rr.value=L.value[0]??null,se.value="fr",zt.value=!0,y(),fr(()=>ur.value?.focus())}function Ht(){zt.value=!1,Ae.value=null,Qe.value=[],L.value=[],V.value={}}async function Un(m){const o=m.products.length,s=o>1?`Supprimer ce produit et ses ${o} variantes (tailles) ?`:"Supprimer ce produit ?";if(confirm(s))try{for(const S of m.products)await t(S.id)}catch(S){alert(S instanceof Error?S.message:"Erreur lors de la suppression")}}async function Fn(){if(M.value.name.trim())try{const m={name:M.value.name.trim(),code:M.value.code.trim()||null,category_id:M.value.category_id||null,brand:M.value.brand.trim()||null,model:M.value.model.trim()||null,location:M.value.location.trim()||null,price_ht:Number(M.value.price_ht)||0,price_ttc:Number(M.value.price_ttc)||0,tva_rate:.2,alert_threshold:Math.max(0,Number(M.value.alert_threshold)||5)};if(L.value.length>0){const o=Qe.value.filter(s=>!L.value.includes(s.size??""));for(const s of o)await t(s.id);for(const s of L.value){const S=V.value[s]||{barcode:"",stock:0},D=Qe.value.find(me=>me.size===s);D?await n(D.id,{...m,barcode:S.barcode.trim()||null,size:s,stock:Math.max(0,Number(S.stock)||0)}):await e({...m,barcode:S.barcode.trim()||null,size:s,stock:Math.max(0,Number(S.stock)||0),stock_technical:0})}}else Ae.value&&await n(Ae.value.id,{...m,barcode:M.value.barcode.trim()||null,size:null});Ht()}catch(m){alert(m instanceof Error?m.message:"Erreur lors de la mise à jour")}}return Xt(l,m=>{m==="history"&&c()}),Wn(()=>{p(),l.value==="history"&&c()}),(m,o)=>(w(),O("main",Za,[u("div",eo,[u("div",to,[u("div",null,[u("h1",ro,[H(A(sr),{class:"w-7 h-7 text-gray-600 dark:text-gray-400"}),o[55]||(o[55]=Y(" Gestion du stock ",-1))]),o[56]||(o[56]=u("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Produits, mouvements et alertes",-1))]),u("button",{onClick:o[0]||(o[0]=s=>{A(p)(),A(c)()}),disabled:A(r),class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 transition-colors disabled:opacity-50"},[H(A(Me),{class:U(["w-4 h-4",A(r)&&"animate-spin"])},null,8,["class"]),o[57]||(o[57]=Y(" Actualiser ",-1))],8,no)]),u("div",ao,[u("button",{onClick:o[1]||(o[1]=s=>l.value="products"),class:U(["flex-1 px-6 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2",l.value==="products"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},[H(A(sr),{class:"w-4 h-4"}),o[58]||(o[58]=Y(" Produits ",-1))],2),u("button",{onClick:Tn,class:U(["flex-1 px-6 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2",l.value==="history"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},[H(A(cr),{class:"w-4 h-4"}),o[59]||(o[59]=Y(" Historique global ",-1))],2)]),l.value==="products"?(w(),O("div",oo,[u("div",io,[u("div",uo,[(w(),O(K,null,ne([{id:"all",label:"Tous"},{id:"alert",label:"Alerte stock"}],s=>u("button",{key:s.id,onClick:S=>x.value=s.id,class:U(["px-4 py-2 text-sm font-medium transition-colors",x.value===s.id?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},R(s.label),11,lo)),64))]),u("button",{onClick:Bn,class:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 dark:hover:bg-emerald-500"},[H(A(gr),{class:"w-4 h-4"}),o[60]||(o[60]=Y(" Ajouter un produit ",-1))]),C(u("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>k.value=s),type:"text",placeholder:"Rechercher un produit...",class:"flex-1 min-w-[200px] px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl text-sm focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,k.value]])])])):G("",!0),A(r)&&(l.value!=="products"||A(g).length===0)?(w(),O("div",so,[H(A(Me),{class:"w-8 h-8 text-gray-400 dark:text-gray-500 animate-spin"})])):l.value==="history"?(w(),O("div",co,[u("div",fo,[o[62]||(o[62]=u("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider"},"Tous les mouvements de stock",-1)),u("button",{onClick:o[3]||(o[3]=s=>A(c)()),disabled:A(r),class:"inline-flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50"},[H(A(Me),{class:U(["w-4 h-4",A(r)&&"animate-spin"])},null,8,["class"]),o[61]||(o[61]=Y(" Actualiser ",-1))],8,go)]),u("div",yo,[u("table",vo,[o[63]||(o[63]=u("thead",{class:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},[u("tr",null,[u("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Date"),u("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Produit"),u("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Stock"),u("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Type"),u("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Quantité"),u("th",{class:"px-4 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Motif")])],-1)),u("tbody",ho,[(w(!0),O(K,null,ne(A(v),s=>(w(),O("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[u("td",bo,R(Zt(s.created_at)),1),u("td",po,R(In(s.product_id)),1),u("td",xo,[u("span",{class:U(["inline-flex px-2 py-0.5 rounded text-xs font-medium",s.stock_type==="technical"?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])},R(qn(s.stock_type)),3)]),u("td",mo,[u("span",{class:U(["inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium",s.type==="in"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":s.type==="out"?"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[s.type==="in"?(w(),le(A(yr),{key:0,class:"w-3.5 h-3.5"})):s.type==="out"?(w(),le(A(vr),{key:1,class:"w-3.5 h-3.5"})):(w(),le(A(Me),{key:2,class:"w-3.5 h-3.5"})),Y(" "+R(s.type==="in"?"Entrée":s.type==="out"?"Sortie":"Ajustement"),1)],2)]),u("td",{class:U(["px-4 py-3 font-semibold",s.quantity>0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"])},R(s.quantity>0?"+":"")+R(s.quantity),3),u("td",_o,R(s.reason||"—"),1)]))),128))])])]),A(v).length===0?(w(),O("p",ko," Aucun mouvement enregistré. ")):G("",!0)])):(w(),O("div",wo,[u("div",Eo,[u("table",Oo,[o[69]||(o[69]=u("thead",{class:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},[u("tr",null,[u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[140px]"},"Produit"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[100px]"},"Taille"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[70px]"},"Code"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[130px]"},"Code-barres"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[100px]"},"Marque"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[90px]"},"Modèle"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[110px]"},"Catégorie"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[100px]"},"Empl."),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider text-center min-w-[50px]",title:"Stock de vente"},"Vente"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider text-center min-w-[50px]",title:"Stock technique"},"Tech."),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider text-center min-w-[55px]"},"Seuil"),u("th",{class:"px-3 py-3 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider min-w-[200px]"},"Actions")])],-1)),u("tbody",So,[(w(!0),O(K,null,ne(B.value,s=>(w(),O("tr",{key:s.key,class:U(["hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",{"bg-amber-50 dark:bg-amber-900/20":s.hasAlert}])},[u("td",Ao,[u("div",Ro,[u("span",Mo,R(s.name),1),s.hasAlert?(w(),le(A(ia),{key:0,class:"w-4 h-4 text-amber-500 shrink-0"})):G("",!0)])]),u("td",Po,R(s.sizes.length?s.sizes.join(", "):"—"),1),u("td",To,R(s.code||"—"),1),u("td",Co,R(s.barcodes.length?s.barcodes.length>2?s.barcodes.slice(0,2).join(", ")+"…":s.barcodes.join(", "):"—"),1),u("td",Io,R(s.brand||"—"),1),u("td",Do,R(s.model||"—"),1),u("td",qo,R(s.category?.name||"—"),1),u("td",$o,R(s.location||"—"),1),u("td",{class:U(["px-3 py-3 text-center font-semibold",s.hasAlert?"text-amber-600 dark:text-amber-400":"text-gray-900 dark:text-white"])},R(s.totalStock),3),u("td",No,[s.hasTechnicalStock?(w(),O("span",jo,R(s.totalStockTech),1)):(w(),O("span",Bo,"—"))]),u("td",Lo,R(s.alertThreshold),1),u("td",Go,[u("div",Uo,[u("button",{onClick:S=>Sn(s),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Ajouter un mouvement"},[H(A(gr),{class:"w-3.5 h-3.5"}),o[64]||(o[64]=Y(" Mouvement ",-1))],8,Fo),u("button",{onClick:S=>Pn(s.products[0]),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Historique"},[H(A(cr),{class:"w-3.5 h-3.5"}),o[65]||(o[65]=Y(" Historique ",-1))],8,Vo),u("button",{onClick:S=>Gn(s),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Modifier le produit"},[H(A(oa),{class:"w-3.5 h-3.5"}),o[66]||(o[66]=Y(" Modifier ",-1))],8,zo),u("button",{onClick:S=>s.products.forEach(D=>A(Wa)(D)),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",title:"Imprimer étiquettes"},[H(A(na),{class:"w-3.5 h-3.5"}),o[67]||(o[67]=Y(" Étiquettes ",-1))],8,Ho),u("button",{onClick:S=>Un(s),class:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40",title:"Supprimer le produit"},[H(A(aa),{class:"w-3.5 h-3.5"}),o[68]||(o[68]=Y(" Supprimer ",-1))],8,Xo)])])],2))),128))])])]),W.value.length===0?(w(),O("p",Jo," Aucun produit à afficher. ")):G("",!0),!A(r)&&W.value.length>0?(w(),O("div",Yo,[u("div",Ko,[u("span",Qo,R(P.value.from)+"-"+R(P.value.to)+" sur "+R(P.value.total)+" produits ",1),o[70]||(o[70]=u("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Par page",-1)),C(u("select",{"onUpdate:modelValue":o[4]||(o[4]=s=>Z.value=s),class:"px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm dark:text-gray-100"},[(w(),O(K,null,ne(ge,s=>u("option",{key:s,value:s},R(s),9,Wo)),64))],512),[[We,Z.value,void 0,{number:!0}]])]),u("div",Zo,[o[71]||(o[71]=u("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Page",-1)),C(u("input",{"onUpdate:modelValue":o[5]||(o[5]=s=>N.value=s),type:"number",min:"1",max:ee.value,onKeydown:Jt(Ve,["enter"]),onBlur:Ve,class:"w-16 px-2 py-1.5 text-sm text-center bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500"},null,40,ei),[[q,N.value]]),u("span",ti,"/ "+R(ee.value),1),u("button",{disabled:z.value<=1,onClick:o[6]||(o[6]=s=>I(1)),title:"Première page",class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[H(A(Zn),{class:"w-5 h-5"})],8,ri),u("button",{disabled:z.value<=1,onClick:o[7]||(o[7]=s=>I(z.value-1)),class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[H(A(ea),{class:"w-5 h-5"})],8,ni),u("div",ai,[(w(!0),O(K,null,ne(j.value,s=>(w(),O("button",{key:s,onClick:S=>I(s),class:U(["min-w-[2.25rem] px-2 py-1.5 text-sm font-medium rounded-lg transition-colors",z.value===s?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"])},R(s),11,oi))),128))]),u("button",{disabled:z.value>=ee.value,onClick:o[8]||(o[8]=s=>I(z.value+1)),class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[H(A(ta),{class:"w-5 h-5"})],8,ii),u("button",{disabled:z.value>=ee.value,onClick:o[9]||(o[9]=s=>I(ee.value)),title:"Dernière page",class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[H(A(ra),{class:"w-5 h-5"})],8,ui)])])):G("",!0)])),(w(),le(Re,{to:"body"},[be.value&&pe.value?(w(),O("div",{key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50",onClick:o[12]||(o[12]=he(s=>{be.value=!1,pe.value=null},["self"]))},[u("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-sm w-full p-6 border border-gray-200 dark:border-gray-700",onClick:o[11]||(o[11]=he(()=>{},["stop"]))},[o[72]||(o[72]=u("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Choisir la taille",-1)),u("p",li,R(pe.value.name),1),u("div",di,[(w(!0),O(K,null,ne(pe.value.products,s=>(w(),O("button",{key:s.id,onClick:S=>An(s),class:"px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 font-medium transition-colors"},R(s.size||"Sans taille")+" (stock: "+R(s.stock)+") ",9,si))),128))]),u("button",{onClick:o[10]||(o[10]=s=>{be.value=!1,pe.value=null}),class:"mt-4 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler ")])])):G("",!0)])),(w(),le(Re,{to:"body"},[Lt.value&&de.value?(w(),O("div",ci,[u("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md w-full p-6 border border-gray-200 dark:border-gray-700",onClick:o[18]||(o[18]=he(()=>{},["stop"]))},[u("div",fi,[o[73]||(o[73]=u("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Mouvement de stock",-1)),u("button",{onClick:Gt,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[H(A(Ze),{class:"w-5 h-5"})])]),u("p",gi,[Y(R(de.value.name)+" — Stock "+R(ve.value==="technical"?"technique":"vente")+" actuel : ",1),u("strong",null,R(Qt.value),1)]),u("div",yi,[Rn.value?(w(),O("div",vi,[o[74]||(o[74]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Type de stock",-1)),u("div",hi,[u("button",{type:"button",onClick:o[13]||(o[13]=s=>ve.value="sale"),class:U(["flex-1 px-4 py-2 text-sm font-medium transition-colors",ve.value==="sale"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},"Vente",2),u("button",{type:"button",onClick:o[14]||(o[14]=s=>ve.value="technical"),class:U(["flex-1 px-4 py-2 text-sm font-medium transition-colors",ve.value==="technical"?"bg-blue-600 text-white":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"])},"Technique",2)])])):G("",!0),u("div",null,[o[76]||(o[76]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Type",-1)),C(u("select",{"onUpdate:modelValue":o[15]||(o[15]=s=>te.value=s),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},[...o[75]||(o[75]=[u("option",{value:"in"},"Entrée",-1),u("option",{value:"out"},"Sortie",-1),u("option",{value:"adjustment"},"Fixer le stock",-1)])],512),[[We,te.value]])]),u("div",null,[u("label",bi,R(te.value==="adjustment"?"Nouvelle valeur du stock":"Quantité"),1),C(u("input",{"onUpdate:modelValue":o[16]||(o[16]=s=>xe.value=s),type:"number",min:te.value==="adjustment"?0:1,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:te.value==="adjustment"?`Actuellement : ${Qt.value}`:""},null,8,pi),[[q,xe.value,void 0,{number:!0}]])]),u("div",null,[o[77]||(o[77]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Motif",-1)),C(u("input",{"onUpdate:modelValue":o[17]||(o[17]=s=>ze.value=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Livraison, inventaire, perte..."},null,512),[[q,ze.value]])])]),u("div",xi,[u("button",{onClick:Gt,class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),u("button",{onClick:Mn,disabled:A(a)||te.value!=="adjustment"&&xe.value<=0||te.value==="adjustment"&&xe.value<0,class:"flex-1 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},R(A(a)?"Enregistrement...":"Enregistrer"),9,mi)])])])):G("",!0)])),(w(),le(Re,{to:"body"},[Ut.value?(w(),O("div",_i,[u("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col border border-gray-200 dark:border-gray-700",onClick:o[19]||(o[19]=he(()=>{},["stop"]))},[u("div",ki,[u("h3",wi," Historique des mouvements "+R(He.value?`— ${He.value.name}`:""),1),u("button",{onClick:Cn,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[H(A(Ze),{class:"w-5 h-5"})])]),u("div",Ei,[A(v).length===0?(w(),O("div",Oi," Aucun mouvement pour ce produit. ")):(w(),O("ul",Si,[(w(!0),O(K,null,ne(A(v),s=>(w(),O("li",{key:s.id,class:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0"},[u("div",Ai,[u("span",{class:U(["inline-flex items-center justify-center w-8 h-8 rounded-full",s.type==="in"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":s.type==="out"?"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[s.type==="in"?(w(),le(A(yr),{key:0,class:"w-4 h-4"})):s.type==="out"?(w(),le(A(vr),{key:1,class:"w-4 h-4"})):(w(),le(A(Me),{key:2,class:"w-4 h-4"}))],2),u("div",null,[u("p",Ri,R(Dn(s.type,s.quantity))+" — "+R(s.reason),1),u("p",Mi,R(Zt(s.created_at)),1)])]),u("span",{class:U(["font-semibold",s.quantity>0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"])},R(s.quantity>0?"+":"")+R(s.quantity),3)]))),128))]))])])])):G("",!0)])),(w(),le(Re,{to:"body"},[Ye.value?(w(),O("div",Pi,[u("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden border border-gray-200 dark:border-gray-700 my-8",onClick:o[38]||(o[38]=he(()=>{},["stop"]))},[u("div",Ti,[o[78]||(o[78]=u("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Nouveau produit",-1)),u("button",{onClick:Vt,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[H(A(Ze),{class:"w-5 h-5"})])]),u("div",Ci,[u("div",Ii,[L.value.length===0?(w(),O("div",Di,[o[79]||(o[79]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code-barres",-1)),u("div",qi,[C(u("input",{ref_key:"barcodeInputRef",ref:nr,"onUpdate:modelValue":o[20]||(o[20]=s=>E.value.barcode=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Scannez ici ou saisissez (EAN…)",onKeydown:o[21]||(o[21]=Jt(he(()=>{},["prevent"]),["enter"]))},null,544),[[q,E.value.barcode]]),u("button",{type:"button",onClick:o[22]||(o[22]=s=>Ke("new")),class:"px-3 py-2 text-sm bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-500 whitespace-nowrap"}," Générer ")]),o[80]||(o[80]=u("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Scannez ou saisissez le code-barres. Cliquez « Générer » pour un EAN-13 interne.",-1))])):G("",!0),u("div",null,[o[81]||(o[81]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nom *",-1)),C(u("input",{"onUpdate:modelValue":o[23]||(o[23]=s=>E.value.name=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Mocassin cuir"},null,512),[[q,E.value.name]])]),u("div",null,[o[82]||(o[82]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code",-1)),C(u("input",{"onUpdate:modelValue":o[24]||(o[24]=s=>E.value.code=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. MOC01"},null,512),[[q,E.value.code]])]),u("div",null,[o[84]||(o[84]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Catégorie",-1)),C(u("select",{"onUpdate:modelValue":o[25]||(o[25]=s=>E.value.category_id=s),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},[o[83]||(o[83]=u("option",{value:""},"— Choisir —",-1)),(w(!0),O(K,null,ne(A(f),s=>(w(),O("option",{key:s.id,value:s.id},R(s.name),9,$i))),128))],512),[[We,E.value.category_id]])]),Je.value.length>0?(w(),O("div",Ni,[o[85]||(o[85]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[Y("Tailles "),u("span",{class:"text-xs text-gray-400 font-normal"},"(sélection multiple)")],-1)),tr.value?(w(),O("div",ji,[u("button",{type:"button",onClick:o[26]||(o[26]=s=>se.value="fr"),class:U(["px-3 py-1.5 rounded-lg text-sm font-medium",se.value==="fr"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Française ",2),u("button",{type:"button",onClick:o[27]||(o[27]=s=>se.value="uk"),class:U(["px-3 py-1.5 rounded-lg text-sm font-medium",se.value==="uk"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Anglaise ",2)])):G("",!0),u("div",Bi,[(w(!0),O(K,null,ne(Je.value,s=>(w(),O("button",{key:s,type:"button",onClick:S=>ir(s),class:U(["px-3 py-2 rounded-lg text-sm font-medium transition-colors",L.value.includes(s)?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},R(s),11,Li))),128))])])):G("",!0),L.value.length>0?(w(),O("div",Gi,[o[88]||(o[88]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Détails par taille",-1)),(w(!0),O(K,null,ne(L.value,s=>(w(),O("div",{key:s,class:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3"},[u("span",Ui,R(s),1),V.value[s]?(w(),O(K,{key:0},[u("div",Fi,[o[86]||(o[86]=u("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Code-barres",-1)),u("div",Vi,[C(u("input",{"onUpdate:modelValue":S=>V.value[s].barcode=S,type:"text",class:"flex-1 px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm",placeholder:"EAN…"},null,8,zi),[[q,V.value[s].barcode]]),u("button",{type:"button",onClick:S=>Ke(s),class:"px-2 py-1.5 text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"}," Générer ",8,Hi)])]),u("div",Xi,[o[87]||(o[87]=u("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Stock",-1)),C(u("input",{"onUpdate:modelValue":S=>V.value[s].stock=S,type:"number",min:"0",class:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm"},null,8,Ji),[[q,V.value[s].stock,void 0,{number:!0}]])])],64)):G("",!0)]))),128))])):G("",!0),u("div",Yi,[u("div",null,[o[89]||(o[89]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Marque",-1)),C(u("input",{"onUpdate:modelValue":o[28]||(o[28]=s=>E.value.brand=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Lacoste"},null,512),[[q,E.value.brand]])]),u("div",null,[o[90]||(o[90]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Modèle",-1)),C(u("input",{"onUpdate:modelValue":o[29]||(o[29]=s=>E.value.model=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Classic"},null,512),[[q,E.value.model]])])]),u("div",null,[o[91]||(o[91]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Emplacement",-1)),C(u("input",{"onUpdate:modelValue":o[30]||(o[30]=s=>E.value.location=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Rayon A, Étagère 3"},null,512),[[q,E.value.location]])]),u("div",Ki,[u("div",null,[o[92]||(o[92]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix HT (€)",-1)),C(u("input",{"onUpdate:modelValue":o[31]||(o[31]=s=>E.value.price_ht=s),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,E.value.price_ht,void 0,{number:!0}]])]),o[95]||(o[95]=u("div",null,[u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"TVA"),u("input",{value:"20%",readonly:"",class:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-xl"})],-1)),u("div",null,[o[93]||(o[93]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Coef",-1)),C(u("input",{"onUpdate:modelValue":o[32]||(o[32]=s=>ar.value=s),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,ar.value,void 0,{number:!0}]])]),u("div",null,[o[94]||(o[94]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix de vente TTC (€)",-1)),C(u("input",{"onUpdate:modelValue":o[33]||(o[33]=s=>E.value.price_ttc=s),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,E.value.price_ttc,void 0,{number:!0}]])])]),L.value.length===0?(w(),O("div",{key:3,class:U(["grid gap-4",Xe.value?"grid-cols-3":"grid-cols-2"])},[u("div",null,[o[96]||(o[96]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stock vente",-1)),C(u("input",{"onUpdate:modelValue":o[34]||(o[34]=s=>E.value.stock=s),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,E.value.stock,void 0,{number:!0}]])]),Xe.value?(w(),O("div",Qi,[o[97]||(o[97]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stock technique",-1)),C(u("input",{"onUpdate:modelValue":o[35]||(o[35]=s=>E.value.stock_technical=s),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,E.value.stock_technical,void 0,{number:!0}]])])):G("",!0),u("div",null,[o[98]||(o[98]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seuil alerte",-1)),C(u("input",{"onUpdate:modelValue":o[36]||(o[36]=s=>E.value.alert_threshold=s),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,E.value.alert_threshold,void 0,{number:!0}]])])],2)):(w(),O("div",Wi,[o[99]||(o[99]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seuil alerte",-1)),C(u("input",{"onUpdate:modelValue":o[37]||(o[37]=s=>E.value.alert_threshold=s),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,E.value.alert_threshold,void 0,{number:!0}]])]))])]),u("div",Zi,[u("button",{onClick:Vt,class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),u("button",{onClick:Ln,disabled:A(a)||!E.value.name.trim(),class:"flex-1 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},R(A(a)?"Enregistrement...":L.value.length>1?`Créer ${L.value.length} produits`:"Créer le produit"),9,eu)])])])):G("",!0)])),(w(),le(Re,{to:"body"},[zt.value&&Ae.value?(w(),O("div",tu,[u("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden border border-gray-200 dark:border-gray-700 my-8",onClick:o[54]||(o[54]=he(()=>{},["stop"]))},[u("div",ru,[o[100]||(o[100]=u("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Modifier le produit",-1)),u("button",{onClick:Ht,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded"},[H(A(Ze),{class:"w-5 h-5"})])]),u("div",nu,[u("div",au,[L.value.length===0?(w(),O("div",ou,[o[101]||(o[101]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code-barres",-1)),u("div",iu,[C(u("input",{ref_key:"editBarcodeInputRef",ref:ur,"onUpdate:modelValue":o[39]||(o[39]=s=>M.value.barcode=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Scannez ici ou saisissez (EAN…)",onKeydown:o[40]||(o[40]=Jt(he(()=>{},["prevent"]),["enter"]))},null,544),[[q,M.value.barcode]]),u("button",{type:"button",onClick:o[41]||(o[41]=s=>Ke("edit")),class:"px-3 py-2 text-sm bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-500 whitespace-nowrap"}," Générer ")])])):G("",!0),u("div",null,[o[102]||(o[102]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nom *",-1)),C(u("input",{"onUpdate:modelValue":o[42]||(o[42]=s=>M.value.name=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Mocassin cuir"},null,512),[[q,M.value.name]])]),u("div",null,[o[103]||(o[103]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code",-1)),C(u("input",{"onUpdate:modelValue":o[43]||(o[43]=s=>M.value.code=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. MOC01"},null,512),[[q,M.value.code]])]),u("div",null,[o[105]||(o[105]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Catégorie",-1)),C(u("select",{"onUpdate:modelValue":o[44]||(o[44]=s=>M.value.category_id=s),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},[o[104]||(o[104]=u("option",{value:""},"— Choisir —",-1)),(w(!0),O(K,null,ne(A(f),s=>(w(),O("option",{key:s.id,value:s.id},R(s.name),9,uu))),128))],512),[[We,M.value.category_id]])]),Je.value.length>0?(w(),O("div",lu,[o[106]||(o[106]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[Y("Tailles "),u("span",{class:"text-xs text-gray-400 font-normal"},"(sélection multiple)")],-1)),tr.value?(w(),O("div",du,[u("button",{type:"button",onClick:o[45]||(o[45]=s=>se.value="fr"),class:U(["px-3 py-1.5 rounded-lg text-sm font-medium",se.value==="fr"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Française ",2),u("button",{type:"button",onClick:o[46]||(o[46]=s=>se.value="uk"),class:U(["px-3 py-1.5 rounded-lg text-sm font-medium",se.value==="uk"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])}," Anglaise ",2)])):G("",!0),u("div",su,[(w(!0),O(K,null,ne(Je.value,s=>(w(),O("button",{key:s,type:"button",onClick:S=>ir(s),class:U(["px-3 py-2 rounded-lg text-sm font-medium transition-colors",L.value.includes(s)?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},R(s),11,cu))),128))])])):G("",!0),L.value.length>0?(w(),O("div",fu,[o[109]||(o[109]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Détails par taille",-1)),(w(!0),O(K,null,ne(L.value,s=>(w(),O("div",{key:s,class:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3"},[u("span",gu,R(s),1),V.value[s]?(w(),O(K,{key:0},[u("div",yu,[o[107]||(o[107]=u("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Code-barres",-1)),u("div",vu,[C(u("input",{"onUpdate:modelValue":S=>V.value[s].barcode=S,type:"text",class:"flex-1 px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm",placeholder:"EAN…"},null,8,hu),[[q,V.value[s].barcode]]),u("button",{type:"button",onClick:S=>Ke(s),class:"px-2 py-1.5 text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"}," Générer ",8,bu)])]),u("div",pu,[o[108]||(o[108]=u("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Stock",-1)),C(u("input",{"onUpdate:modelValue":S=>V.value[s].stock=S,type:"number",min:"0",class:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg text-sm"},null,8,xu),[[q,V.value[s].stock,void 0,{number:!0}]])])],64)):G("",!0)]))),128))])):G("",!0),u("div",mu,[u("div",null,[o[110]||(o[110]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Marque",-1)),C(u("input",{"onUpdate:modelValue":o[47]||(o[47]=s=>M.value.brand=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Lacoste"},null,512),[[q,M.value.brand]])]),u("div",null,[o[111]||(o[111]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Modèle",-1)),C(u("input",{"onUpdate:modelValue":o[48]||(o[48]=s=>M.value.model=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Classic"},null,512),[[q,M.value.model]])])]),u("div",null,[o[112]||(o[112]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Emplacement",-1)),C(u("input",{"onUpdate:modelValue":o[49]||(o[49]=s=>M.value.location=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex. Rayon A, Étagère 3"},null,512),[[q,M.value.location]])]),u("div",_u,[u("div",null,[o[113]||(o[113]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix HT (€)",-1)),C(u("input",{"onUpdate:modelValue":o[50]||(o[50]=s=>M.value.price_ht=s),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,M.value.price_ht,void 0,{number:!0}]])]),o[116]||(o[116]=u("div",null,[u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"TVA"),u("input",{value:"20%",readonly:"",class:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-xl"})],-1)),u("div",null,[o[114]||(o[114]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Coef",-1)),C(u("input",{"onUpdate:modelValue":o[51]||(o[51]=s=>or.value=s),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,or.value,void 0,{number:!0}]])]),u("div",null,[o[115]||(o[115]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Prix de vente TTC (€)",-1)),C(u("input",{"onUpdate:modelValue":o[52]||(o[52]=s=>M.value.price_ttc=s),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,M.value.price_ttc,void 0,{number:!0}]])])]),u("div",null,[o[117]||(o[117]=u("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seuil alerte",-1)),C(u("input",{"onUpdate:modelValue":o[53]||(o[53]=s=>M.value.alert_threshold=s),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[q,M.value.alert_threshold,void 0,{number:!0}]])])])]),u("div",ku,[u("button",{onClick:Ht,class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),u("button",{onClick:Fn,disabled:A(a)||!M.value.name.trim(),class:"flex-1 px-4 py-2 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 disabled:opacity-50"},R(A(a)?"Enregistrement...":"Enregistrer"),9,wu)])])])):G("",!0)]))])]))}});export{Cu as default};
