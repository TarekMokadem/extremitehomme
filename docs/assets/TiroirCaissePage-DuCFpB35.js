import{c as U,a as V,r as p,s as M,d as pe,u as ve,q as ge,y as fe,b as m,e,j as h,h as c,v as T,f as s,x as $,t as n,k as S,F as X,n as g,l as J,m as K,g as ye,w as Q,T as W,o as u}from"./index-DodYGpJ8.js";import{C as be}from"./calendar-RNeGf9Td.js";import{R as we}from"./refresh-cw-C5BCTzhv.js";import{P as ae}from"./plus-Bh6hCo_W.js";import{C as he,a as ke}from"./circle-arrow-up-ChnIcsQi.js";import{T as _e}from"./trash-2-BKEdKMe_.js";import{X as Y}from"./x-21iBCkkO.js";import{M as Ce}from"./minus-DHnZ2jXn.js";const le=U("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Me=U("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const je=U("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ne=U("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const Z=U("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),k=p(null),w=p([]),B=p(!1),C=p(null);function Re(){const ee=async a=>{B.value=!0,C.value=null;try{const{data:o,error:d}=await M.from("cash_registers").select("*, vendor:vendors(first_name, last_name, initials)").eq("date",a).maybeSingle();if(d)throw d;k.value=o,o?await l(o.id):w.value=[]}catch(o){console.error("Erreur chargement caisse:",o),C.value=o.message}finally{B.value=!1}},l=async a=>{try{const{data:o,error:d}=await M.from("cash_movements").select("*, vendor:vendors(first_name, last_name, initials)").eq("cash_register_id",a).order("created_at",{ascending:!0});if(d)throw d;w.value=o||[]}catch(o){console.error("Erreur chargement mouvements:",o),w.value=[]}},I=async(a,o,d)=>{B.value=!0,C.value=null;try{const{data:i,error:x}=await M.from("cash_registers").insert({date:a,opening_amount:o,vendor_id:d||null,status:"open"}).select().single();if(x)throw x;return k.value=i,w.value=[],i}catch(i){return console.error("Erreur ouverture caisse:",i),C.value=i.message,null}finally{B.value=!1}},N=async(a,o,d,i)=>{if(!k.value)return null;try{const{data:x,error:v}=await M.from("cash_movements").insert({cash_register_id:k.value.id,type:a,amount:o,label:d,vendor_id:i||null}).select("*, vendor:vendors(first_name, last_name, initials)").single();if(v)throw v;return w.value.push(x),x}catch(x){return console.error("Erreur ajout mouvement:",x),C.value=x.message,null}},P=async a=>{try{const{error:o}=await M.from("cash_movements").delete().eq("id",a);if(o)throw o;return w.value=w.value.filter(d=>d.id!==a),!0}catch(o){return console.error("Erreur suppression mouvement:",o),C.value=o.message,!1}},q=V(()=>w.value.filter(a=>a.type==="in").reduce((a,o)=>a+o.amount,0)),b=V(()=>w.value.filter(a=>a.type==="out").reduce((a,o)=>a+o.amount,0)),H=V(()=>q.value-b.value);return{currentRegister:k,movements:w,isLoading:B,error:C,totalIn:q,totalOut:b,movementsBalance:H,loadRegister:ee,openRegister:I,addMovement:N,deleteMovement:P,closeRegister:async(a,o,d)=>{if(!k.value)return null;try{const i=k.value.opening_amount+o+q.value-b.value,x=a-i,{data:v,error:j}=await M.from("cash_registers").update({closing_amount:a,expected_amount:i,difference:x,status:"closed",closed_at:new Date().toISOString(),notes:d||null}).eq("id",k.value.id).select().single();if(j)throw j;return k.value=v,v}catch(i){return console.error("Erreur fermeture caisse:",i),C.value=i.message,null}},loadRegisterHistory:async(a=30)=>{try{const{data:o,error:d}=await M.from("cash_registers").select("*, vendor:vendors(first_name, last_name, initials)").order("date",{ascending:!1}).limit(a);if(d)throw d;return o||[]}catch(o){return console.error("Erreur chargement historique:",o),[]}}}}const Ae={class:"flex-1 p-4 lg:p-6 overflow-auto"},Ee={class:"max-w-4xl mx-auto space-y-6"},Te={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},$e={class:"flex items-center gap-3"},Se={class:"text-center py-2"},Ve={class:"text-lg font-semibold text-gray-700 capitalize"},qe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center"},De={class:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4"},Fe={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center"},Oe={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},Le={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},ze={class:"text-xl font-bold text-gray-900"},Be={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},Ue={class:"text-xl font-bold text-emerald-600"},Ie={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},Ne={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},He={class:"text-xl font-bold text-gray-900"},Pe={class:"flex-1"},Ge={class:"text-sm text-gray-500"},Xe={class:"flex-1"},Je={key:0,class:"text-sm text-amber-600"},Ke={class:"text-right"},Qe={class:"text-lg font-bold text-gray-900"},We={class:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden"},Ye={key:0,class:"p-8 text-center text-gray-500"},Ze={key:1,class:"divide-y divide-gray-100"},et={class:"flex-1 min-w-0"},tt={class:"font-medium text-gray-900 truncate"},st={class:"text-xs text-gray-500"},rt=["onClick"],ot={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},at={class:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"},lt={class:"p-4 border-b border-gray-200 flex items-center justify-between"},nt={class:"p-6 space-y-4"},it={class:"p-4 border-t border-gray-200 flex gap-3"},dt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},ut={class:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"},ct={class:"p-4 border-b border-gray-200 flex items-center justify-between"},mt={class:"p-6 space-y-4"},xt={class:"grid grid-cols-2 gap-3"},pt={class:"p-4 border-t border-gray-200 flex gap-3"},vt=["disabled"],gt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},ft={class:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"},yt={class:"p-4 border-b border-gray-200 flex items-center justify-between"},bt={class:"p-6 space-y-4"},wt={class:"bg-gray-50 rounded-xl p-4 space-y-2"},ht={class:"flex justify-between text-sm"},kt={class:"font-medium"},_t={class:"flex justify-between text-sm"},Ct={class:"font-medium text-emerald-600"},Mt={class:"flex justify-between text-sm"},jt={class:"flex justify-between text-base font-bold pt-2 border-t border-gray-200"},Rt={key:0,class:"bg-amber-50 border border-amber-200 rounded-xl p-3 flex items-center gap-2"},At={class:"text-sm text-amber-700"},Et={class:"font-bold"},Tt={class:"p-4 border-t border-gray-200 flex gap-3"},zt=pe({__name:"TiroirCaissePage",setup(ee){const{currentRegister:l,movements:I,isLoading:N,totalIn:P,totalOut:q,movementsBalance:b,loadRegister:H,openRegister:te,addMovement:se,deleteMovement:a,closeRegister:o}=Re(),{vendor:d}=ve(),i=p(new Date().toISOString().split("T")[0]),x=p(0),v=p(0),j=p(""),R=p(0),D=p("out"),A=p(0),E=p(""),F=p(!1),O=p(!1),L=p(!1);ge(i,y=>{H(y),re(y)}),fe(()=>{H(i.value),re(i.value)});const re=async y=>{try{const{data:t}=await M.from("payments").select("amount, sale:sales!inner(created_at)").eq("method","cash").gte("sale.created_at",`${y}T00:00:00`).lt("sale.created_at",`${y}T23:59:59`);R.value=(t||[]).reduce((r,oe)=>r+oe.amount,0)}catch(t){console.error("Erreur chargement ventes espèces:",t),R.value=0}},z=V(()=>l.value?l.value.opening_amount+R.value+P.value-q.value:0),_=V(()=>l.value?.status==="open"),ie=V(()=>l.value?.status==="closed"),de=y=>new Date(y).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),G=y=>new Date(y).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),f=y=>y.toFixed(2),ue=async()=>{await te(i.value,x.value,d.value?.id),F.value=!1,x.value=0},ce=async()=>{!E.value.trim()||A.value<=0||(await se(D.value,A.value,E.value,d.value?.id),L.value=!1,E.value="",A.value=0)},me=async()=>{await o(v.value,R.value,j.value),O.value=!1,v.value=0,j.value=""},xe=()=>{v.value=z.value,O.value=!0};return(y,t)=>(u(),m("main",Ae,[e("div",Ee,[e("div",Te,[t[16]||(t[16]=e("div",null,[e("h1",{class:"text-xl lg:text-2xl font-bold text-gray-900"},"Tiroir de caisse"),e("p",{class:"text-sm text-gray-500 mt-1"},"Gérez le fond de caisse et les mouvements")],-1)),e("div",$e,[c(s(be),{class:"w-5 h-5 text-gray-400"}),T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r),type:"date",class:"px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-sm font-medium focus:outline-none focus:border-gray-900 focus:ring-2 focus:ring-gray-900/10"},null,512),[[$,i.value]])])]),e("div",Se,[e("p",Ve,n(de(i.value)),1)]),!s(l)&&!s(N)?(u(),m("div",qe,[e("div",De,[c(s(Z),{class:"w-8 h-8 text-gray-400"})]),t[18]||(t[18]=e("h2",{class:"text-xl font-bold text-gray-900 mb-2"},"Caisse fermée",-1)),t[19]||(t[19]=e("p",{class:"text-gray-500 mb-6"},"Aucune caisse ouverte pour cette date",-1)),e("button",{onClick:t[1]||(t[1]=r=>F.value=!0),class:"inline-flex items-center gap-2 px-6 py-3 bg-emerald-600 text-white rounded-xl font-medium hover:bg-emerald-700 transition-colors"},[c(s(ne),{class:"w-5 h-5"}),t[17]||(t[17]=S(" Ouvrir la caisse ",-1))])])):s(N)?(u(),m("div",Fe,[c(s(we),{class:"w-8 h-8 text-gray-400 animate-spin mx-auto"})])):s(l)?(u(),m(X,{key:2},[e("div",Oe,[e("div",Le,[t[20]||(t[20]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wider font-semibold mb-1"},"Fond de caisse",-1)),e("p",ze,n(f(s(l).opening_amount))+"€",1)]),e("div",Be,[t[21]||(t[21]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wider font-semibold mb-1"},"Ventes espèces",-1)),e("p",Ue,"+"+n(f(R.value))+"€",1)]),e("div",Ie,[t[22]||(t[22]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wider font-semibold mb-1"},"Mouvements",-1)),e("p",{class:g(["text-xl font-bold",s(b)>=0?"text-emerald-600":"text-red-600"])},n(s(b)>=0?"+":"")+n(f(s(b)))+"€ ",3)]),e("div",Ne,[t[23]||(t[23]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wider font-semibold mb-1"},"Solde attendu",-1)),e("p",He,n(f(z.value))+"€",1)])]),e("div",{class:g(["rounded-xl p-4 flex items-center gap-3",_.value?"bg-emerald-50 border border-emerald-200":"bg-gray-100 border border-gray-200"])},[(u(),J(K(_.value?s(ne):s(Z)),{class:g(["w-5 h-5",_.value?"text-emerald-600":"text-gray-500"])},null,8,["class"])),e("div",Pe,[e("p",{class:g(["font-semibold",_.value?"text-emerald-700":"text-gray-700"])},n(_.value?"Caisse ouverte":"Caisse fermée"),3),e("p",Ge,n(_.value?`Ouverte à ${G(s(l).opened_at)}`:`Fermée à ${G(s(l).closed_at||"")}`),1)]),_.value?(u(),m(X,{key:0},[e("button",{onClick:t[2]||(t[2]=r=>L.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-xl text-sm font-medium hover:bg-gray-50 transition-colors"},[c(s(ae),{class:"w-4 h-4"}),t[24]||(t[24]=S(" Mouvement ",-1))]),e("button",{onClick:xe,class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors"},[c(s(Z),{class:"w-4 h-4"}),t[25]||(t[25]=S(" Fermer ",-1))])],64)):h("",!0)],2),ie.value&&s(l).difference!==null?(u(),m("div",{key:0,class:g(["rounded-xl p-4 flex items-center gap-3",s(l).difference===0?"bg-emerald-50 border border-emerald-200":"bg-amber-50 border border-amber-200"])},[(u(),J(K(s(l).difference===0?s(Me):s(le)),{class:g(["w-6 h-6",s(l).difference===0?"text-emerald-600":"text-amber-600"])},null,8,["class"])),e("div",Xe,[e("p",{class:g(["font-semibold",s(l).difference===0?"text-emerald-700":"text-amber-700"])},n(s(l).difference===0?"Caisse juste":"Écart de caisse"),3),s(l).difference!==0?(u(),m("p",Je," Écart : "+n(s(l).difference>0?"+":"")+n(f(s(l).difference))+"€ ",1)):h("",!0)]),e("div",Ke,[t[26]||(t[26]=e("p",{class:"text-xs text-gray-500"},"Montant compté",-1)),e("p",Qe,n(f(s(l).closing_amount||0))+"€",1)])],2)):h("",!0),e("div",We,[t[28]||(t[28]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-sm font-semibold text-gray-900 uppercase tracking-wider"},"Mouvements du jour")],-1)),s(I).length===0?(u(),m("div",Ye,[c(s(je),{class:"w-10 h-10 text-gray-300 mx-auto mb-2"}),t[27]||(t[27]=e("p",null,"Aucun mouvement",-1))])):(u(),m("div",Ze,[(u(!0),m(X,null,ye(s(I),r=>(u(),m("div",{key:r.id,class:"px-4 py-3 flex items-center gap-4"},[e("div",{class:g(["w-10 h-10 rounded-full flex items-center justify-center",r.type==="in"?"bg-emerald-100":"bg-red-100"])},[(u(),J(K(r.type==="in"?s(he):s(ke)),{class:g(["w-5 h-5",r.type==="in"?"text-emerald-600":"text-red-600"])},null,8,["class"]))],2),e("div",et,[e("p",tt,n(r.label),1),e("p",st,n(G(r.created_at)),1)]),e("p",{class:g(["font-bold text-lg",r.type==="in"?"text-emerald-600":"text-red-600"])},n(r.type==="in"?"+":"-")+n(f(r.amount))+"€ ",3),_.value?(u(),m("button",{key:0,onClick:oe=>s(a)(r.id),class:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors"},[c(s(_e),{class:"w-4 h-4"})],8,rt)):h("",!0)]))),128))]))])],64)):h("",!0),c(W,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Q(()=>[F.value?(u(),m("div",ot,[e("div",at,[e("div",lt,[t[29]||(t[29]=e("h3",{class:"text-lg font-bold text-gray-900"},"Ouvrir la caisse",-1)),e("button",{onClick:t[3]||(t[3]=r=>F.value=!1),class:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg"},[c(s(Y),{class:"w-5 h-5"})])]),e("div",nt,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2"},"Fond de caisse (€)",-1)),T(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>x.value=r),type:"number",step:"0.01",min:"0",class:"w-full px-4 py-3 border border-gray-300 rounded-xl text-lg font-semibold text-center focus:outline-none focus:border-gray-900",placeholder:"0.00"},null,512),[[$,x.value,void 0,{number:!0}]])])]),e("div",it,[e("button",{onClick:t[5]||(t[5]=r=>F.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 font-medium"}," Annuler "),e("button",{onClick:ue,class:"flex-1 px-4 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 font-medium"}," Ouvrir ")])])])):h("",!0)]),_:1}),c(W,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Q(()=>[L.value?(u(),m("div",dt,[e("div",ut,[e("div",ct,[t[31]||(t[31]=e("h3",{class:"text-lg font-bold text-gray-900"},"Ajouter un mouvement",-1)),e("button",{onClick:t[6]||(t[6]=r=>L.value=!1),class:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg"},[c(s(Y),{class:"w-5 h-5"})])]),e("div",mt,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2"},"Type",-1)),e("div",xt,[e("button",{onClick:t[7]||(t[7]=r=>D.value="out"),class:g(["flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 transition-colors font-medium",D.value==="out"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 text-gray-600 hover:border-gray-300"])},[c(s(Ce),{class:"w-4 h-4"}),t[32]||(t[32]=S(" Dépense / Sortie ",-1))],2),e("button",{onClick:t[8]||(t[8]=r=>D.value="in"),class:g(["flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 transition-colors font-medium",D.value==="in"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-gray-300"])},[c(s(ae),{class:"w-4 h-4"}),t[33]||(t[33]=S(" Entrée ",-1))],2)])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2"},"Libellé",-1)),T(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>E.value=r),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:border-gray-900",placeholder:"Ex: Achat fournitures, Retrait banque..."},null,512),[[$,E.value]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2"},"Montant (€)",-1)),T(e("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>A.value=r),type:"number",step:"0.01",min:"0",class:"w-full px-4 py-3 border border-gray-300 rounded-xl text-lg font-semibold text-center focus:outline-none focus:border-gray-900",placeholder:"0.00"},null,512),[[$,A.value,void 0,{number:!0}]])])]),e("div",pt,[e("button",{onClick:t[11]||(t[11]=r=>L.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 font-medium"}," Annuler "),e("button",{onClick:ce,disabled:!E.value.trim()||A.value<=0,class:"flex-1 px-4 py-2.5 bg-gray-900 text-white rounded-xl hover:bg-gray-800 font-medium disabled:opacity-50"}," Ajouter ",8,vt)])])])):h("",!0)]),_:1}),c(W,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Q(()=>[O.value?(u(),m("div",gt,[e("div",ft,[e("div",yt,[t[37]||(t[37]=e("h3",{class:"text-lg font-bold text-gray-900"},"Fermer la caisse",-1)),e("button",{onClick:t[12]||(t[12]=r=>O.value=!1),class:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg"},[c(s(Y),{class:"w-5 h-5"})])]),e("div",bt,[e("div",wt,[e("div",ht,[t[38]||(t[38]=e("span",{class:"text-gray-500"},"Fond de caisse",-1)),e("span",kt,n(f(s(l)?.opening_amount||0))+"€",1)]),e("div",_t,[t[39]||(t[39]=e("span",{class:"text-gray-500"},"Ventes espèces",-1)),e("span",Ct,"+"+n(f(R.value))+"€",1)]),e("div",Mt,[t[40]||(t[40]=e("span",{class:"text-gray-500"},"Mouvements",-1)),e("span",{class:g(["font-medium",s(b)>=0?"text-emerald-600":"text-red-600"])},n(s(b)>=0?"+":"")+n(f(s(b)))+"€ ",3)]),e("div",jt,[t[41]||(t[41]=e("span",null,"Solde attendu",-1)),e("span",null,n(f(z.value))+"€",1)])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2"},"Montant réellement compté (€)",-1)),T(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>v.value=r),type:"number",step:"0.01",min:"0",class:"w-full px-4 py-3 border border-gray-300 rounded-xl text-lg font-semibold text-center focus:outline-none focus:border-gray-900"},null,512),[[$,v.value,void 0,{number:!0}]])]),v.value!==z.value?(u(),m("div",Rt,[c(s(le),{class:"w-5 h-5 text-amber-600 flex-shrink-0"}),e("p",At,[t[43]||(t[43]=S(" Écart de ",-1)),e("span",Et,n(f(v.value-z.value))+"€",1)])])):h("",!0),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2"},"Notes (optionnel)",-1)),T(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=r=>j.value=r),rows:"2",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:border-gray-900 resize-none",placeholder:"Remarques sur la journée..."},null,512),[[$,j.value]])])]),e("div",Tt,[e("button",{onClick:t[15]||(t[15]=r=>O.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 font-medium"}," Annuler "),e("button",{onClick:me,class:"flex-1 px-4 py-2.5 bg-gray-900 text-white rounded-xl hover:bg-gray-800 font-medium"}," Fermer la caisse ")])])])):h("",!0)]),_:1})])]))}});export{zt as default};
