import{d as rt,r as f,a as P,o as st,e as b,f as t,j as D,l as m,g as _,z as F,G as nt,F as h,h as A,k as S,n as O,A as U,m as Y,Q as ot,t as s,s as z,v as l}from"./index-8JeweAIN.js";import{M as dt}from"./mail-GMaod7ll.js";import{F as lt}from"./file-down-6AE0jasN.js";import{P as it}from"./printer-9ObaF-he.js";import{R as L}from"./refresh-cw--HoeajCP.js";import{_ as ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";const bt={class:"flex-1 p-4 lg:p-6 overflow-auto bg-gray-50 dark:bg-gray-900 print:bg-white print:p-2"},ut={class:"max-w-[1600px] mx-auto space-y-6 print:max-w-none print:space-y-3"},gt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 print:hidden"},mt={class:"flex items-center gap-2"},yt=["disabled"],xt=["disabled"],pt={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 space-y-4 print:hidden"},ht={class:"flex flex-wrap items-center gap-3"},ft=["value"],kt={class:"flex flex-wrap gap-1"},vt=["onClick"],_t={class:"flex flex-wrap items-center gap-3"},Ct={class:"flex items-center gap-2"},wt={class:"flex items-center gap-2"},$t=["disabled"],qt={class:"hidden print:block text-lg font-bold text-black text-center"},Dt={key:0,class:"flex items-center justify-center py-20"},Mt={key:1,class:"text-center py-16 text-gray-500 dark:text-gray-400"},Tt={key:2,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden print:rounded-none print:border print:shadow-none"},Pt={class:"overflow-x-auto print-thermal-compact"},Ft={class:"w-full text-xs whitespace-nowrap"},At={class:"divide-y divide-gray-100 dark:divide-gray-700/60"},St={class:"px-2 py-1.5 font-medium tabular-nums sticky left-0 bg-white dark:bg-gray-800 z-10 border-r border-gray-200 dark:border-gray-600"},zt={class:"px-2 py-1.5 text-right tabular-nums border-l border-gray-100 dark:border-gray-700"},Et={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},Rt={class:"px-2 py-1.5 text-right tabular-nums"},It={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},jt={class:"px-2 py-1.5 text-right tabular-nums"},Bt={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},Nt={class:"px-2 py-1.5 text-right tabular-nums"},Vt={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},Ot={class:"px-2 py-1.5 text-right tabular-nums"},Ut={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},Yt={class:"px-2 py-1.5 text-right tabular-nums font-bold text-blue-700 dark:text-blue-400 border-l-2 border-blue-300 dark:border-blue-600 bg-blue-50/50 dark:bg-blue-900/10"},Lt={class:"px-2 py-1.5 text-right tabular-nums font-bold text-blue-700 dark:text-blue-400 border-r-2 border-blue-300 dark:border-blue-600 bg-blue-50/50 dark:bg-blue-900/10"},Gt={class:"px-2 py-1.5 text-right tabular-nums"},Jt={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},Ht={class:"px-2 py-1.5 text-right tabular-nums"},Kt={class:"px-2 py-1.5 text-right tabular-nums text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-gray-700"},Qt={class:"px-2 py-1.5 text-right tabular-nums border-x border-gray-100 dark:border-gray-700"},Wt={class:"px-2 py-1.5 text-right tabular-nums border-r border-gray-100 dark:border-gray-700"},Xt={class:"px-2 py-1.5 text-right tabular-nums"},Zt={class:"font-bold bg-gray-100 dark:bg-gray-700/60 border-t-2 border-gray-300 dark:border-gray-500 text-gray-900 dark:text-white"},te={class:"px-2 py-2 text-right tabular-nums border-l border-gray-200 dark:border-gray-600"},ee={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},ae={class:"px-2 py-2 text-right tabular-nums"},re={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},se={class:"px-2 py-2 text-right tabular-nums"},ne={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},oe={class:"px-2 py-2 text-right tabular-nums"},de={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},le={class:"px-2 py-2 text-right tabular-nums"},ie={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},ce={class:"px-2 py-2 text-right tabular-nums text-blue-700 dark:text-blue-300 border-l-2 border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"},be={class:"px-2 py-2 text-right tabular-nums text-blue-700 dark:text-blue-300 border-r-2 border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"},ue={class:"px-2 py-2 text-right tabular-nums"},ge={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},me={class:"px-2 py-2 text-right tabular-nums"},ye={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},xe={class:"px-2 py-2 text-right tabular-nums border-x border-gray-200 dark:border-gray-600"},pe={class:"px-2 py-2 text-right tabular-nums border-r border-gray-200 dark:border-gray-600"},he={class:"px-2 py-2 text-right tabular-nums"},fe=rt({__name:"ChiffreAffairePage",setup(ke){const M=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],C=f(!1),y=f([]),E=new Date,w=f(E.getFullYear()),$=f(E.getMonth()),x=f("month"),k=f(""),v=f(""),G=P(()=>{const r=new Date().getFullYear(),e=[];for(let a=r;a>=r-5;a--)e.push(a);return e});function J(r,e){const a=[],i=new Date(r+"T00:00:00"),u=new Date(e+"T00:00:00");for(;i<=u;)a.push(i.toISOString().split("T")[0]),i.setDate(i.getDate()+1);return a}function H(){const r=w.value,e=$.value,a=new Date(r,e,1),i=new Date(r,e+1,0);return{startDate:a.toISOString().split("T")[0],endDate:i.toISOString().split("T")[0]}}function K(){return x.value==="custom"?!k.value||!v.value?null:{startDate:k.value,endDate:v.value}:H()}const o=P(()=>{const r={date:"Totaux",amex:{montant:0,nb:0},cb:{montant:0,nb:0},cheque:{montant:0,nb:0},especes:{montant:0,nb:0},sansContact:{montant:0,nb:0},ca:{montant:0,nb:0},chequesCadeau:{montant:0,nb:0},gratuit:{montant:0,nb:0},fondCaisse:0,depenses:0,remiseMontant:0,remisePct:0};for(const e of y.value)r.amex.montant+=e.amex.montant,r.amex.nb+=e.amex.nb,r.cb.montant+=e.cb.montant,r.cb.nb+=e.cb.nb,r.cheque.montant+=e.cheque.montant,r.cheque.nb+=e.cheque.nb,r.especes.montant+=e.especes.montant,r.especes.nb+=e.especes.nb,r.sansContact.montant+=e.sansContact.montant,r.sansContact.nb+=e.sansContact.nb,r.ca.montant+=e.ca.montant,r.ca.nb+=e.ca.nb,r.chequesCadeau.montant+=e.chequesCadeau.montant,r.chequesCadeau.nb+=e.chequesCadeau.nb,r.gratuit.montant+=e.gratuit.montant,r.gratuit.nb+=e.gratuit.nb,r.fondCaisse+=e.fondCaisse,r.depenses+=e.depenses,r.remiseMontant+=e.remiseMontant;return r.remisePct=r.ca.montant>0?r.remiseMontant/r.ca.montant*100:0,r});function R(r){if(r==="Totaux")return"Totaux";const[e,a,i]=r.split("-");return`${i}/${a}/${e.slice(2)}`}function n(r){const e=Math.abs(r).toFixed(2).split("."),a=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return(r<0?"-":"")+a+","+e[1]}function Q(r){switch(r){case"amex":return"amex";case"card":return"cb";case"check":return"cheque";case"cash":return"especes";case"contactless":return"sansContact";case"gift_card":return"chequesCadeau";case"free":return"gratuit";case"technical":return"gratuit";default:return null}}const I=async()=>{const r=K();if(r){C.value=!0;try{const{startDate:e,endDate:a}=r,i=J(e,a),u=new Map;for(const d of i)u.set(d,{date:d,amex:{montant:0,nb:0},cb:{montant:0,nb:0},cheque:{montant:0,nb:0},especes:{montant:0,nb:0},sansContact:{montant:0,nb:0},ca:{montant:0,nb:0},chequesCadeau:{montant:0,nb:0},gratuit:{montant:0,nb:0},fondCaisse:0,depenses:0,remiseMontant:0,remisePct:0});const{data:j}=await z.from("sales").select("id, total, discount_amount, created_at, payments:payments(method, amount)").gte("created_at",`${e}T00:00:00`).lte("created_at",`${a}T23:59:59`).eq("status","completed").order("created_at");if(j){const d=new Map;for(const c of j){const g=c.created_at.split("T")[0],p=u.get(g);if(p&&(d.has(g)||d.set(g,new Set),d.get(g).add(c.id),p.ca.montant+=c.total,p.remiseMontant+=c.discount_amount??0,c.payments))for(const V of c.payments){const T=Q(V.method);T&&(p[T].montant+=V.amount,p[T].nb+=1)}}for(const[c,g]of d){const p=u.get(c);p&&(p.ca.nb=g.size)}}const{data:B}=await z.from("cash_registers").select("date, opening_amount, closing_amount").gte("date",e).lte("date",a);if(B)for(const d of B){const c=u.get(d.date);c&&(c.fondCaisse=d.closing_amount??d.opening_amount??0)}const{data:N}=await z.from("cash_movements").select("amount, created_at, cash_register_id").eq("type","out");if(N)for(const d of N){const c=d.created_at?.split("T")[0];if(!c)continue;const g=u.get(c);g&&(g.depenses+=d.amount)}for(const d of u.values())d.remisePct=d.ca.montant>0?d.remiseMontant/d.ca.montant*100:0;const at=d=>d.ca.montant>0||d.depenses>0||d.fondCaisse>0||d.amex.montant>0||d.cb.montant>0||d.cheque.montant>0||d.especes.montant>0||d.sansContact.montant>0||d.chequesCadeau.montant>0||d.gratuit.montant>0;y.value=i.map(d=>u.get(d)).filter(at)}catch(e){console.error("Erreur chargement CA:",e),y.value=[]}finally{C.value=!1}}},W=r=>{$.value=r,x.value="month"},X=()=>window.print(),q=P(()=>x.value==="month"?`${M[$.value]} ${w.value}`:`${k.value} au ${v.value}`),Z=()=>{const r=[`Chiffre d'affaires - ${q.value}`,""];r.push("Date | Amex € | CB € | Chèque € | Espèces € | Sans contact € | CA € | Chq. cadeau € | Gratuit € | Fond caisse | Dépenses | Remise"),r.push("-".repeat(120));for(const a of y.value)r.push(`${R(a.date)} | ${n(a.amex.montant)} | ${n(a.cb.montant)} | ${n(a.cheque.montant)} | ${n(a.especes.montant)} | ${n(a.sansContact.montant)} | ${n(a.ca.montant)} | ${n(a.chequesCadeau.montant)} | ${n(a.gratuit.montant)} | ${n(a.fondCaisse)} | ${n(a.depenses)} | ${a.remiseMontant?n(a.remiseMontant)+" ("+a.remisePct.toFixed(1)+"%)":""}`);r.push("-".repeat(120));const e=o.value;return r.push(`Totaux | ${n(e.amex.montant)} | ${n(e.cb.montant)} | ${n(e.cheque.montant)} | ${n(e.especes.montant)} | ${n(e.sansContact.montant)} | ${n(e.ca.montant)} | ${n(e.chequesCadeau.montant)} | ${n(e.gratuit.montant)} | ${n(e.fondCaisse)} | ${n(e.depenses)} | ${e.remiseMontant?n(e.remiseMontant)+" ("+e.remisePct.toFixed(1)+"%)":""}`),r.join(`
`)},tt=()=>{const r=encodeURIComponent(`Chiffre d'affaires - ${q.value}`),e=encodeURIComponent(Z());window.open(`mailto:?subject=${r}&body=${e}`,"_self")},et=()=>{const r=document.querySelector(".print-thermal-compact");if(!r)return;const e=window.open("","_blank");if(!e){alert("Autorisez les pop-ups pour télécharger le PDF.");return}e.document.write(`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Chiffre d'affaires - ${q.value}</title>
<style>
  @page { size: A4 landscape; margin: 10mm; }
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; color: #000; }
  body { padding: 10mm; }
  h1 { font-size: 16px; margin-bottom: 12px; text-align: center; }
  table { width: 100%; border-collapse: collapse; font-size: 9px; }
  th, td { border: 1px solid #ccc; padding: 3px 5px; text-align: right; }
  th { background: #f3f4f6; font-weight: 600; }
  td:first-child, th:first-child { text-align: left; }
  tfoot td { font-weight: bold; background: #f9fafb; }
</style></head><body>
<h1>Chiffre d'affaires — ${q.value}</h1>
${r.innerHTML}
</body></html>`),e.document.close(),e.focus(),setTimeout(()=>{e.print()},400)};return st(I),(r,e)=>(l(),b("main",bt,[t("div",ut,[t("div",gt,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white"},"Chiffre d'affaires"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Tableau récapitulatif par jour et mode de règlement")],-1)),t("div",mt,[t("button",{onClick:tt,disabled:y.value.length===0,class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[D(_(dt),{class:"w-4 h-4"}),e[4]||(e[4]=m(" Envoyer par mail ",-1))],8,yt),t("button",{onClick:et,disabled:y.value.length===0,class:"inline-flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[D(_(lt),{class:"w-4 h-4"}),e[5]||(e[5]=m(" Télécharger PDF ",-1))],8,xt),t("button",{onClick:X,class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-emerald-600 text-white rounded-xl hover:bg-gray-800 dark:hover:bg-emerald-500 transition-colors"},[D(_(it),{class:"w-4 h-4"}),e[6]||(e[6]=m(" Imprimer ",-1))])])]),t("div",pt,[t("div",ht,[F(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>w.value=a),class:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-900/10 dark:focus:ring-emerald-500/30"},[(l(!0),b(h,null,A(G.value,a=>(l(),b("option",{key:a,value:a},s(a),9,ft))),128))],512),[[nt,w.value,void 0,{number:!0}]]),t("div",kt,[(l(),b(h,null,A(M,(a,i)=>t("button",{key:i,onClick:u=>W(i),class:O(["px-3 py-1.5 text-xs font-medium rounded-lg transition-colors",x.value==="month"&&$.value===i?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},s(a.slice(0,4)),11,vt)),64))])]),t("div",_t,[t("button",{onClick:e[1]||(e[1]=a=>x.value="custom"),class:O(["px-3 py-1.5 text-sm font-medium rounded-lg transition-colors",x.value==="custom"?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])}," Période personnalisée ",2),x.value==="custom"?(l(),b(h,{key:0},[t("div",Ct,[e[8]||(e[8]=t("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"Du",-1)),F(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>k.value=a),type:"date",class:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm dark:text-gray-100"},null,512),[[U,k.value]])]),t("div",wt,[e[9]||(e[9]=t("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"Au",-1)),F(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>v.value=a),type:"date",class:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm dark:text-gray-100"},null,512),[[U,v.value]])])],64)):S("",!0),t("button",{onClick:I,disabled:C.value,class:"inline-flex items-center gap-2 px-5 py-2 bg-gray-900 dark:bg-emerald-600 text-white rounded-xl hover:bg-gray-800 dark:hover:bg-emerald-500 transition-colors disabled:opacity-50 font-medium"},[C.value?(l(),Y(_(L),{key:1,class:"w-4 h-4 animate-spin"})):(l(),Y(_(ot),{key:0,class:"w-4 h-4"})),e[10]||(e[10]=m(" Calculer ",-1))],8,$t)])]),t("h2",qt,[e[11]||(e[11]=m(" Chiffre d'affaires — ",-1)),x.value==="month"?(l(),b(h,{key:0},[m(s(M[$.value])+" "+s(w.value),1)],64)):(l(),b(h,{key:1},[m(s(k.value)+" au "+s(v.value),1)],64))]),C.value?(l(),b("div",Dt,[D(_(L),{class:"w-8 h-8 text-gray-400 animate-spin"})])):y.value.length===0?(l(),b("div",Mt," Sélectionnez une période et cliquez sur « Calculer » ")):(l(),b("div",Tt,[t("div",Pt,[t("table",Ft,[e[13]||(e[13]=t("thead",null,[t("tr",{class:"bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},[t("th",{rowspan:"2",class:"px-2 py-2 text-left font-semibold text-gray-700 dark:text-gray-300 sticky left-0 bg-gray-100 dark:bg-gray-700 z-10 border-r border-gray-200 dark:border-gray-600"},"Date"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Amex"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"CB"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Chèque"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Espèces"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Sans contact"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-bold text-blue-700 dark:text-blue-400 border-x-2 border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"},"CA"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Chq. cadeau"),t("th",{colspan:"2",class:"px-2 py-1 text-center font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Gratuit"),t("th",{rowspan:"2",class:"px-2 py-2 text-right font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Fond caisse"),t("th",{rowspan:"2",class:"px-2 py-2 text-right font-semibold text-gray-700 dark:text-gray-300 border-x border-gray-200 dark:border-gray-600"},"Dépenses"),t("th",{rowspan:"2",class:"px-2 py-2 text-right font-semibold text-gray-700 dark:text-gray-300 border-l border-gray-200 dark:border-gray-600"},"Remise")]),t("tr",{class:"bg-gray-50 dark:bg-gray-700/70 border-b border-gray-200 dark:border-gray-600"},[t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-l border-gray-200 dark:border-gray-600"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb"),t("th",{class:"px-2 py-1 text-right font-bold text-blue-600 dark:text-blue-400 border-l-2 border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"},"€"),t("th",{class:"px-2 py-1 text-right font-bold text-blue-600 dark:text-blue-400 border-r-2 border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"},"nb"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400"},"€"),t("th",{class:"px-2 py-1 text-right font-medium text-gray-500 dark:text-gray-400 border-r border-gray-200 dark:border-gray-600"},"nb")])],-1)),t("tbody",At,[(l(!0),b(h,null,A(y.value,a=>(l(),b("tr",{key:a.date,class:"hover:bg-gray-50 dark:hover:bg-gray-700/40 transition-colors text-gray-900 dark:text-gray-100"},[t("td",St,s(R(a.date)),1),t("td",zt,s(a.amex.montant?n(a.amex.montant):""),1),t("td",Et,s(a.amex.nb||""),1),t("td",Rt,s(a.cb.montant?n(a.cb.montant):""),1),t("td",It,s(a.cb.nb||""),1),t("td",jt,s(a.cheque.montant?n(a.cheque.montant):""),1),t("td",Bt,s(a.cheque.nb||""),1),t("td",Nt,s(a.especes.montant?n(a.especes.montant):""),1),t("td",Vt,s(a.especes.nb||""),1),t("td",Ot,s(a.sansContact.montant?n(a.sansContact.montant):""),1),t("td",Ut,s(a.sansContact.nb||""),1),t("td",Yt,s(a.ca.montant?n(a.ca.montant):""),1),t("td",Lt,s(a.ca.nb||""),1),t("td",Gt,s(a.chequesCadeau.montant?n(a.chequesCadeau.montant):""),1),t("td",Jt,s(a.chequesCadeau.nb||""),1),t("td",Ht,s(a.gratuit.montant?n(a.gratuit.montant):""),1),t("td",Kt,s(a.gratuit.nb||""),1),t("td",Qt,s(a.fondCaisse?n(a.fondCaisse):""),1),t("td",Wt,s(a.depenses?n(a.depenses):""),1),t("td",Xt,[a.remiseMontant?(l(),b(h,{key:0},[m(s(n(a.remiseMontant))+" ("+s(a.remisePct.toFixed(1))+"%)",1)],64)):S("",!0)])]))),128)),t("tr",Zt,[e[12]||(e[12]=t("td",{class:"px-2 py-2 sticky left-0 bg-gray-100 dark:bg-gray-700/60 z-10 border-r border-gray-200 dark:border-gray-600"},"Totaux",-1)),t("td",te,s(o.value.amex.montant?n(o.value.amex.montant):""),1),t("td",ee,s(o.value.amex.nb||""),1),t("td",ae,s(o.value.cb.montant?n(o.value.cb.montant):""),1),t("td",re,s(o.value.cb.nb||""),1),t("td",se,s(o.value.cheque.montant?n(o.value.cheque.montant):""),1),t("td",ne,s(o.value.cheque.nb||""),1),t("td",oe,s(o.value.especes.montant?n(o.value.especes.montant):""),1),t("td",de,s(o.value.especes.nb||""),1),t("td",le,s(o.value.sansContact.montant?n(o.value.sansContact.montant):""),1),t("td",ie,s(o.value.sansContact.nb||""),1),t("td",ce,s(o.value.ca.montant?n(o.value.ca.montant):""),1),t("td",be,s(o.value.ca.nb||""),1),t("td",ue,s(o.value.chequesCadeau.montant?n(o.value.chequesCadeau.montant):""),1),t("td",ge,s(o.value.chequesCadeau.nb||""),1),t("td",me,s(o.value.gratuit.montant?n(o.value.gratuit.montant):""),1),t("td",ye,s(o.value.gratuit.nb||""),1),t("td",xe,s(o.value.fondCaisse?n(o.value.fondCaisse):""),1),t("td",pe,s(o.value.depenses?n(o.value.depenses):""),1),t("td",he,[o.value.remiseMontant?(l(),b(h,{key:0},[m(s(n(o.value.remiseMontant))+" ("+s(o.value.remisePct.toFixed(1))+"%)",1)],64)):S("",!0)])])])])])]))])]))}}),De=ct(fe,[["__scopeId","data-v-f25712b7"]]);export{De as default};
