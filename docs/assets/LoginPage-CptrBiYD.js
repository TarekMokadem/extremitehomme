import{d as v,u as w,r as h,a as g,o as _,b as M,c as i,e as r,f as n,g as a,S,w as V,h as C,t as p,i as b,v as x,j as E,k as u}from"./index-DpJ3Ann9.js";import{M as B}from"./mail-D_3tn0vb.js";import{L}from"./lock-BSPz_-IZ.js";const j={class:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 px-4"},z={class:"w-full max-w-sm"},I={class:"flex flex-col items-center mb-8"},N={class:"w-16 h-16 rounded-2xl bg-gray-900 dark:bg-emerald-600 flex items-center justify-center mb-4"},R={key:0,class:"text-sm text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-3 py-2 rounded-xl"},T={key:1,class:"text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-xl"},q={class:"relative"},D={class:"relative"},U=["disabled"],X=v({__name:"LoginPage",setup(A){const f=E(),m=M(),{signIn:y,isLoading:c}=w(),t=h({email:"",password:""}),s=g(null),o=g(!1);_(()=>{o.value=m.query.expired==="1"});async function k(){if(s.value=null,o.value=!1,!t.email.trim()){s.value="Veuillez saisir votre email.";return}if(!t.password){s.value="Veuillez saisir votre mot de passe.";return}const l=await y(t.email.trim(),t.password);if(l.success){const e=m.query.redirect||"/";f.replace(e)}else s.value=l.error||"Identifiants incorrects."}return(l,e)=>(u(),i("div",j,[r("div",z,[r("div",I,[r("div",N,[n(a(S),{class:"w-8 h-8 text-white"})]),e[2]||(e[2]=r("h1",{class:"text-xl font-bold text-gray-900 dark:text-white"},"EXTRÉMITÉS HOMMES",-1)),e[3]||(e[3]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Chausseur · Coiffeur · Barbier",-1))]),r("form",{onSubmit:V(k,["prevent"]),class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-6 space-y-4"},[e[6]||(e[6]=r("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Connexion",-1)),o.value?(u(),i("p",R," Session expirée. Veuillez vous reconnecter. ")):s.value?(u(),i("p",T,p(s.value),1)):C("",!0),r("div",null,[e[4]||(e[4]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Email",-1)),r("div",q,[n(a(B),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),b(r("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>t.email=d),type:"email",autocomplete:"email",placeholder:"votre@email.fr",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,t.email]])])]),r("div",null,[e[5]||(e[5]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Mot de passe",-1)),r("div",D,[n(a(L),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),b(r("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>t.password=d),type:"password",autocomplete:"current-password",placeholder:"••••••••",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,t.password]])])]),r("button",{type:"submit",disabled:a(c),class:"w-full py-3 px-4 bg-gray-900 dark:bg-emerald-600 hover:bg-gray-800 dark:hover:bg-emerald-500 text-white font-medium rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},p(a(c)?"Connexion...":"Se connecter"),9,U)],32)])]))}});export{X as default};
