import{l as ee,d as ye,a as x,m as q,q as R,o as ce,c as d,e,f as i,t as l,y as E,g as u,i as b,v as p,h as v,K as xe,F as V,x as P,H as be,D as B,T as H,s as T,E as pe,z as D,J as ve,w as me,k as n}from"./index-CAqGcB1x.js";import{u as fe,U as ke,M as he}from"./useLoyalty-C6y6BX2j.js";import{R as K}from"./refresh-cw-CbmeH-aP.js";import{S as _e}from"./search-CCeDDHKH.js";import{C as we,a as Ce,b as G,c as Se}from"./chevrons-right-CLc57-6z.js";import{X as W}from"./x-C1eBE0dx.js";import{S as Me}from"./shopping-bag-BYesnCVb.js";import{M as Ve}from"./mail-Cy8E4pQ8.js";import{C as Pe}from"./calendar-BnO0tzsa.js";import{S as je}from"./square-pen-Blhzj0pP.js";import{T as Y}from"./trash-2-DL5sMhCx.js";const Z=ee("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);const Ue=ee("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),$e={class:"flex-1 flex overflow-hidden bg-gray-50 dark:bg-gray-900"},qe={class:"p-4 lg:p-6 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},Ee={class:"flex items-center justify-between mb-4"},Te={class:"text-sm text-gray-500 dark:text-gray-400"},De=["disabled"],ze={class:"relative"},Le={class:"flex flex-wrap items-center justify-between gap-3 mt-3"},Ne={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Ae={class:"flex items-center gap-2"},Fe=["value"],Ie={class:"flex-1 overflow-y-auto"},Re={key:0,class:"p-8 text-center"},Be={key:1,class:"p-8 text-center"},He={key:2,class:"divide-y divide-gray-100 dark:divide-gray-700"},Ke=["onClick"],Je={class:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center flex-shrink-0"},Oe={class:"text-lg font-semibold text-gray-600 dark:text-gray-200"},Qe={class:"flex-1 min-w-0"},Xe={class:"font-semibold text-gray-900 dark:text-white truncate"},Ge={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},We={key:3,class:"flex flex-wrap items-center justify-between gap-4 px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},Ye={class:"flex items-center gap-3"},Ze=["max"],et={class:"text-sm text-gray-600 dark:text-gray-400"},tt={class:"flex items-center gap-2"},at=["disabled"],rt=["disabled"],st={class:"flex gap-1"},lt=["onClick"],ot=["disabled"],dt=["disabled"],nt={key:0,class:"w-full lg:w-[450px] lg:max-h-[65vh] flex-shrink-0 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col fixed inset-0 lg:top-[10%] lg:right-4 lg:bottom-auto lg:left-auto z-20 shadow-xl rounded-xl overflow-hidden"},it={class:"p-4 lg:p-6 border-b border-gray-200 dark:border-gray-700 flex items-start justify-between"},ut={class:"flex items-center gap-4"},gt={class:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center"},yt={class:"text-2xl font-bold text-blue-600 dark:text-blue-300"},ct={class:"text-xl font-bold text-gray-900 dark:text-white"},xt={class:"text-sm text-gray-500 dark:text-gray-400"},bt={class:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-6"},pt={class:"grid grid-cols-3 gap-3"},vt={class:"bg-gray-50 dark:bg-gray-700 rounded-xl p-3 text-center"},mt={class:"text-lg font-bold text-gray-900 dark:text-white mt-1"},ft={class:"bg-gray-50 dark:bg-gray-700 rounded-xl p-3 text-center"},kt={class:"text-lg font-bold text-gray-900 dark:text-white mt-1"},ht={class:"bg-gray-50 dark:bg-gray-700 rounded-xl p-3 text-center"},_t={class:"text-lg font-bold text-gray-900 dark:text-white mt-1"},wt={class:"space-y-3"},Ct={class:"space-y-2"},St={class:"flex items-center gap-3 text-sm"},Mt={class:"text-gray-900 dark:text-gray-100"},Vt={key:0,class:"flex items-center gap-3 text-sm"},Pt={class:"text-gray-700 dark:text-gray-300"},jt={key:1,class:"flex items-center gap-3 text-sm"},Ut={class:"text-gray-700 dark:text-gray-300"},$t={key:2,class:"flex items-start gap-3 text-sm"},qt={class:"text-gray-700 dark:text-gray-300"},Et={key:3,class:"flex items-center gap-3 text-sm"},Tt={class:"text-gray-700 dark:text-gray-300"},Dt={key:0,class:"mt-3 p-3 bg-yellow-50 dark:bg-amber-900/30 rounded-lg text-sm text-yellow-800 dark:text-amber-200"},zt={class:"space-y-3"},Lt={class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider flex items-center gap-2"},Nt={key:0,class:"py-4 text-center"},At={key:1,class:"py-4 text-center text-gray-500 dark:text-gray-400 text-sm"},Ft={key:2,class:"space-y-2"},It={class:"flex items-center justify-between mb-2"},Rt={class:"text-xs text-gray-500 dark:text-gray-400"},Bt={class:"font-semibold text-gray-900 dark:text-white"},Ht={key:0,class:"mt-1 space-y-0.5 text-sm text-gray-600 dark:text-gray-300"},Kt={key:1,class:"text-xs text-gray-500 dark:text-gray-400 italic mt-1"},Jt={class:"p-4 border-t border-gray-200 dark:border-gray-700 flex gap-3"},Ot={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},Qt={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto"},Xt={class:"p-6 border-b border-gray-200 flex items-center justify-between"},Gt={class:"grid grid-cols-2 gap-4"},Wt={class:"grid grid-cols-2 gap-4"},Yt={class:"grid grid-cols-2 gap-4"},Zt={class:"flex gap-3 pt-4"},ea={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"},ta={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center border border-gray-200 dark:border-gray-700"},aa={class:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4"},ra={class:"text-sm text-gray-500 dark:text-gray-400 mb-6"},sa={class:"flex gap-3"},va=ye({__name:"ClientsPage",setup(la){const S=x([]),m=x(0),_=x(!0),j=x(""),g=x(1),w=x(50),te=[25,50,100],o=x(null),f=x([]),z=x(!1),{loadClientStamps:ae,checkedCount:re}=fe(),L=q(()=>{if(!o.value)return{totalSpent:0,visitCount:0,loyaltyPoints:0};const r=f.value.reduce((a,y)=>a+(Number(y.total)||0),0),t=f.value.length;return{totalSpent:r,visitCount:t,loyaltyPoints:re.value}}),M=x(!1),U=x(!1),s=x({id:"",first_name:"",last_name:"",phone:"",phone2:"",email:"",address:"",city:"",postal_code:"",birth_date:"",notes:""}),k=q(()=>Math.max(1,Math.ceil(m.value/w.value))),N=q(()=>{const r=m.value,t=w.value,a=g.value,y=r===0?0:(a-1)*t+1,c=Math.min(a*t,r);return{from:y,to:c,total:r}}),se=q(()=>{const r=k.value,t=g.value,a=2,y=[];for(let c=Math.max(1,t-a);c<=Math.min(r,t+a);c++)y.push(c);return y}),h=async()=>{_.value=!0;try{const r=w.value,a=(g.value-1)*r,y=a+r-1,c=j.value.trim();let I=T.from("clients").select("*",{count:"exact"}).order("last_name").range(a,y);c&&(I=I.or(`first_name.ilike.%${c}%,last_name.ilike.%${c}%,phone.ilike.%${c}%,email.ilike.%${c}%`));const{data:ue,error:X,count:ge}=await I;if(X)throw X;S.value=ue||[],m.value=ge??0}catch(r){console.error("Erreur chargement clients:",r),S.value=[],m.value=0}finally{_.value=!1}},C=r=>{g.value=Math.max(1,Math.min(r,k.value)),h()},$=x(""),J=()=>{$.value=String(g.value)},O=()=>{const r=parseInt($.value,10);!isNaN(r)&&r>=1?C(r):J()},le=async r=>{z.value=!0;try{const{data:t,error:a}=await T.from("sales").select(`
        id,
        total,
        created_at,
        items:sale_items(product_name, quantity, subtotal_ttc),
        vendor:vendors(first_name, last_name)
      `).eq("client_id",r).order("created_at",{ascending:!1}).limit(500);if(a)throw a;f.value=t||[]}catch(t){console.error("Erreur chargement ventes client:",t),f.value=[]}finally{z.value=!1}};let A=null;R(j,()=>{A&&clearTimeout(A),A=setTimeout(()=>{g.value=1,h()},300)}),R([g,w],()=>h()),R(g,()=>J(),{immediate:!0});const oe=r=>{o.value=r,le(r.id),ae(r.id)},Q=()=>{o.value=null,f.value=[]},de=r=>{s.value={id:r.id,first_name:r.first_name,last_name:r.last_name,phone:r.phone,phone2:r.phone2||"",email:r.email||"",address:r.address||"",city:r.city||"",postal_code:r.postal_code||"",birth_date:r.birth_date||"",notes:r.notes||""},M.value=!0},ne=async()=>{if(s.value.id)try{const{error:r}=await T.from("clients").update({first_name:s.value.first_name,last_name:s.value.last_name,phone:s.value.phone,phone2:s.value.phone2||null,email:s.value.email||null,address:s.value.address||null,city:s.value.city||null,postal_code:s.value.postal_code||null,birth_date:s.value.birth_date||null,notes:s.value.notes||null}).eq("id",s.value.id);if(r)throw r;if(await h(),o.value?.id===s.value.id){const t=S.value.find(a=>a.id===s.value.id);t?o.value=t:o.value={...o.value,...s.value}}M.value=!1,alert("Client mis à jour !")}catch(r){console.error("Erreur mise à jour:",r),alert("Erreur lors de la mise à jour")}},ie=async()=>{if(o.value)try{const{error:r}=await T.from("clients").delete().eq("id",o.value.id);if(r)throw r;Q(),await h(),U.value=!1,alert("Client supprimé !")}catch(r){console.error("Erreur suppression:",r),alert("Erreur lors de la suppression")}},F=r=>r?new Date(r).toLocaleDateString("fr-FR"):"-";return ce(h),(r,t)=>(n(),d("main",$e,[e("div",{class:E(["flex-1 flex flex-col min-w-0 bg-white dark:bg-gray-800 overflow-hidden transition-all duration-200",o.value?"lg:mr-[450px]":""])},[e("div",qe,[e("div",Ee,[e("div",null,[t[22]||(t[22]=e("h1",{class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white"},"Clients",-1)),e("p",Te,l(m.value)+" clients enregistrés",1)]),e("button",{onClick:h,disabled:_.value,class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"},[i(u(K),{class:E(["w-5 h-5",_.value&&"animate-spin"])},null,8,["class"])],8,De)]),e("div",ze,[i(u(_e),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>j.value=a),type:"text",placeholder:"Rechercher par nom, téléphone, email...",class:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 rounded-xl text-sm focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500 focus:ring-2 focus:ring-gray-900/10 dark:focus:ring-emerald-500/30"},null,512),[[p,j.value]])]),e("div",Le,[m.value>0?(n(),d("p",Ne,l(N.value.from)+"-"+l(N.value.to)+" sur "+l(N.value.total)+" clients ",1)):v("",!0),e("div",Ae,[t[23]||(t[23]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Par page",-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>w.value=a),class:"px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm dark:text-gray-100"},[(n(),d(V,null,P(te,a=>e("option",{key:a,value:a},l(a),9,Fe)),64))],512),[[xe,w.value,void 0,{number:!0}]])])])]),e("div",Ie,[_.value?(n(),d("div",Re,[i(u(K),{class:"w-8 h-8 text-gray-400 dark:text-gray-500 animate-spin mx-auto"})])):S.value.length===0?(n(),d("div",Be,[i(u(ke),{class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto"}),t[24]||(t[24]=e("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"Aucun client trouvé",-1))])):(n(),d("div",He,[(n(!0),d(V,null,P(S.value,a=>(n(),d("button",{key:a.id,onClick:y=>oe(a),class:E(["w-full px-4 lg:px-6 py-4 flex items-center gap-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",o.value?.id===a.id&&"bg-blue-50 dark:bg-emerald-900/30 hover:bg-blue-50 dark:hover:bg-emerald-900/30"])},[e("div",Je,[e("span",Oe,l(a.first_name[0])+l(a.last_name[0]),1)]),e("div",Qe,[e("p",Xe,l(a.first_name)+" "+l(a.last_name),1),e("p",Ge,l(a.phone),1)]),i(u(G),{class:"w-5 h-5 text-gray-400 dark:text-gray-500 flex-shrink-0"})],10,Ke))),128))])),!_.value&&m.value>0?(n(),d("div",We,[e("div",Ye,[t[25]||(t[25]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Page",-1)),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>$.value=a),type:"number",min:"1",max:k.value,onKeydown:be(O,["enter"]),onBlur:O,class:"w-16 px-2 py-1.5 text-sm text-center bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-emerald-500"},null,40,Ze),[[p,$.value]]),e("span",et,"/ "+l(k.value),1)]),e("div",tt,[e("button",{disabled:g.value<=1,onClick:t[3]||(t[3]=a=>C(1)),title:"Première page",class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[i(u(we),{class:"w-5 h-5"})],8,at),e("button",{disabled:g.value<=1,onClick:t[4]||(t[4]=a=>C(g.value-1)),class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[i(u(Ce),{class:"w-5 h-5"})],8,rt),e("div",st,[(n(!0),d(V,null,P(se.value,a=>(n(),d("button",{key:a,onClick:y=>C(a),class:E(["min-w-[2.25rem] px-2 py-1.5 text-sm font-medium rounded-lg transition-colors",g.value===a?"bg-gray-900 dark:bg-emerald-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"])},l(a),11,lt))),128))]),e("button",{disabled:g.value>=k.value,onClick:t[5]||(t[5]=a=>C(g.value+1)),class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[i(u(G),{class:"w-5 h-5"})],8,ot),e("button",{disabled:g.value>=k.value,onClick:t[6]||(t[6]=a=>C(k.value)),title:"Dernière page",class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[i(u(Se),{class:"w-5 h-5"})],8,dt)])])):v("",!0)])],2),i(H,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"translate-x-full opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-full opacity-0"},{default:B(()=>[o.value?(n(),d("div",nt,[e("div",it,[e("div",ut,[e("div",gt,[e("span",yt,l(o.value.first_name[0])+l(o.value.last_name[0]),1)]),e("div",null,[e("h2",ct,l(o.value.first_name)+" "+l(o.value.last_name),1),e("p",xt,"Client depuis "+l(F(o.value.created_at)),1)])]),e("button",{onClick:Q,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"},[i(u(W),{class:"w-5 h-5"})])]),e("div",bt,[e("div",pt,[e("div",vt,[i(u(pe),{class:"w-5 h-5 text-gray-400 dark:text-gray-500 mx-auto"}),e("p",mt,l(L.value.totalSpent.toFixed(0))+"€",1),t[26]||(t[26]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Total dépensé",-1))]),e("div",ft,[i(u(Me),{class:"w-5 h-5 text-gray-400 dark:text-gray-500 mx-auto"}),e("p",kt,l(L.value.visitCount),1),t[27]||(t[27]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Visites",-1))]),e("div",ht,[i(u(Ue),{class:"w-5 h-5 text-gray-400 dark:text-gray-500 mx-auto"}),e("p",_t,l(L.value.loyaltyPoints),1),t[28]||(t[28]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Points",-1))])]),e("div",wt,[t[30]||(t[30]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider"},"Coordonnées",-1)),e("div",Ct,[e("div",St,[i(u(Z),{class:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",Mt,l(o.value.phone),1)]),o.value.phone2?(n(),d("div",Vt,[i(u(Z),{class:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",Pt,l(o.value.phone2),1)])):v("",!0),o.value.email?(n(),d("div",jt,[i(u(Ve),{class:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",Ut,l(o.value.email),1)])):v("",!0),o.value.address?(n(),d("div",$t,[i(u(he),{class:"w-4 h-4 text-gray-400 dark:text-gray-500 mt-0.5"}),e("span",qt,[D(l(o.value.address),1),t[29]||(t[29]=e("br",null,null,-1)),D(" "+l(o.value.postal_code)+" "+l(o.value.city),1)])])):v("",!0),o.value.birth_date?(n(),d("div",Et,[i(u(Pe),{class:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",Tt,l(F(o.value.birth_date)),1)])):v("",!0)]),o.value.notes?(n(),d("div",Dt,l(o.value.notes),1)):v("",!0)]),e("div",zt,[e("h3",Lt,[i(u(ve),{class:"w-4 h-4"}),t[31]||(t[31]=D(" Historique des achats ",-1))]),z.value?(n(),d("div",Nt,[i(u(K),{class:"w-5 h-5 text-gray-400 dark:text-gray-500 animate-spin mx-auto"})])):f.value.length===0?(n(),d("div",At," Aucun achat enregistré ")):(n(),d("div",Ft,[(n(!0),d(V,null,P(f.value,a=>(n(),d("div",{key:a.id,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3"},[e("div",It,[e("span",Rt,l(F(a.created_at)),1),e("span",Bt,l(a.total.toFixed(2))+"€",1)]),a.items?.length?(n(),d("ul",Ht,[(n(!0),d(V,null,P(a.items,(y,c)=>(n(),d("li",{key:c},l(y.quantity)+"× "+l(y.product_name),1))),128))])):(n(),d("p",Kt,"Détails non disponibles"))]))),128))]))])]),e("div",Jt,[e("button",{onClick:t[7]||(t[7]=a=>de(o.value)),class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800 transition-colors"},[i(u(je),{class:"w-4 h-4"}),t[32]||(t[32]=D(" Modifier ",-1))]),e("button",{onClick:t[8]||(t[8]=a=>U.value=!0),class:"px-4 py-2.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-colors"},[i(u(Y),{class:"w-4 h-4"})])])])):v("",!0)]),_:1}),i(H,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:B(()=>[M.value?(n(),d("div",Ot,[e("div",Qt,[e("div",Xt,[t[33]||(t[33]=e("h3",{class:"text-lg font-bold text-gray-900"},"Modifier le client",-1)),e("button",{onClick:t[9]||(t[9]=a=>M.value=!1),class:"p-2 hover:bg-gray-100 rounded-lg"},[i(u(W),{class:"w-5 h-5 text-gray-500"})])]),e("form",{onSubmit:me(ne,["prevent"]),class:"p-6 space-y-4"},[e("div",Gt,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Prénom",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>s.value.first_name=a),type:"text",required:"",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.first_name]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Nom",-1)),b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>s.value.last_name=a),type:"text",required:"",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.last_name]])])]),e("div",Wt,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Téléphone",-1)),b(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>s.value.phone=a),type:"tel",required:"",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.phone]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Tél. 2",-1)),b(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>s.value.phone2=a),type:"tel",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.phone2]])])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Email",-1)),b(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>s.value.email=a),type:"email",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.email]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Adresse",-1)),b(e("input",{"onUpdate:modelValue":t[15]||(t[15]=a=>s.value.address=a),type:"text",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.address]])]),e("div",Yt,[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Ville",-1)),b(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>s.value.city=a),type:"text",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.city]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Code postal",-1)),b(e("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>s.value.postal_code=a),type:"text",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.postal_code]])])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Date de naissance",-1)),b(e("input",{"onUpdate:modelValue":t[18]||(t[18]=a=>s.value.birth_date=a),type:"date",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500"},null,512),[[p,s.value.birth_date]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase mb-1"},"Notes",-1)),b(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=a=>s.value.notes=a),rows:"2",class:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-xl focus:outline-none focus:border-gray-900 dark:focus:border-emerald-500 resize-none"},null,512),[[p,s.value.notes]])]),e("div",Zt,[e("button",{type:"button",onClick:t[20]||(t[20]=a=>M.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),t[44]||(t[44]=e("button",{type:"submit",class:"flex-1 px-4 py-2.5 bg-gray-900 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white rounded-xl hover:bg-gray-800"}," Enregistrer ",-1))])],32)])])):v("",!0)]),_:1}),i(H,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:B(()=>[U.value?(n(),d("div",ea,[e("div",ta,[e("div",aa,[i(u(Y),{class:"w-6 h-6 text-red-600"})]),t[45]||(t[45]=e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},"Supprimer ce client ?",-1)),e("p",ra,l(o.value?.first_name)+" "+l(o.value?.last_name)+" sera définitivement supprimé. ",1),e("div",sa,[e("button",{onClick:t[21]||(t[21]=a=>U.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 dark:text-gray-200 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700"}," Annuler "),e("button",{onClick:ie,class:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700"}," Supprimer ")])])])):v("",!0)]),_:1})]))}});export{va as default};
